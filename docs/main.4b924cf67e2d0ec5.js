(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{Am:()=>vn,Bd:()=>T,FA:()=>q,Fy:()=>Ye,I9:()=>Qt,Im:()=>pe,Ku:()=>Eo,Ll:()=>U,T9:()=>Ne,Uj:()=>Ze,XA:()=>Ue,ZQ:()=>S,bD:()=>zt,cY:()=>Pe,eX:()=>D,g:()=>ye,gR:()=>Ee,hp:()=>Qn,jZ:()=>N,lT:()=>ze,lV:()=>J,nr:()=>Te,sr:()=>ee,tD:()=>mr,u:()=>te,zW:()=>O,zw:()=>Ie});const z=function(F){const M=[];let L=0;for(let we=0;we<F.length;we++){let K=F.charCodeAt(we);K<128?M[L++]=K:K<2048?(M[L++]=K>>6|192,M[L++]=63&K|128):55296==(64512&K)&&we+1<F.length&&56320==(64512&F.charCodeAt(we+1))?(K=65536+((1023&K)<<10)+(1023&F.charCodeAt(++we)),M[L++]=K>>18|240,M[L++]=K>>12&63|128,M[L++]=K>>6&63|128,M[L++]=63&K|128):(M[L++]=K>>12|224,M[L++]=K>>6&63|128,M[L++]=63&K|128)}return M},qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,M){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let K=0;K<F.length;K+=3){const rt=F[K],ut=K+1<F.length,Gt=ut?F[K+1]:0,xn=K+2<F.length,St=xn?F[K+2]:0;let ie=(15&Gt)<<2|St>>6,Xr=63&St;xn||(Xr=64,ut||(ie=64)),we.push(L[rt>>2],L[(3&rt)<<4|Gt>>4],L[ie],L[Xr])}return we.join("")},encodeString(F,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(F):this.encodeByteArray(z(F),M)},decodeString(F,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(F):function(F){const M=[];let L=0,we=0;for(;L<F.length;){const K=F[L++];if(K<128)M[we++]=String.fromCharCode(K);else if(K>191&&K<224){const rt=F[L++];M[we++]=String.fromCharCode((31&K)<<6|63&rt)}else if(K>239&&K<365){const xn=((7&K)<<18|(63&F[L++])<<12|(63&F[L++])<<6|63&F[L++])-65536;M[we++]=String.fromCharCode(55296+(xn>>10)),M[we++]=String.fromCharCode(56320+(1023&xn))}else{const rt=F[L++],ut=F[L++];M[we++]=String.fromCharCode((15&K)<<12|(63&rt)<<6|63&ut)}}return M.join("")}(this.decodeStringToByteArray(F,M))},decodeStringToByteArray(F,M){this.init_();const L=M?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let K=0;K<F.length;){const rt=L[F.charAt(K++)],Gt=K<F.length?L[F.charAt(K)]:0;++K;const St=K<F.length?L[F.charAt(K)]:64;++K;const Jt=K<F.length?L[F.charAt(K)]:64;if(++K,null==rt||null==Gt||null==St||null==Jt)throw new H;we.push(rt<<2|Gt>>4),64!==St&&(we.push(Gt<<4&240|St>>2),64!==Jt&&we.push(St<<6&192|Jt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(F){return function(F){const M=z(F);return qe.encodeByteArray(M,!0)}(F).replace(/\./g,"")},te=function(F){try{return qe.decodeString(F,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function Ie(F,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return M}for(const L in M)!M.hasOwnProperty(L)||!ue(L)||(F[L]=Ie(F[L],M[L]));return F}function ue(F){return"__proto__"!==F}const G=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=F&&te(F[1]);return M&&JSON.parse(M)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ne=()=>{var F;return null===(F=G())||void 0===F?void 0:F.config},Ue=F=>{var M;return null===(M=G())||void 0===M?void 0:M[`_${F}`]};class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,L)=>{this.resolve=M,this.reject=L})}wrapCallback(M){return(L,we)=>{L?this.reject(L):this.resolve(we),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(L):M(L,we))}}}function Ye(F,M){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=M||"demo-project",K=F.iat||0,rt=F.sub||F.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:K,exp:K+3600,auth_time:K,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(ut)),""].join(".")}function S(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function U(){var F;const M=null===(F=G())||void 0===F?void 0:F.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function T(){return"object"==typeof self&&self.self===self}function ee(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){const F=S();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Te(){return!U()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"==typeof indexedDB}catch{return!1}}function D(){return new Promise((F,M)=>{try{let L=!0;const we="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(we);K.onsuccess=()=>{K.result.close(),L||self.indexedDB.deleteDatabase(we),F(!0)},K.onupgradeneeded=()=>{L=!1},K.onerror=()=>{var rt;M((null===(rt=K.error)||void 0===rt?void 0:rt.message)||"")}}catch(L){M(L)}})}class ye extends Error{constructor(M,L,we){super(L),this.code=M,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(M,L,we){this.service=M,this.serviceName=L,this.errors=we}create(M,...L){const we=L[0]||{},K=`${this.service}/${M}`,rt=this.errors[M],ut=rt?function Me(F,M){return F.replace(at,(L,we)=>{const K=M[we];return null!=K?String(K):`<${we}?>`})}(rt,we):"Error";return new ye(K,`${this.serviceName}: ${ut} (${K}).`,we)}}const at=/\{\$([^}]+)}/g;function Ee(F,M){return Object.prototype.hasOwnProperty.call(F,M)}function pe(F){for(const M in F)if(Object.prototype.hasOwnProperty.call(F,M))return!1;return!0}function zt(F,M){if(F===M)return!0;const L=Object.keys(F),we=Object.keys(M);for(const K of L){if(!we.includes(K))return!1;const rt=F[K],ut=M[K];if(pn(rt)&&pn(ut)){if(!zt(rt,ut))return!1}else if(rt!==ut)return!1}for(const K of we)if(!L.includes(K))return!1;return!0}function pn(F){return null!==F&&"object"==typeof F}function vn(F){const M=[];for(const[L,we]of Object.entries(F))Array.isArray(we)?we.forEach(K=>{M.push(encodeURIComponent(L)+"="+encodeURIComponent(K))}):M.push(encodeURIComponent(L)+"="+encodeURIComponent(we));return M.length?"&"+M.join("&"):""}function Qt(F){const M={};return F.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[K,rt]=we.split("=");M[decodeURIComponent(K)]=decodeURIComponent(rt)}}),M}function Qn(F){const M=F.indexOf("?");if(!M)return"";const L=F.indexOf("#",M);return F.substring(M,L>0?L:void 0)}function mr(F,M){const L=new Br(F,M);return L.subscribe.bind(L)}class Br{constructor(M,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{M(this)}).catch(we=>{this.error(we)})}next(M){this.forEachObserver(L=>{L.next(M)})}error(M){this.forEachObserver(L=>{L.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,L,we){let K;if(void 0===M&&void 0===L&&void 0===we)throw new Error("Missing Observer.");K=function fi(F,M){if("object"!=typeof F||null===F)return!1;for(const L of M)if(L in F&&"function"==typeof F[L])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:L,complete:we},void 0===K.next&&(K.next=si),void 0===K.error&&(K.error=si),void 0===K.complete&&(K.complete=si);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),rt}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,M)}sendOne(M,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{L(this.observers[M])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function si(){}function Eo(F){return F&&F._delegate?F._delegate:F}},1656:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{c:()=>_e,r:()=>W});const _e=(S,N)=>{S.componentOnReady?S.componentOnReady().then(U=>N(U)):W(()=>N(S))},W=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S)},6031:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{L:()=>y,a:()=>Fe,b:()=>_e,c:()=>z,d:()=>bt,g:()=>S});const y="ionViewWillEnter",Fe="ionViewDidEnter",_e="ionViewWillLeave",z="ionViewDidLeave",bt="ionViewWillUnload",S=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},3503:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{c:()=>Se});var y=ae(8476),Fe=ae(5638);let _e;const bt=Z=>Z.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qe=Z=>(void 0===_e&&(_e=void 0===Z.style.animationName&&void 0!==Z.style.webkitAnimationName?"-webkit-":""),_e),H=(Z,G,X)=>{const ke=G.startsWith("animation")?qe(Z):"";Z.style.setProperty(ke+G,X)},We=(Z,G)=>{const X=G.startsWith("animation")?qe(Z):"";Z.style.removeProperty(X+G)},W=[],Ce=(Z=[],G)=>{if(void 0!==G){const X=Array.isArray(G)?G:[G];return[...Z,...X]}return Z},Se=Z=>{let G,X,ke,Ne,Ue,Pe,T,O,D,x,j,at,Je,Ye=[],S=[],N=[],U=!1,ee={},J=[],de=[],ze={},It=0,nn=!1,Te=!1,ye=!0,q=!1,Me=!0,Et=!1;const Mt=Z,hn=[],gt=[],fn=[],Ht=[],Ee=[],le=[],pe=[],mt=[],zt=[],pn=[],rn=[],vn="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Qt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vn,Ln=()=>rn,si=(ce,I)=>{const b=I.findIndex(k=>k.c===ce);b>-1&&I.splice(b,1)},pi=(ce,I)=>((null!=I&&I.oneTimeCallback?gt:hn).push({c:ce,o:I}),Je),ro=()=>{if(Qt)rn.forEach(ce=>{ce.cancel()}),rn.length=0;else{const ce=Ht.slice();(0,Fe.r)(()=>{ce.forEach(I=>{We(I,"animation-name"),We(I,"animation-duration"),We(I,"animation-timing-function"),We(I,"animation-iteration-count"),We(I,"animation-delay"),We(I,"animation-play-state"),We(I,"animation-fill-mode"),We(I,"animation-direction")})})}},br=()=>{le.forEach(ce=>{null!=ce&&ce.parentNode&&ce.parentNode.removeChild(ce)}),le.length=0},M=()=>void 0!==Ue?Ue:T?T.getFill():"both",L=()=>void 0!==D?D:void 0!==Pe?Pe:T?T.getDirection():"normal",we=()=>nn?"linear":void 0!==ke?ke:T?T.getEasing():"linear",K=()=>Te?0:void 0!==x?x:void 0!==X?X:T?T.getDuration():0,rt=()=>void 0!==Ne?Ne:T?T.getIterations():1,ut=()=>void 0!==j?j:void 0!==G?G:T?T.getDelay():0,ne=()=>{0!==It&&(It--,0===It&&((()=>{Hs(),zt.forEach($=>$()),pn.forEach($=>$());const ce=ye?1:0,I=J,b=de,k=ze;Ht.forEach($=>{const he=$.classList;I.forEach(re=>he.add(re)),b.forEach(re=>he.remove(re));for(const re in k)k.hasOwnProperty(re)&&H($,re,k[re])}),x=void 0,D=void 0,j=void 0,hn.forEach($=>$.c(ce,Je)),gt.forEach($=>$.c(ce,Je)),gt.length=0,Me=!0,ye&&(q=!0),ye=!0})(),T&&T.animationFinish()))},Q=(ce=!0)=>{br();const I=(Z=>(Z.forEach(G=>{for(const X in G)if(G.hasOwnProperty(X)){const ke=G[X];if("easing"===X)G["animation-timing-function"]=ke,delete G[X];else{const Ne=bt(X);Ne!==X&&(G[Ne]=ke,delete G[X])}}}),Z))(Ye);Ht.forEach(b=>{if(I.length>0){const k=((Z=[])=>Z.map(G=>{const X=G.offset,ke=[];for(const Ne in G)G.hasOwnProperty(Ne)&&"offset"!==Ne&&ke.push(`${Ne}: ${G[Ne]};`);return`${100*X}% { ${ke.join(" ")} }`}).join(" "))(I);at=void 0!==Z?Z:(Z=>{let G=W.indexOf(Z);return G<0&&(G=W.push(Z)-1),`ion-animation-${G}`})(k);const $=((Z,G,X)=>{var ke;const Ne=(Z=>{const G=void 0!==Z.getRootNode?Z.getRootNode():Z;return G.head||G})(X),Ue=qe(X),Pe=Ne.querySelector("#"+Z);if(Pe)return Pe;const Ye=(null!==(ke=X.ownerDocument)&&void 0!==ke?ke:document).createElement("style");return Ye.id=Z,Ye.textContent=`@${Ue}keyframes ${Z} { ${G} } @${Ue}keyframes ${Z}-alt { ${G} }`,Ne.appendChild(Ye),Ye})(at,k,b);le.push($),H(b,"animation-duration",`${K()}ms`),H(b,"animation-timing-function",we()),H(b,"animation-delay",`${ut()}ms`),H(b,"animation-fill-mode",M()),H(b,"animation-direction",L());const he=rt()===1/0?"infinite":rt().toString();H(b,"animation-iteration-count",he),H(b,"animation-play-state","paused"),ce&&H(b,"animation-name",`${$.id}-alt`),(0,Fe.r)(()=>{H(b,"animation-name",$.id||null)})}})},st=(ce=!0)=>{(()=>{pe.forEach(k=>k()),mt.forEach(k=>k());const ce=S,I=N,b=ee;Ht.forEach(k=>{const $=k.classList;ce.forEach(he=>$.add(he)),I.forEach(he=>$.remove(he));for(const he in b)b.hasOwnProperty(he)&&H(k,he,b[he])})})(),Ye.length>0&&(Qt?(Ht.forEach(ce=>{const I=ce.animate(Ye,{id:Mt,delay:ut(),duration:K(),easing:we(),iterations:rt(),fill:M(),direction:L()});I.pause(),rn.push(I)}),rn.length>0&&(rn[0].onfinish=()=>{ne()})):Q(ce)),U=!0},Rt=ce=>{if(ce=Math.min(Math.max(ce,0),.9999),Qt)rn.forEach(I=>{I.currentTime=I.effect.getComputedTiming().delay+K()*ce,I.pause()});else{const I=`-${K()*ce}ms`;Ht.forEach(b=>{Ye.length>0&&(H(b,"animation-delay",I),H(b,"animation-play-state","paused"))})}},qt=ce=>{rn.forEach(I=>{I.effect.updateTiming({delay:ut(),duration:K(),easing:we(),iterations:rt(),fill:M(),direction:L()})}),void 0!==ce&&Rt(ce)},vt=(ce=!0,I)=>{(0,Fe.r)(()=>{Ht.forEach(b=>{H(b,"animation-name",at||null),H(b,"animation-duration",`${K()}ms`),H(b,"animation-timing-function",we()),H(b,"animation-delay",void 0!==I?`-${I*K()}ms`:`${ut()}ms`),H(b,"animation-fill-mode",M()||null),H(b,"animation-direction",L()||null);const k=rt()===1/0?"infinite":rt().toString();H(b,"animation-iteration-count",k),ce&&H(b,"animation-name",`${at}-alt`),(0,Fe.r)(()=>{H(b,"animation-name",at||null)})})})},un=(ce=!1,I=!0,b)=>(ce&&Ee.forEach(k=>{k.update(ce,I,b)}),Qt?qt(b):vt(I,b),Je),Lt=()=>{U&&(Qt?rn.forEach(ce=>{ce.pause()}):Ht.forEach(ce=>{H(ce,"animation-play-state","paused")}),Et=!0)},qn=()=>{O=void 0,ne()},Hs=()=>{O&&clearTimeout(O)},bl=ce=>new Promise(I=>{null!=ce&&ce.sync&&(Te=!0,pi(()=>Te=!1,{oneTimeCallback:!0})),U||st(),q&&(Qt?(Rt(0),qt()):vt(),q=!1),Me&&(It=Ee.length+1,Me=!1);const b=()=>{si(k,gt),I()},k=()=>{si(b,fn),I()};pi(k,{oneTimeCallback:!0}),((ce,I)=>{fn.push({c:ce,o:{oneTimeCallback:!0}})})(b),Ee.forEach($=>{$.play()}),Qt?(rn.forEach(ce=>{ce.play()}),(0===Ye.length||0===Ht.length)&&ne()):(()=>{if(Hs(),(0,Fe.r)(()=>{Ht.forEach(ce=>{Ye.length>0&&H(ce,"animation-play-state","running")})}),0===Ye.length||0===Ht.length)ne();else{const ce=ut()||0,I=K()||0,b=rt()||1;isFinite(b)&&(O=setTimeout(qn,ce+I*b+100)),((Z,G)=>{let X;const ke={passive:!0},Ue=Pe=>{Z===Pe.target&&(X&&X(),Hs(),(0,Fe.r)(()=>{Ht.forEach(ce=>{We(ce,"animation-duration"),We(ce,"animation-delay"),We(ce,"animation-play-state")}),(0,Fe.r)(ne)}))};Z&&(Z.addEventListener("webkitAnimationEnd",Ue,ke),Z.addEventListener("animationend",Ue,ke),X=()=>{Z.removeEventListener("webkitAnimationEnd",Ue,ke),Z.removeEventListener("animationend",Ue,ke)})})(Ht[0])}})(),Et=!1}),zs=(ce,I)=>{const b=Ye[0];return void 0===b||void 0!==b.offset&&0!==b.offset?Ye=[{offset:0,[ce]:I},...Ye]:b[ce]=I,Je};return Je={parentAnimation:T,elements:Ht,childAnimations:Ee,id:Mt,animationFinish:ne,from:zs,to:(ce,I)=>{const b=Ye[Ye.length-1];return void 0===b||void 0!==b.offset&&1!==b.offset?Ye=[...Ye,{offset:1,[ce]:I}]:b[ce]=I,Je},fromTo:(ce,I,b)=>zs(ce,I).to(ce,b),parent:ce=>(T=ce,Je),play:bl,pause:()=>(Ee.forEach(ce=>{ce.pause()}),Lt(),Je),stop:()=>{Ee.forEach(ce=>{ce.stop()}),U&&(ro(),U=!1),nn=!1,Te=!1,Me=!0,D=void 0,x=void 0,j=void 0,It=0,q=!1,ye=!0,Et=!1,fn.forEach(ce=>ce.c(0,Je)),fn.length=0},destroy:ce=>(Ee.forEach(I=>{I.destroy(ce)}),(ce=>{ro(),ce&&br()})(ce),Ht.length=0,Ee.length=0,Ye.length=0,hn.length=0,gt.length=0,U=!1,Me=!0,Je),keyframes:ce=>{const I=Ye!==ce;return Ye=ce,I&&(ce=>{Qt?Ln().forEach(I=>{const b=I.effect;if(b.setKeyframes)b.setKeyframes(ce);else{const k=new KeyframeEffect(b.target,ce,b.getTiming());I.effect=k}}):Q()})(Ye),Je},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const I of ce)I.parent(Je),Ee.push(I);else ce.parent(Je),Ee.push(ce);return Je},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)Ht.push(ce);else if(ce.length>=0)for(let I=0;I<ce.length;I++)Ht.push(ce[I]);else console.error("Invalid addElement value");return Je},update:un,fill:ce=>(Ue=ce,un(!0),Je),direction:ce=>(Pe=ce,un(!0),Je),iterations:ce=>(Ne=ce,un(!0),Je),duration:ce=>(!Qt&&0===ce&&(ce=1),X=ce,un(!0),Je),easing:ce=>(ke=ce,un(!0),Je),delay:ce=>(G=ce,un(!0),Je),getWebAnimations:Ln,getKeyframes:()=>Ye,getFill:M,getDirection:L,getDelay:ut,getIterations:rt,getEasing:we,getDuration:K,afterAddRead:ce=>(zt.push(ce),Je),afterAddWrite:ce=>(pn.push(ce),Je),afterClearStyles:(ce=[])=>{for(const I of ce)ze[I]="";return Je},afterStyles:(ce={})=>(ze=ce,Je),afterRemoveClass:ce=>(de=Ce(de,ce),Je),afterAddClass:ce=>(J=Ce(J,ce),Je),beforeAddRead:ce=>(pe.push(ce),Je),beforeAddWrite:ce=>(mt.push(ce),Je),beforeClearStyles:(ce=[])=>{for(const I of ce)ee[I]="";return Je},beforeStyles:(ce={})=>(ee=ce,Je),beforeRemoveClass:ce=>(N=Ce(N,ce),Je),beforeAddClass:ce=>(S=Ce(S,ce),Je),onFinish:pi,isRunning:()=>0!==It&&!Et,progressStart:(ce=!1,I)=>(Ee.forEach(b=>{b.progressStart(ce,I)}),Lt(),nn=ce,U||st(),un(!1,!0,I),Je),progressStep:ce=>(Ee.forEach(I=>{I.progressStep(ce)}),Rt(ce),Je),progressEnd:(ce,I,b)=>(nn=!1,Ee.forEach(k=>{k.progressEnd(ce,I,b)}),void 0!==b&&(x=b),q=!1,ye=!0,0===ce?(D="reverse"===L()?"normal":"reverse","reverse"===D&&(ye=!1),Qt?(un(),Rt(1-I)):(j=(1-I)*K()*-1,un(!1,!1))):1===ce&&(Qt?(un(),Rt(I)):(j=I*K()*-1,un(!1,!1))),void 0!==ce&&!T&&bl(),Je)}}},464:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{E:()=>te,a:()=>y,s:()=>We});const y=W=>{try{if(W instanceof H)return W.value;if(!z()||"string"!=typeof W||""===W)return W;if(W.includes("onload="))return"";const Ie=document.createDocumentFragment(),ue=document.createElement("div");Ie.appendChild(ue),ue.innerHTML=W,qe.forEach(Z=>{const G=Ie.querySelectorAll(Z);for(let X=G.length-1;X>=0;X--){const ke=G[X];ke.parentNode?ke.parentNode.removeChild(ke):Ie.removeChild(ke);const Ne=_e(ke);for(let Ue=0;Ue<Ne.length;Ue++)Fe(Ne[Ue])}});const ve=_e(Ie);for(let Z=0;Z<ve.length;Z++)Fe(ve[Z]);const Ce=document.createElement("div");Ce.appendChild(Ie);const Se=Ce.querySelector("div");return null!==Se?Se.innerHTML:Ce.innerHTML}catch(Ie){return console.error(Ie),""}},Fe=W=>{if(W.nodeType&&1!==W.nodeType)return;if(typeof NamedNodeMap<"u"&&!(W.attributes instanceof NamedNodeMap))return void W.remove();for(let ue=W.attributes.length-1;ue>=0;ue--){const ve=W.attributes.item(ue),Ce=ve.name;if(!bt.includes(Ce.toLowerCase())){W.removeAttribute(Ce);continue}const Se=ve.value,Z=W[Ce];(null!=Se&&Se.toLowerCase().includes("javascript:")||null!=Z&&Z.toLowerCase().includes("javascript:"))&&W.removeAttribute(Ce)}const Ie=_e(W);for(let ue=0;ue<Ie.length;ue++)Fe(Ie[ue])},_e=W=>null!=W.children?W.children:W.childNodes,z=()=>{var W;const Ie=window,ue=null===(W=null==Ie?void 0:Ie.Ionic)||void 0===W?void 0:W.config;return!ue||(ue.get?ue.get("sanitizerEnabled",!0):!0===ue.sanitizerEnabled||void 0===ue.sanitizerEnabled)},bt=["class","id","href","src","name","slot"],qe=["script","style","iframe","meta","link","object","embed"];class H{constructor(Ie){this.value=Ie}}const We=W=>{const Ie=window,ue=Ie.Ionic;if(!ue||!ue.config||"Object"===ue.config.constructor.name)return Ie.Ionic=Ie.Ionic||{},Ie.Ionic.config=Object.assign(Object.assign({},Ie.Ionic.config),W),Ie.Ionic.config},te=!1},5938:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{C:()=>bt,a:()=>_e,d:()=>z});var y=ae(467),Fe=ae(5638);const _e=function(){var qe=(0,y.A)(function*(H,We,Ze,te,W,Ie){var ue;if(H)return H.attachViewToDom(We,Ze,W,te);if(!(Ie||"string"==typeof Ze||Ze instanceof HTMLElement))throw new Error("framework delegate is missing");const ve="string"==typeof Ze?null===(ue=We.ownerDocument)||void 0===ue?void 0:ue.createElement(Ze):Ze;return te&&te.forEach(Ce=>ve.classList.add(Ce)),W&&Object.assign(ve,W),We.appendChild(ve),yield new Promise(Ce=>(0,Fe.c)(ve,Ce)),ve});return function(We,Ze,te,W,Ie,ue){return qe.apply(this,arguments)}}(),z=(qe,H)=>{if(H){if(qe)return qe.removeViewFromDom(H.parentElement,H);H.remove()}return Promise.resolve()},bt=()=>{let qe,H;return{attachViewToDom:function(){var te=(0,y.A)(function*(W,Ie,ue={},ve=[]){var Ce,Se;let Z;if(qe=W,Ie){const X="string"==typeof Ie?null===(Ce=qe.ownerDocument)||void 0===Ce?void 0:Ce.createElement(Ie):Ie;ve.forEach(ke=>X.classList.add(ke)),Object.assign(X,ue),qe.appendChild(X),Z=X,yield new Promise(ke=>(0,Fe.c)(X,ke))}else if(qe.children.length>0&&("ION-MODAL"===qe.tagName||"ION-POPOVER"===qe.tagName)&&!(Z=qe.children[0]).classList.contains("ion-delegate-host")){const ke=null===(Se=qe.ownerDocument)||void 0===Se?void 0:Se.createElement("div");ke.classList.add("ion-delegate-host"),ve.forEach(Ne=>ke.classList.add(Ne)),ke.append(...qe.children),qe.appendChild(ke),Z=ke}const G=document.querySelector("ion-app")||document.body;return H=document.createComment("ionic teleport"),qe.parentNode.insertBefore(H,qe),G.appendChild(qe),null!=Z?Z:qe});return function(Ie,ue){return te.apply(this,arguments)}}(),removeViewFromDom:()=>(qe&&H&&(H.parentNode.insertBefore(qe,H),H.remove()),Promise.resolve())}}},8221:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{G:()=>bt});class Fe{constructor(H,We,Ze,te,W){this.id=We,this.name=Ze,this.disableScroll=W,this.priority=1e6*te+We,this.ctrl=H}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const H=this.ctrl.capture(this.name,this.id,this.priority);return H&&this.disableScroll&&this.ctrl.disableScroll(this.id),H}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class _e{constructor(H,We,Ze,te){this.id=We,this.disable=Ze,this.disableScroll=te,this.ctrl=H}block(){if(this.ctrl){if(this.disable)for(const H of this.disable)this.ctrl.disableGesture(H,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const H of this.disable)this.ctrl.enableGesture(H,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const z="backdrop-no-scroll",bt=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(H){var We;return new Fe(this,this.newID(),H.name,null!==(We=H.priority)&&void 0!==We?We:0,!!H.disableScroll)}createBlocker(H={}){return new _e(this,this.newID(),H.disable,!!H.disableScroll)}start(H,We,Ze){return this.canStart(H)?(this.requestedStart.set(We,Ze),!0):(this.requestedStart.delete(We),!1)}capture(H,We,Ze){if(!this.start(H,We,Ze))return!1;const te=this.requestedStart;let W=-1e4;if(te.forEach(Ie=>{W=Math.max(W,Ie)}),W===Ze){this.capturedId=We,te.clear();const Ie=new CustomEvent("ionGestureCaptured",{detail:{gestureName:H}});return document.dispatchEvent(Ie),!0}return te.delete(We),!1}release(H){this.requestedStart.delete(H),this.capturedId===H&&(this.capturedId=void 0)}disableGesture(H,We){let Ze=this.disabledGestures.get(H);void 0===Ze&&(Ze=new Set,this.disabledGestures.set(H,Ze)),Ze.add(We)}enableGesture(H,We){const Ze=this.disabledGestures.get(H);void 0!==Ze&&Ze.delete(We)}disableScroll(H){this.disabledScroll.add(H),1===this.disabledScroll.size&&document.body.classList.add(z)}enableScroll(H){this.disabledScroll.delete(H),0===this.disabledScroll.size&&document.body.classList.remove(z)}canStart(H){return!(void 0!==this.capturedId||this.isDisabled(H))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(H){const We=this.disabledGestures.get(H);return!!(We&&We.size>0)}newID(){return this.gestureId++,this.gestureId}}},6471:(Fn,Ot,ae)=>{"use strict";ae.r(Ot),ae.d(Ot,{MENU_BACK_BUTTON_PRIORITY:()=>Ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>We,blockHardwareBackButton:()=>qe,shouldUseCloseWatcher:()=>bt,startHardwareBackButton:()=>H});var y=ae(467),Fe=ae(8476),_e=ae(8886);ae(773);const bt=()=>_e.c.get("experimentalCloseWatcher",!1)&&void 0!==Fe.w&&"CloseWatcher"in Fe.w,qe=()=>{document.addEventListener("backbutton",()=>{})},H=()=>{const te=document;let W=!1;const Ie=()=>{if(W)return;let ue=0,ve=[];const Ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(G,X){ve.push({priority:G,handler:X,id:ue++})}}});te.dispatchEvent(Ce);const Se=function(){var G=(0,y.A)(function*(X){try{if(null!=X&&X.handler){const ke=X.handler(Z);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return G.apply(this,arguments)}}(),Z=()=>{if(ve.length>0){let G={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ve.forEach(X=>{X.priority>=G.priority&&(G=X)}),W=!0,ve=ve.filter(X=>X.id!==G.id),Se(G).then(()=>W=!1)}};Z()};if(bt()){let ue;const ve=()=>{null==ue||ue.destroy(),ue=new Fe.w.CloseWatcher,ue.onclose=()=>{Ie(),ve()}};ve()}else te.addEventListener("backbutton",Ie)},We=100,Ze=99},5638:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{a:()=>We,b:()=>Ze,c:()=>_e,d:()=>Se,e:()=>Ce,f:()=>ve,g:()=>te,h:()=>ue,i:()=>H,j:()=>Ue,k:()=>bt,l:()=>Z,m:()=>z,n:()=>Ie,o:()=>G,p:()=>Ne,q:()=>Pe,r:()=>W,s:()=>Ye,t:()=>y,u:()=>X,v:()=>ke});const y=(S,N=0)=>new Promise(U=>{Fe(S,N,U)}),Fe=(S,N=0,U)=>{let T,ee;const J={passive:!0},ze=()=>{T&&T()},It=nn=>{(void 0===nn||S===nn.target)&&(ze(),U(nn))};return S&&(S.addEventListener("webkitTransitionEnd",It,J),S.addEventListener("transitionend",It,J),ee=setTimeout(It,N+500),T=()=>{void 0!==ee&&(clearTimeout(ee),ee=void 0),S.removeEventListener("webkitTransitionEnd",It,J),S.removeEventListener("transitionend",It,J)}),ze},_e=(S,N)=>{S.componentOnReady?S.componentOnReady().then(U=>N(U)):W(()=>N(S))},z=S=>void 0!==S.componentOnReady,bt=(S,N=[])=>{const U={};return N.forEach(T=>{S.hasAttribute(T)&&(null!==S.getAttribute(T)&&(U[T]=S.getAttribute(T)),S.removeAttribute(T))}),U},qe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],H=(S,N)=>{let U=qe;return N&&N.length>0&&(U=U.filter(T=>!N.includes(T))),bt(S,U)},We=(S,N,U,T)=>{var ee;if(typeof window<"u"){const J=window,de=null===(ee=null==J?void 0:J.Ionic)||void 0===ee?void 0:ee.config;if(de){const ze=de.get("_ael");if(ze)return ze(S,N,U,T);if(de._ael)return de._ael(S,N,U,T)}}return S.addEventListener(N,U,T)},Ze=(S,N,U,T)=>{var ee;if(typeof window<"u"){const J=window,de=null===(ee=null==J?void 0:J.Ionic)||void 0===ee?void 0:ee.config;if(de){const ze=de.get("_rel");if(ze)return ze(S,N,U,T);if(de._rel)return de._rel(S,N,U,T)}}return S.removeEventListener(N,U,T)},te=(S,N=S)=>S.shadowRoot||N,W=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S),Ie=S=>!!S.shadowRoot&&!!S.attachShadow,ue=S=>{const N=S.closest("ion-item");return N?N.querySelector("ion-label"):null},ve=S=>{if(S.focus(),S.classList.contains("ion-focusable")){const N=S.closest("ion-app");N&&N.setFocus([S])}},Ce=(S,N)=>{let U;const T=S.getAttribute("aria-labelledby"),ee=S.id;let J=null!==T&&""!==T.trim()?T:N+"-lbl",de=null!==T&&""!==T.trim()?document.getElementById(T):ue(S);return de?(null===T&&(de.id=J),U=de.textContent,de.setAttribute("aria-hidden","true")):""!==ee.trim()&&(de=document.querySelector(`label[for="${ee}"]`),de&&(""!==de.id?J=de.id:de.id=J=`${ee}-lbl`,U=de.textContent)),{label:de,labelId:J,labelText:U}},Se=(S,N,U,T,ee)=>{if(S||Ie(N)){let J=N.querySelector("input.aux-input");J||(J=N.ownerDocument.createElement("input"),J.type="hidden",J.classList.add("aux-input"),N.appendChild(J)),J.disabled=ee,J.name=U,J.value=T||""}},Z=(S,N,U)=>Math.max(S,Math.min(N,U)),G=(S,N)=>{if(!S){const U="ASSERT: "+N;throw console.error(U),new Error(U)}},X=S=>S.timeStamp||Date.now(),ke=S=>{if(S){const N=S.changedTouches;if(N&&N.length>0){const U=N[0];return{x:U.clientX,y:U.clientY}}if(void 0!==S.pageX)return{x:S.pageX,y:S.pageY}}return{x:0,y:0}},Ne=S=>{const N="rtl"===document.dir;switch(S){case"start":return N;case"end":return!N;default:throw new Error(`"${S}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ue=(S,N)=>{const U=S._original||S;return{_original:S,emit:Pe(U.emit.bind(U),N)}},Pe=(S,N=0)=>{let U;return(...T)=>{clearTimeout(U),U=setTimeout(S,N,...T)}},Ye=(S,N)=>{if(null!=S||(S={}),null!=N||(N={}),S===N)return!0;const U=Object.keys(S);if(U.length!==Object.keys(N).length)return!1;for(const T of U)if(!(T in N)||S[T]!==N[T])return!1;return!0}},405:(Fn,Ot,ae)=>{"use strict";ae.r(Ot),ae.d(Ot,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>Ze});var y=ae(8221);const Fe=(ue,ve,Ce,Se)=>{const Z=_e(ue)?{capture:!!Se.capture,passive:!!Se.passive}:!!Se.capture;let G,X;return ue.__zone_symbol__addEventListener?(G="__zone_symbol__addEventListener",X="__zone_symbol__removeEventListener"):(G="addEventListener",X="removeEventListener"),ue[G](ve,Ce,Z),()=>{ue[X](ve,Ce,Z)}},_e=ue=>{if(void 0===z)try{const ve=Object.defineProperty({},"passive",{get:()=>{z=!0}});ue.addEventListener("optsTest",()=>{},ve)}catch{z=!1}return!!z};let z;const H=ue=>ue instanceof Document?ue:ue.ownerDocument,Ze=ue=>{let ve=!1,Ce=!1,Se=!0,Z=!1;const G=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ue),X=G.canStart,ke=G.onWillStart,Ne=G.onStart,Ue=G.onEnd,Pe=G.notCaptured,Ye=G.onMove,S=G.threshold,N=G.passive,U=G.blurOnStart,T={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ee=((ue,ve,Ce)=>{const Se=Ce*(Math.PI/180),Z="x"===ue,G=Math.cos(Se),X=ve*ve;let ke=0,Ne=0,Ue=!1,Pe=0;return{start(Ye,S){ke=Ye,Ne=S,Pe=0,Ue=!0},detect(Ye,S){if(!Ue)return!1;const N=Ye-ke,U=S-Ne,T=N*N+U*U;if(T<X)return!1;const ee=Math.sqrt(T),J=(Z?N:U)/ee;return Pe=J>G?1:J<-G?-1:0,Ue=!1,!0},isGesture:()=>0!==Pe,getDirection:()=>Pe}})(G.direction,G.threshold,G.maxAngle),J=y.G.createGesture({name:ue.gestureName,priority:ue.gesturePriority,disableScroll:ue.disableScroll}),It=()=>{ve&&(Z=!1,Ye&&Ye(T))},nn=()=>!!J.capture()&&(ve=!0,Se=!1,T.startX=T.currentX,T.startY=T.currentY,T.startTime=T.currentTime,ke?ke(T).then(O):O(),!0),O=()=>{U&&(()=>{if(typeof document<"u"){const q=document.activeElement;null!=q&&q.blur&&q.blur()}})(),Ne&&Ne(T),Se=!0},D=()=>{ve=!1,Ce=!1,Z=!1,Se=!0,J.release()},x=q=>{const Me=ve,at=Se;if(D(),at){if(te(T,q),Me)return void(Ue&&Ue(T));Pe&&Pe(T)}},j=((ue,ve,Ce,Se,Z)=>{let G,X,ke,Ne,Ue,Pe,Ye,S=0;const N=Te=>{S=Date.now()+2e3,ve(Te)&&(!X&&Ce&&(X=Fe(ue,"touchmove",Ce,Z)),ke||(ke=Fe(Te.target,"touchend",T,Z)),Ne||(Ne=Fe(Te.target,"touchcancel",T,Z)))},U=Te=>{S>Date.now()||ve(Te)&&(!Pe&&Ce&&(Pe=Fe(H(ue),"mousemove",Ce,Z)),Ye||(Ye=Fe(H(ue),"mouseup",ee,Z)))},T=Te=>{J(),Se&&Se(Te)},ee=Te=>{de(),Se&&Se(Te)},J=()=>{X&&X(),ke&&ke(),Ne&&Ne(),X=ke=Ne=void 0},de=()=>{Pe&&Pe(),Ye&&Ye(),Pe=Ye=void 0},ze=()=>{J(),de()},It=(Te=!0)=>{Te?(G||(G=Fe(ue,"touchstart",N,Z)),Ue||(Ue=Fe(ue,"mousedown",U,Z))):(G&&G(),Ue&&Ue(),G=Ue=void 0,ze())};return{enable:It,stop:ze,destroy:()=>{It(!1),Se=Ce=ve=void 0}}})(G.el,q=>{const Me=Ie(q);return!(Ce||!Se||(W(q,T),T.startX=T.currentX,T.startY=T.currentY,T.startTime=T.currentTime=Me,T.velocityX=T.velocityY=T.deltaX=T.deltaY=0,T.event=q,X&&!1===X(T))||(J.release(),!J.start()))&&(Ce=!0,0===S?nn():(ee.start(T.startX,T.startY),!0))},q=>{ve?!Z&&Se&&(Z=!0,te(T,q),requestAnimationFrame(It)):(te(T,q),ee.detect(T.currentX,T.currentY)&&(!ee.isGesture()||!nn())&&ye())},x,{capture:!1,passive:N}),ye=()=>{D(),j.stop(),Pe&&Pe(T)};return{enable(q=!0){q||(ve&&x(void 0),D()),j.enable(q)},destroy(){J.destroy(),j.destroy()}}},te=(ue,ve)=>{if(!ve)return;const Ce=ue.currentX,Se=ue.currentY,Z=ue.currentTime;W(ve,ue);const G=ue.currentX,X=ue.currentY,Ne=(ue.currentTime=Ie(ve))-Z;if(Ne>0&&Ne<100){const Pe=(X-Se)/Ne;ue.velocityX=(G-Ce)/Ne*.7+.3*ue.velocityX,ue.velocityY=.7*Pe+.3*ue.velocityY}ue.deltaX=G-ue.startX,ue.deltaY=X-ue.startY,ue.event=ve},W=(ue,ve)=>{let Ce=0,Se=0;if(ue){const Z=ue.changedTouches;if(Z&&Z.length>0){const G=Z[0];Ce=G.clientX,Se=G.clientY}else void 0!==ue.pageX&&(Ce=ue.pageX,Se=ue.pageY)}ve.currentX=Ce,ve.currentY=Se},Ie=ue=>ue.timeStamp||Date.now()},6451:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{b:()=>qe,c:()=>H,d:()=>We,e:()=>S,g:()=>T,l:()=>Pe,s:()=>N,t:()=>W,w:()=>Ye});var y=ae(467),Fe=ae(773),_e=ae(5638);const qe="ionViewWillLeave",H="ionViewDidLeave",We="ionViewWillUnload",W=ee=>new Promise((J,de)=>{(0,Fe.w)(()=>{Ie(ee),ue(ee).then(ze=>{ze.animation&&ze.animation.destroy(),ve(ee),J(ze)},ze=>{ve(ee),de(ze)})})}),Ie=ee=>{const J=ee.enteringEl,de=ee.leavingEl;U(J,de,ee.direction),ee.showGoBack?J.classList.add("can-go-back"):J.classList.remove("can-go-back"),N(J,!1),J.style.setProperty("pointer-events","none"),de&&(N(de,!1),de.style.setProperty("pointer-events","none"))},ue=function(){var ee=(0,y.A)(function*(J){const de=yield Ce(J);return de&&Fe.B.isBrowser?Se(de,J):Z(J)});return function(de){return ee.apply(this,arguments)}}(),ve=ee=>{const J=ee.enteringEl,de=ee.leavingEl;J.classList.remove("ion-page-invisible"),J.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events"))},Ce=function(){var ee=(0,y.A)(function*(J){return J.leavingEl&&J.animated&&0!==J.duration?J.animationBuilder?J.animationBuilder:"ios"===J.mode?(yield Promise.resolve().then(ae.bind(ae,7278))).iosTransitionAnimation:(yield Promise.resolve().then(ae.bind(ae,9354))).mdTransitionAnimation:void 0});return function(de){return ee.apply(this,arguments)}}(),Se=function(){var ee=(0,y.A)(function*(J,de){yield G(de,!0);const ze=J(de.baseEl,de);Ne(de.enteringEl,de.leavingEl);const It=yield ke(ze,de);return de.progressCallback&&de.progressCallback(void 0),It&&Ue(de.enteringEl,de.leavingEl),{hasCompleted:It,animation:ze}});return function(de,ze){return ee.apply(this,arguments)}}(),Z=function(){var ee=(0,y.A)(function*(J){const de=J.enteringEl,ze=J.leavingEl;return yield G(J,!1),Ne(de,ze),Ue(de,ze),{hasCompleted:!0}});return function(de){return ee.apply(this,arguments)}}(),G=function(){var ee=(0,y.A)(function*(J,de){(void 0!==J.deepWait?J.deepWait:de)&&(yield Promise.all([S(J.enteringEl),S(J.leavingEl)])),yield X(J.viewIsReady,J.enteringEl)});return function(de,ze){return ee.apply(this,arguments)}}(),X=function(){var ee=(0,y.A)(function*(J,de){J&&(yield J(de))});return function(de,ze){return ee.apply(this,arguments)}}(),ke=(ee,J)=>{const de=J.progressCallback,ze=new Promise(It=>{ee.onFinish(nn=>It(1===nn))});return de?(ee.progressStart(!0),de(ee)):ee.play(),ze},Ne=(ee,J)=>{Pe(J,qe),Pe(ee,"ionViewWillEnter")},Ue=(ee,J)=>{Pe(ee,"ionViewDidEnter"),Pe(J,H)},Pe=(ee,J)=>{if(ee){const de=new CustomEvent(J,{bubbles:!1,cancelable:!1});ee.dispatchEvent(de)}},Ye=()=>new Promise(ee=>(0,_e.r)(()=>(0,_e.r)(()=>ee()))),S=function(){var ee=(0,y.A)(function*(J){const de=J;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(It=>(0,_e.r)(It)));yield Promise.all(Array.from(de.children).map(S))}});return function(de){return ee.apply(this,arguments)}}(),N=(ee,J)=>{J?(ee.setAttribute("aria-hidden","true"),ee.classList.add("ion-page-hidden")):(ee.hidden=!1,ee.removeAttribute("aria-hidden"),ee.classList.remove("ion-page-hidden"))},U=(ee,J,de)=>{void 0!==ee&&(ee.style.zIndex="back"===de?"99":"101"),void 0!==J&&(J.style.zIndex="100")},T=ee=>ee.classList.contains("ion-page")?ee:ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ee},773:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{B:()=>Ie,H:()=>nn,a:()=>xa,b:()=>io,c:()=>at,d:()=>hn,e:()=>Qf,f:()=>Mt,g:()=>Je,h:()=>ze,i:()=>M,j:()=>ue,r:()=>Q,w:()=>ce});var y=ae(467);let z,bt,qe,H=!1,We=!1,Ze=!1,te=!1,W=!1;const Ie={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ue=I=>{const b=new URL(I,Lt.$resourcesUrl$);return b.origin!==Ut.location.origin?b.href:b.pathname},ke="s-id",Ne="sty-id",Ye="slot-fb{display:contents}slot-fb[hidden]{display:none}",S="http://www.w3.org/1999/xlink",N={},J=I=>"object"==(I=typeof I)||"function"===I;function de(I){var b,k,$;return null!==($=null===(k=null===(b=I.head)||void 0===b?void 0:b.querySelector('meta[name="csp-nonce"]'))||void 0===k?void 0:k.getAttribute("content"))&&void 0!==$?$:void 0}const ze=(I,b,...k)=>{let $=null,he=null,re=null,xe=!1,se=!1;const He=[],$e=Ct=>{for(let Pt=0;Pt<Ct.length;Pt++)$=Ct[Pt],Array.isArray($)?$e($):null!=$&&"boolean"!=typeof $&&((xe="function"!=typeof I&&!J($))&&($=String($)),xe&&se?He[He.length-1].$text$+=$:He.push(xe?It(null,$):$),se=xe)};if($e(k),b){b.key&&(he=b.key),b.name&&(re=b.name);{const Ct=b.className||b.class;Ct&&(b.class="object"!=typeof Ct?Ct:Object.keys(Ct).filter(Pt=>Ct[Pt]).join(" "))}}if("function"==typeof I)return I(null===b?{}:b,He,O);const tt=It(I,null);return tt.$attrs$=b,He.length>0&&(tt.$children$=He),tt.$key$=he,tt.$name$=re,tt},It=(I,b)=>({$flags$:0,$tag$:I,$text$:b,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),nn={},O={forEach:(I,b)=>I.map(D).forEach(b),map:(I,b)=>I.map(D).map(b).map(x)},D=I=>({vattrs:I.$attrs$,vchildren:I.$children$,vkey:I.$key$,vname:I.$name$,vtag:I.$tag$,vtext:I.$text$}),x=I=>{if("function"==typeof I.vtag){const k=Object.assign({},I.vattrs);return I.vkey&&(k.key=I.vkey),I.vname&&(k.name=I.vname),ze(I.vtag,k,...I.vchildren||[])}const b=It(I.vtag,I.vtext);return b.$attrs$=I.vattrs,b.$children$=I.vchildren,b.$key$=I.vkey,b.$name$=I.vname,b},ye=(I,b,k,$,he,re,xe)=>{let se,He,$e,tt;if(1===re.nodeType){for(se=re.getAttribute("c-id"),se&&(He=se.split("."),(He[0]===xe||"0"===He[0])&&($e={$flags$:0,$hostId$:He[0],$nodeId$:He[1],$depth$:He[2],$index$:He[3],$tag$:re.tagName.toLowerCase(),$elm$:re,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},b.push($e),re.removeAttribute("c-id"),I.$children$||(I.$children$=[]),I.$children$[$e.$index$]=$e,I=$e,$&&"0"===$e.$depth$&&($[$e.$index$]=$e.$elm$))),tt=re.childNodes.length-1;tt>=0;tt--)ye(I,b,k,$,he,re.childNodes[tt],xe);if(re.shadowRoot)for(tt=re.shadowRoot.childNodes.length-1;tt>=0;tt--)ye(I,b,k,$,he,re.shadowRoot.childNodes[tt],xe)}else if(8===re.nodeType)He=re.nodeValue.split("."),(He[1]===xe||"0"===He[1])&&(se=He[0],$e={$flags$:0,$hostId$:He[1],$nodeId$:He[2],$depth$:He[3],$index$:He[4],$elm$:re,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===se?($e.$elm$=re.nextSibling,$e.$elm$&&3===$e.$elm$.nodeType&&($e.$text$=$e.$elm$.textContent,b.push($e),re.remove(),I.$children$||(I.$children$=[]),I.$children$[$e.$index$]=$e,$&&"0"===$e.$depth$&&($[$e.$index$]=$e.$elm$))):$e.$hostId$===xe&&("s"===se?($e.$tag$="slot",re["s-sn"]=He[5]?$e.$name$=He[5]:"",re["s-sr"]=!0,$&&($e.$elm$=Vn.createElement($e.$tag$),$e.$name$&&$e.$elm$.setAttribute("name",$e.$name$),re.parentNode.insertBefore($e.$elm$,re),re.remove(),"0"===$e.$depth$&&($[$e.$index$]=$e.$elm$)),k.push($e),I.$children$||(I.$children$=[]),I.$children$[$e.$index$]=$e):"r"===se&&($?re.remove():(he["s-cr"]=re,re["s-cn"]=!0))));else if(I&&"style"===I.$tag$){const Ct=It(null,re.textContent);Ct.$elm$=re,Ct.$index$="0",I.$children$=[Ct]}},q=(I,b)=>{if(1===I.nodeType){let k=0;for(;k<I.childNodes.length;k++)q(I.childNodes[k],b);if(I.shadowRoot)for(k=0;k<I.shadowRoot.childNodes.length;k++)q(I.shadowRoot.childNodes[k],b)}else if(8===I.nodeType){const k=I.nodeValue.split(".");"o"===k[0]&&(b.set(k[1]+"."+k[2],I),I.nodeValue="",I["s-en"]=k[3])}},at=I=>Gn.push(I),Je=I=>ne(I).$modeName$,Mt=I=>ne(I).$hostElement$,hn=(I,b,k)=>{const $=Mt(I);return{emit:he=>gt($,b,{bubbles:!!(4&k),composed:!!(2&k),cancelable:!!(1&k),detail:he})}},gt=(I,b,k)=>{const $=Lt.ce(b,k);return I.dispatchEvent($),$},fn=new WeakMap,Ht=(I,b,k)=>{let $=un.get(I);Vt&&k?($=$||new CSSStyleSheet,"string"==typeof $?$=b:$.replaceSync(b)):$=b,un.set(I,$)},Ee=(I,b,k)=>{var $;const he=pe(b,k),re=un.get(he);if(I=11===I.nodeType?I:Vn,re)if("string"==typeof re){let se,xe=fn.get(I=I.head||I);if(xe||fn.set(I,xe=new Set),!xe.has(he)){if(I.host&&(se=I.querySelector(`[${Ne}="${he}"]`)))se.innerHTML=re;else{se=Vn.createElement("style"),se.innerHTML=re;const He=null!==($=Lt.$nonce$)&&void 0!==$?$:de(Vn);null!=He&&se.setAttribute("nonce",He),I.insertBefore(se,I.querySelector("link"))}4&b.$flags$&&(se.innerHTML+=Ye),xe&&xe.add(he)}}else I.adoptedStyleSheets.includes(re)||(I.adoptedStyleSheets=[...I.adoptedStyleSheets,re]);return he},pe=(I,b)=>"sc-"+(b&&32&I.$flags$?I.$tagName$+"-"+b:I.$tagName$),mt=I=>I.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),zt=(I,b,k,$,he,re)=>{if(k!==$){let xe=st(I,b),se=b.toLowerCase();if("class"===b){const He=I.classList,$e=rn(k),tt=rn($);He.remove(...$e.filter(Ct=>Ct&&!tt.includes(Ct))),He.add(...tt.filter(Ct=>Ct&&!$e.includes(Ct)))}else if("style"===b){for(const He in k)(!$||null==$[He])&&(He.includes("-")?I.style.removeProperty(He):I.style[He]="");for(const He in $)(!k||$[He]!==k[He])&&(He.includes("-")?I.style.setProperty(He,$[He]):I.style[He]=$[He])}else if("key"!==b)if("ref"===b)$&&$(I);else if(xe||"o"!==b[0]||"n"!==b[1]){const He=J($);if((xe||He&&null!==$)&&!he)try{if(I.tagName.includes("-"))I[b]=$;else{const tt=null==$?"":$;"list"===b?xe=!1:(null==k||I[b]!=tt)&&(I[b]=tt)}}catch{}let $e=!1;se!==(se=se.replace(/^xlink\:?/,""))&&(b=se,$e=!0),null==$||!1===$?(!1!==$||""===I.getAttribute(b))&&($e?I.removeAttributeNS(S,b):I.removeAttribute(b)):(!xe||4&re||he)&&!He&&($=!0===$?"":$,$e?I.setAttributeNS(S,b,$):I.setAttribute(b,$))}else if(b="-"===b[2]?b.slice(3):st(Ut,se)?se.slice(2):se[2]+b.slice(3),k||$){const He=b.endsWith(vn);b=b.replace(Qt,""),k&&Lt.rel(I,b,k,He),$&&Lt.ael(I,b,$,He)}}},pn=/\s/,rn=I=>I?I.split(pn):[],vn="Capture",Qt=new RegExp(vn+"$"),Qn=(I,b,k,$)=>{const he=11===b.$elm$.nodeType&&b.$elm$.host?b.$elm$.host:b.$elm$,re=I&&I.$attrs$||N,xe=b.$attrs$||N;for($ in re)$ in xe||zt(he,$,re[$],void 0,k,b.$flags$);for($ in xe)zt(he,$,re[$],xe[$],k,b.$flags$)},Ln=(I,b,k,$)=>{var he;const re=b.$children$[k];let se,He,$e,xe=0;if(H||(Ze=!0,"slot"===re.$tag$&&(z&&$.classList.add(z+"-s"),re.$flags$|=re.$children$?2:1)),null!==re.$text$)se=re.$elm$=Vn.createTextNode(re.$text$);else if(1&re.$flags$)se=re.$elm$=Vn.createTextNode("");else{if(te||(te="svg"===re.$tag$),se=re.$elm$=Vn.createElementNS(te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&re.$flags$?"slot-fb":re.$tag$),te&&"foreignObject"===re.$tag$&&(te=!1),Qn(null,re,te),(I=>null!=I)(z)&&se["s-si"]!==z&&se.classList.add(se["s-si"]=z),re.$children$)for(xe=0;xe<re.$children$.length;++xe)He=Ln(I,re,xe,se),He&&se.appendChild(He);"svg"===re.$tag$?te=!1:"foreignObject"===se.tagName&&(te=!0)}return se["s-hn"]=qe,3&re.$flags$&&(se["s-sr"]=!0,se["s-cr"]=bt,se["s-sn"]=re.$name$||"",se["s-rf"]=null===(he=re.$attrs$)||void 0===he?void 0:he.ref,$e=I&&I.$children$&&I.$children$[k],$e&&$e.$tag$===re.$tag$&&I.$elm$&&mr(I.$elm$,!1)),se},mr=(I,b)=>{Lt.$flags$|=1;const k=Array.from(I.childNodes);for(let $=k.length-1;$>=0;$--){const he=k[$];he["s-hn"]!==qe&&he["s-ol"]&&(pi(he).insertBefore(he,no(he)),he["s-ol"].remove(),he["s-ol"]=void 0,he["s-sh"]=void 0,Ze=!0),b&&mr(he,b)}Lt.$flags$&=-2},Br=(I,b,k,$,he,re)=>{let se,xe=I["s-cr"]&&I["s-cr"].parentNode||I;for(xe.shadowRoot&&xe.tagName===qe&&(xe=xe.shadowRoot);he<=re;++he)$[he]&&(se=Ln(null,k,he,I),se&&($[he].$elm$=se,xe.insertBefore(se,no(b))))},Rr=(I,b,k)=>{for(let $=b;$<=k;++$){const he=I[$];if(he){const re=he.$elm$;Io(he),re&&(We=!0,re["s-ol"]?re["s-ol"].remove():mr(re,!0),re.remove())}}},si=(I,b,k=!1)=>I.$tag$===b.$tag$&&("slot"===I.$tag$?I.$name$===b.$name$:!!k||I.$key$===b.$key$),no=I=>I&&I["s-ol"]||I,pi=I=>(I["s-ol"]?I["s-ol"]:I).parentNode,Yr=(I,b,k=!1)=>{const $=b.$elm$=I.$elm$,he=I.$children$,re=b.$children$,xe=b.$tag$,se=b.$text$;let He;null===se?(te="svg"===xe||"foreignObject"!==xe&&te,"slot"===xe&&!H||Qn(I,b,te),null!==he&&null!==re?((I,b,k,$,he=!1)=>{let Sn,ir,re=0,xe=0,se=0,He=0,$e=b.length-1,tt=b[0],Ct=b[$e],Pt=$.length-1,Oe=$[0],rr=$[Pt];for(;re<=$e&&xe<=Pt;)if(null==tt)tt=b[++re];else if(null==Ct)Ct=b[--$e];else if(null==Oe)Oe=$[++xe];else if(null==rr)rr=$[--Pt];else if(si(tt,Oe,he))Yr(tt,Oe,he),tt=b[++re],Oe=$[++xe];else if(si(Ct,rr,he))Yr(Ct,rr,he),Ct=b[--$e],rr=$[--Pt];else if(si(tt,rr,he))("slot"===tt.$tag$||"slot"===rr.$tag$)&&mr(tt.$elm$.parentNode,!1),Yr(tt,rr,he),I.insertBefore(tt.$elm$,Ct.$elm$.nextSibling),tt=b[++re],rr=$[--Pt];else if(si(Ct,Oe,he))("slot"===tt.$tag$||"slot"===rr.$tag$)&&mr(Ct.$elm$.parentNode,!1),Yr(Ct,Oe,he),I.insertBefore(Ct.$elm$,tt.$elm$),Ct=b[--$e],Oe=$[++xe];else{for(se=-1,He=re;He<=$e;++He)if(b[He]&&null!==b[He].$key$&&b[He].$key$===Oe.$key$){se=He;break}se>=0?(ir=b[se],ir.$tag$!==Oe.$tag$?Sn=Ln(b&&b[xe],k,se,I):(Yr(ir,Oe,he),b[se]=void 0,Sn=ir.$elm$),Oe=$[++xe]):(Sn=Ln(b&&b[xe],k,xe,I),Oe=$[++xe]),Sn&&pi(tt.$elm$).insertBefore(Sn,no(tt.$elm$))}re>$e?Br(I,null==$[Pt+1]?null:$[Pt+1].$elm$,k,$,xe,Pt):xe>Pt&&Rr(b,re,$e)})($,he,b,re,k):null!==re?(null!==I.$text$&&($.textContent=""),Br($,null,b,re,0,re.length-1)):null!==he&&Rr(he,0,he.length-1),te&&"svg"===xe&&(te=!1)):(He=$["s-cr"])?He.parentNode.textContent=se:I.$text$!==se&&($.data=se)},ro=I=>{const b=I.childNodes;for(const k of b)if(1===k.nodeType){if(k["s-sr"]){const $=k["s-sn"];k.hidden=!1;for(const he of b)if(he!==k)if(he["s-hn"]!==k["s-hn"]||""!==$){if(1===he.nodeType&&($===he.getAttribute("slot")||$===he["s-sn"])){k.hidden=!0;break}}else if(1===he.nodeType||3===he.nodeType&&""!==he.textContent.trim()){k.hidden=!0;break}}ro(k)}},br=[],xr=I=>{let b,k,$;for(const he of I.childNodes){if(he["s-sr"]&&(b=he["s-cr"])&&b.parentNode){k=b.parentNode.childNodes;const re=he["s-sn"];for($=k.length-1;$>=0;$--)if(b=k[$],!b["s-cn"]&&!b["s-nr"]&&b["s-hn"]!==he["s-hn"])if(Ar(b,re)){let xe=br.find(se=>se.$nodeToRelocate$===b);We=!0,b["s-sn"]=b["s-sn"]||re,xe?(xe.$nodeToRelocate$["s-sh"]=he["s-hn"],xe.$slotRefNode$=he):(b["s-sh"]=he["s-hn"],br.push({$slotRefNode$:he,$nodeToRelocate$:b})),b["s-sr"]&&br.map(se=>{Ar(se.$nodeToRelocate$,b["s-sn"])&&(xe=br.find(He=>He.$nodeToRelocate$===b),xe&&!se.$slotRefNode$&&(se.$slotRefNode$=xe.$slotRefNode$))})}else br.some(xe=>xe.$nodeToRelocate$===b)||br.push({$nodeToRelocate$:b})}1===he.nodeType&&xr(he)}},Ar=(I,b)=>1===I.nodeType?null===I.getAttribute("slot")&&""===b||I.getAttribute("slot")===b:I["s-sn"]===b||""===b,Io=I=>{I.$attrs$&&I.$attrs$.ref&&I.$attrs$.ref(null),I.$children$&&I.$children$.map(Io)},Ui=(I,b)=>{b&&!I.$onRenderResolve$&&b["s-p"]&&b["s-p"].push(new Promise(k=>I.$onRenderResolve$=k))},lr=(I,b)=>{if(I.$flags$|=16,!(4&I.$flags$))return Ui(I,I.$ancestorComponent$),ce(()=>Oo(I,b));I.$flags$|=512},Oo=(I,b)=>{const $=I.$lazyInstance$;let he;return b&&(I.$flags$|=256,I.$queuedListeners$&&(I.$queuedListeners$.map(([re,xe])=>we($,re,xe)),I.$queuedListeners$=void 0),he=we($,"componentWillLoad")),he=ns(he,()=>we($,"componentWillRender")),ns(he,()=>ko(I,$,b))},ns=(I,b)=>Nn(I)?I.then(b):b(),Nn=I=>I instanceof Promise||I&&I.then&&"function"==typeof I.then,ko=function(){var I=(0,y.A)(function*(b,k,$){var he;const re=b.$hostElement$,se=re["s-rc"];$&&(I=>{const b=I.$cmpMeta$,k=I.$hostElement$,$=b.$flags$,re=Ee(k.shadowRoot?k.shadowRoot:k.getRootNode(),b,I.$modeName$);10&$&&(k["s-sc"]=re,k.classList.add(re+"-h"),2&$&&k.classList.add(re+"-s"))})(b);Eo(b,k,re,$),se&&(se.map($e=>$e()),re["s-rc"]=void 0);{const $e=null!==(he=re["s-p"])&&void 0!==he?he:[],tt=()=>F(b);0===$e.length?tt():(Promise.all($e).then(tt),b.$flags$|=4,$e.length=0)}});return function(k,$,he){return I.apply(this,arguments)}}(),Eo=(I,b,k,$)=>{try{b=b.render&&b.render(),I.$flags$&=-17,I.$flags$|=2,((I,b,k=!1)=>{var $,he,re,xe;const se=I.$hostElement$,He=I.$cmpMeta$,$e=I.$vnode$||It(null,null),tt=(I=>I&&I.$tag$===nn)(b)?b:ze(null,null,b);if(qe=se.tagName,He.$attrsToReflect$&&(tt.$attrs$=tt.$attrs$||{},He.$attrsToReflect$.map(([Ct,Pt])=>tt.$attrs$[Pt]=se[Ct])),k&&tt.$attrs$)for(const Ct of Object.keys(tt.$attrs$))se.hasAttribute(Ct)&&!["key","ref","style","class"].includes(Ct)&&(tt.$attrs$[Ct]=se[Ct]);if(tt.$tag$=null,tt.$flags$|=4,I.$vnode$=tt,tt.$elm$=$e.$elm$=se.shadowRoot||se,z=se["s-sc"],H=!!(1&He.$flags$),bt=se["s-cr"],We=!1,Yr($e,tt,k),Lt.$flags$|=1,Ze){xr(tt.$elm$);for(const Ct of br){const Pt=Ct.$nodeToRelocate$;if(!Pt["s-ol"]){const Oe=Vn.createTextNode("");Oe["s-nr"]=Pt,Pt.parentNode.insertBefore(Pt["s-ol"]=Oe,Pt)}}for(const Ct of br){const Pt=Ct.$nodeToRelocate$,Oe=Ct.$slotRefNode$;if(Oe){const rr=Oe.parentNode;let Sn=Oe.nextSibling;{let ir=null===($=Pt["s-ol"])||void 0===$?void 0:$.previousSibling;for(;ir;){let Or=null!==(he=ir["s-nr"])&&void 0!==he?he:null;if(Or&&Or["s-sn"]===Pt["s-sn"]&&rr===Or.parentNode&&(Or=Or.nextSibling,!Or||!Or["s-nr"])){Sn=Or;break}ir=ir.previousSibling}}(!Sn&&rr!==Pt.parentNode||Pt.nextSibling!==Sn)&&Pt!==Sn&&(!Pt["s-hn"]&&Pt["s-ol"]&&(Pt["s-hn"]=Pt["s-ol"].parentNode.nodeName),rr.insertBefore(Pt,Sn),1===Pt.nodeType&&(Pt.hidden=null!==(re=Pt["s-ih"])&&void 0!==re&&re)),Pt&&"function"==typeof Oe["s-rf"]&&Oe["s-rf"](Pt)}else 1===Pt.nodeType&&(k&&(Pt["s-ih"]=null!==(xe=Pt.hidden)&&void 0!==xe&&xe),Pt.hidden=!0)}}We&&ro(tt.$elm$),Lt.$flags$&=-2,br.length=0,bt=void 0})(I,b,$)}catch(he){Rt(he,I.$hostElement$)}return null},F=I=>{const k=I.$hostElement$,he=I.$lazyInstance$,re=I.$ancestorComponent$;we(he,"componentDidRender"),64&I.$flags$?we(he,"componentDidUpdate"):(I.$flags$|=64,K(k),we(he,"componentDidLoad"),I.$onReadyResolve$(k),re||L()),I.$onInstanceResolve$(k),I.$onRenderResolve$&&(I.$onRenderResolve$(),I.$onRenderResolve$=void 0),512&I.$flags$&&oo(()=>lr(I,!1)),I.$flags$&=-517},M=I=>{{const b=ne(I),k=b.$hostElement$.isConnected;return k&&2==(18&b.$flags$)&&lr(b,!1),k}},L=I=>{K(Vn.documentElement),oo(()=>gt(Ut,"appload",{detail:{namespace:"ionic"}}))},we=(I,b,k)=>{if(I&&I[b])try{return I[b](k)}catch($){Rt($)}},K=I=>I.classList.add("hydrated"),Gt=(I,b,k)=>{var $;const he=I.prototype;if(b.$members$){I.watchers&&(b.$watchers$=I.watchers);const re=Object.entries(b.$members$);if(re.map(([xe,[se]])=>{31&se||2&k&&32&se?Object.defineProperty(he,xe,{get(){return((I,b)=>ne(this).$instanceValues$.get(b))(0,xe)},set(He){((I,b,k,$)=>{const he=ne(I),re=he.$hostElement$,xe=he.$instanceValues$.get(b),se=he.$flags$,He=he.$lazyInstance$;k=((I,b)=>null==I||J(I)?I:4&b?"false"!==I&&(""===I||!!I):2&b?parseFloat(I):1&b?String(I):I)(k,$.$members$[b][0]);const $e=Number.isNaN(xe)&&Number.isNaN(k);if((!(8&se)||void 0===xe)&&k!==xe&&!$e&&(he.$instanceValues$.set(b,k),He)){if($.$watchers$&&128&se){const Ct=$.$watchers$[b];Ct&&Ct.map(Pt=>{try{He[Pt](k,xe,b)}catch(Oe){Rt(Oe,re)}})}2==(18&se)&&lr(he,!1)}})(this,xe,He,b)},configurable:!0,enumerable:!0}):1&k&&64&se&&Object.defineProperty(he,xe,{value(...He){var $e;const tt=ne(this);return null===($e=null==tt?void 0:tt.$onInstancePromise$)||void 0===$e?void 0:$e.then(()=>{var Ct;return null===(Ct=tt.$lazyInstance$)||void 0===Ct?void 0:Ct[xe](...He)})}})}),1&k){const xe=new Map;he.attributeChangedCallback=function(se,He,$e){Lt.jmp(()=>{var tt;const Ct=xe.get(se);if(this.hasOwnProperty(Ct))$e=this[Ct],delete this[Ct];else{if(he.hasOwnProperty(Ct)&&"number"==typeof this[Ct]&&this[Ct]==$e)return;if(null==Ct){const Pt=ne(this),Oe=null==Pt?void 0:Pt.$flags$;if(Oe&&!(8&Oe)&&128&Oe&&$e!==He){const rr=Pt.$lazyInstance$,Sn=null===(tt=b.$watchers$)||void 0===tt?void 0:tt[se];null==Sn||Sn.forEach(ir=>{null!=rr[ir]&&rr[ir].call(rr,$e,He,se)})}return}}this[Ct]=(null!==$e||"boolean"!=typeof this[Ct])&&$e})},I.observedAttributes=Array.from(new Set([...Object.keys(null!==($=b.$watchers$)&&void 0!==$?$:{}),...re.filter(([se,He])=>15&He[0]).map(([se,He])=>{var $e;const tt=He[1]||se;return xe.set(tt,se),512&He[0]&&(null===($e=b.$attrsToReflect$)||void 0===$e||$e.push([se,tt])),tt})]))}}return I},xn=function(){var I=(0,y.A)(function*(b,k,$,he){let re;if(!(32&k.$flags$)){if(k.$flags$|=32,$.$lazyBundleId$){if(re=vt($),re.then){const tt=()=>{};re=yield re,tt()}re.isProxied||($.$watchers$=re.watchers,Gt(re,$,2),re.isProxied=!0);const $e=()=>{};k.$flags$|=8;try{new re(k)}catch(tt){Rt(tt)}k.$flags$&=-9,k.$flags$|=128,$e(),St(k.$lazyInstance$)}else re=b.constructor,customElements.whenDefined($.$tagName$).then(()=>k.$flags$|=128);if(re.style){let $e=re.style;"string"!=typeof $e&&($e=$e[k.$modeName$=(I=>Gn.map(b=>b(I)).find(b=>!!b))(b)]);const tt=pe($,k.$modeName$);if(!un.has(tt)){const Ct=()=>{};Ht(tt,$e,!!(1&$.$flags$)),Ct()}}}const xe=k.$ancestorComponent$,se=()=>lr(k,!0);xe&&xe["s-rc"]?xe["s-rc"].push(se):se()});return function(k,$,he,re){return I.apply(this,arguments)}}(),St=I=>{we(I,"connectedCallback")},Jt=I=>{const b=I["s-cr"]=Vn.createComment("");b["s-cn"]=!0,I.insertBefore(b,I.firstChild)},ie=I=>{we(I,"disconnectedCallback")},Xr=function(){var I=(0,y.A)(function*(b){if(!(1&Lt.$flags$)){const k=ne(b);k.$rmListeners$&&(k.$rmListeners$.map($=>$()),k.$rmListeners$=void 0),null!=k&&k.$lazyInstance$?ie(k.$lazyInstance$):null!=k&&k.$onReadyPromise$&&k.$onReadyPromise$.then(()=>ie(k.$lazyInstance$))}});return function(k){return I.apply(this,arguments)}}(),io=(I,b={})=>{var k;const he=[],re=b.exclude||[],xe=Ut.customElements,se=Vn.head,He=se.querySelector("meta[charset]"),$e=Vn.createElement("style"),tt=[],Ct=Vn.querySelectorAll(`[${Ne}]`);let Pt,Oe=!0,rr=0;for(Object.assign(Lt,b),Lt.$resourcesUrl$=new URL(b.resourcesUrl||"./",Vn.baseURI).href,Lt.$flags$|=2;rr<Ct.length;rr++)Ht(Ct[rr].getAttribute(Ne),mt(Ct[rr].innerHTML),!0);let Sn=!1;if(I.map(ir=>{ir[1].map(Or=>{var Tl;const Ri={$flags$:Or[0],$tagName$:Or[1],$members$:Or[2],$listeners$:Or[3]};4&Ri.$flags$&&(Sn=!0),Ri.$members$=Or[2],Ri.$listeners$=Or[3],Ri.$attrsToReflect$=[],Ri.$watchers$=null!==(Tl=Or[4])&&void 0!==Tl?Tl:{};const As=Ri.$tagName$,Gs=class extends HTMLElement{constructor(qs){super(qs),De(qs=this,Ri),1&Ri.$flags$&&qs.attachShadow({mode:"open",delegatesFocus:!!(16&Ri.$flags$)})}connectedCallback(){Pt&&(clearTimeout(Pt),Pt=null),Oe?tt.push(this):Lt.jmp(()=>(I=>{if(!(1&Lt.$flags$)){const b=ne(I),k=b.$cmpMeta$,$=()=>{};if(1&b.$flags$)Fo(I,b,k.$listeners$),null!=b&&b.$lazyInstance$?St(b.$lazyInstance$):null!=b&&b.$onReadyPromise$&&b.$onReadyPromise$.then(()=>St(b.$lazyInstance$));else{let he;if(b.$flags$|=1,he=I.getAttribute(ke),he){if(1&k.$flags$){const re=Ee(I.shadowRoot,k,I.getAttribute("s-mode"));I.classList.remove(re+"-h",re+"-s")}((I,b,k,$)=>{const re=I.shadowRoot,xe=[],He=re?[]:null,$e=$.$vnode$=It(b,null);Lt.$orgLocNodes$||q(Vn.body,Lt.$orgLocNodes$=new Map),I[ke]=k,I.removeAttribute(ke),ye($e,xe,[],He,I,I,k),xe.map(tt=>{const Ct=tt.$hostId$+"."+tt.$nodeId$,Pt=Lt.$orgLocNodes$.get(Ct),Oe=tt.$elm$;Pt&&qn&&""===Pt["s-en"]&&Pt.parentNode.insertBefore(Oe,Pt.nextSibling),re||(Oe["s-hn"]=b,Pt&&(Oe["s-ol"]=Pt,Oe["s-ol"]["s-nr"]=Oe)),Lt.$orgLocNodes$.delete(Ct)}),re&&He.map(tt=>{tt&&re.appendChild(tt)})})(I,k.$tagName$,he,b)}he||12&k.$flags$&&Jt(I);{let re=I;for(;re=re.parentNode||re.host;)if(1===re.nodeType&&re.hasAttribute("s-id")&&re["s-p"]||re["s-p"]){Ui(b,b.$ancestorComponent$=re);break}}k.$members$&&Object.entries(k.$members$).map(([re,[xe]])=>{if(31&xe&&I.hasOwnProperty(re)){const se=I[re];delete I[re],I[re]=se}}),xn(I,b,k)}$()}})(this))}disconnectedCallback(){Lt.jmp(()=>Xr(this))}componentOnReady(){return ne(this).$onReadyPromise$}};Ri.$lazyBundleId$=ir[0],!re.includes(As)&&!xe.get(As)&&(he.push(As),xe.define(As,Gt(Gs,Ri,1)))})}),he.length>0&&(Sn&&($e.textContent+=Ye),$e.textContent+=he+"{visibility:hidden}.hydrated{visibility:inherit}",$e.innerHTML.length)){$e.setAttribute("data-styles","");const ir=null!==(k=Lt.$nonce$)&&void 0!==k?k:de(Vn);null!=ir&&$e.setAttribute("nonce",ir),se.insertBefore($e,He?He.nextSibling:se.firstChild)}Oe=!1,tt.length?tt.map(ir=>ir.connectedCallback()):Lt.jmp(()=>Pt=setTimeout(L,30))},Fo=(I,b,k,$)=>{k&&k.map(([he,re,xe])=>{const se=Na(I,he),He=js(b,xe),$e=wo(he);Lt.ael(se,re,He,$e),(b.$rmListeners$=b.$rmListeners$||[]).push(()=>Lt.rel(se,re,He,$e))})},js=(I,b)=>k=>{try{256&I.$flags$?I.$lazyInstance$[b](k):(I.$queuedListeners$=I.$queuedListeners$||[]).push([b,k])}catch($){Rt($)}},Na=(I,b)=>4&b?Vn:8&b?Ut:16&b?Vn.body:I,wo=I=>Hs?{passive:!!(1&I),capture:!!(2&I)}:!!(2&I),Si=new WeakMap,ne=I=>Si.get(I),Q=(I,b)=>Si.set(b.$lazyInstance$=I,b),De=(I,b)=>{const k={$flags$:0,$hostElement$:I,$cmpMeta$:b,$instanceValues$:new Map};return k.$onInstancePromise$=new Promise($=>k.$onInstanceResolve$=$),k.$onReadyPromise$=new Promise($=>k.$onReadyResolve$=$),I["s-p"]=[],I["s-rc"]=[],Fo(I,k,b.$listeners$),Si.set(I,k)},st=(I,b)=>b in I,Rt=(I,b)=>(0,console.error)(I,b),qt=new Map,vt=(I,b,k)=>{const $=I.$tagName$.replace(/-/g,"_"),he=I.$lazyBundleId$,re=qt.get(he);return re?re[$]:ae(8996)(`./${he}.entry.js`).then(xe=>(qt.set(he,xe),xe[$]),Rt)},un=new Map,Gn=[],Ut=typeof window<"u"?window:{},Vn=Ut.document||{head:{}},Lt={$flags$:0,$resourcesUrl$:"",jmp:I=>I(),raf:I=>requestAnimationFrame(I),ael:(I,b,k,$)=>I.addEventListener(b,k,$),rel:(I,b,k,$)=>I.removeEventListener(b,k,$),ce:(I,b)=>new CustomEvent(I,b)},xa=I=>{Object.assign(Lt,I)},qn=!0,Hs=(()=>{let I=!1;try{Vn.addEventListener("e",null,Object.defineProperty({},"passive",{get(){I=!0}}))}catch{}return I})(),Vt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Co=[],Zr=[],bl=(I,b)=>k=>{I.push(k),W||(W=!0,b&&4&Lt.$flags$?oo(zs):Lt.raf(zs))},Al=I=>{for(let b=0;b<I.length;b++)try{I[b](performance.now())}catch(k){Rt(k)}I.length=0},zs=()=>{Al(Co),Al(Zr),(W=Co.length>0)&&Lt.raf(zs)},oo=I=>Promise.resolve(void 0).then(I),Qf=bl(Co,!1),ce=bl(Zr,!0)},6691:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{m:()=>ue});var y=ae(467),Fe=ae(8476),_e=ae(6471),z=ae(4929),bt=ae(5638),qe=ae(8886),H=ae(3503);const We=ve=>(0,H.c)().duration(ve?400:300),Ze=ve=>{let Ce,Se;const Z=ve.width+8,G=(0,H.c)(),X=(0,H.c)();ve.isEndSide?(Ce=Z+"px",Se="0px"):(Ce=-Z+"px",Se="0px"),G.addElement(ve.menuInnerEl).fromTo("transform",`translateX(${Ce})`,`translateX(${Se})`);const Ne="ios"===(0,qe.b)(ve),Ue=Ne?.2:.25;return X.addElement(ve.backdropEl).fromTo("opacity",.01,Ue),We(Ne).addAnimation([G,X])},te=ve=>{let Ce,Se;const Z=(0,qe.b)(ve),G=ve.width;ve.isEndSide?(Ce=-G+"px",Se=G+"px"):(Ce=G+"px",Se=-G+"px");const X=(0,H.c)().addElement(ve.menuInnerEl).fromTo("transform",`translateX(${Se})`,"translateX(0px)"),ke=(0,H.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ce})`),Ne=(0,H.c)().addElement(ve.backdropEl).fromTo("opacity",.01,.32);return We("ios"===Z).addAnimation([X,ke,Ne])},W=ve=>{const Ce=(0,qe.b)(ve),Se=ve.width*(ve.isEndSide?-1:1)+"px",Z=(0,H.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${Se})`);return We("ios"===Ce).addAnimation(Z)},ue=(()=>{const ve=new Map,Ce=[],Se=function(){var D=(0,y.A)(function*(x){const j=yield Pe(x,!0);return!!j&&j.open()});return function(j){return D.apply(this,arguments)}}(),Z=function(){var D=(0,y.A)(function*(x){const j=yield void 0!==x?Pe(x,!0):Ye();return void 0!==j&&j.close()});return function(j){return D.apply(this,arguments)}}(),G=function(){var D=(0,y.A)(function*(x){const j=yield Pe(x,!0);return!!j&&j.toggle()});return function(j){return D.apply(this,arguments)}}(),X=function(){var D=(0,y.A)(function*(x,j){const ye=yield Pe(j);return ye&&(ye.disabled=!x),ye});return function(j,ye){return D.apply(this,arguments)}}(),ke=function(){var D=(0,y.A)(function*(x,j){const ye=yield Pe(j);return ye&&(ye.swipeGesture=x),ye});return function(j,ye){return D.apply(this,arguments)}}(),Ne=function(){var D=(0,y.A)(function*(x){if(null!=x){const j=yield Pe(x);return void 0!==j&&j.isOpen()}return void 0!==(yield Ye())});return function(j){return D.apply(this,arguments)}}(),Ue=function(){var D=(0,y.A)(function*(x){const j=yield Pe(x);return!!j&&!j.disabled});return function(j){return D.apply(this,arguments)}}(),Pe=function(){var D=(0,y.A)(function*(x,j=!1){if(yield O(),"start"===x||"end"===x){const q=Ce.filter(at=>at.side===x&&!at.disabled);if(q.length>=1)return q.length>1&&j&&(0,z.p)(`menuController queried for a menu on the "${x}" side, but ${q.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,q.map(at=>at.el)),q[0].el;const Me=Ce.filter(at=>at.side===x);if(Me.length>=1)return Me.length>1&&j&&(0,z.p)(`menuController queried for a menu on the "${x}" side, but ${Me.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Me.map(at=>at.el)),Me[0].el}else if(null!=x)return Te(q=>q.menuId===x);return Te(q=>!q.disabled)||(Ce.length>0?Ce[0].el:void 0)});return function(j){return D.apply(this,arguments)}}(),Ye=function(){var D=(0,y.A)(function*(){return yield O(),ze()});return function(){return D.apply(this,arguments)}}(),S=function(){var D=(0,y.A)(function*(){return yield O(),It()});return function(){return D.apply(this,arguments)}}(),N=function(){var D=(0,y.A)(function*(){return yield O(),nn()});return function(){return D.apply(this,arguments)}}(),U=(D,x)=>{ve.set(D,x)},J=function(){var D=(0,y.A)(function*(x,j,ye){if(nn())return!1;if(j){const q=yield Ye();q&&x.el!==q&&(yield q.setOpen(!1,!1))}return x._setOpen(j,ye)});return function(j,ye,q){return D.apply(this,arguments)}}(),ze=()=>Te(D=>D._isOpen),It=()=>Ce.map(D=>D.el),nn=()=>Ce.some(D=>D.isAnimating),Te=D=>{const x=Ce.find(D);if(void 0!==x)return x.el},O=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(D=>new Promise(x=>(0,bt.c)(D,x))));return U("reveal",W),U("push",te),U("overlay",Ze),null==Fe.d||Fe.d.addEventListener("ionBackButton",D=>{const x=ze();x&&D.detail.register(_e.MENU_BACK_BUTTON_PRIORITY,()=>x.close())}),{registerAnimation:U,get:Pe,getMenus:S,getOpen:Ye,isEnabled:Ue,swipeGesture:ke,isAnimating:N,isOpen:Ne,enable:X,toggle:G,close:Z,open:Se,_getOpenSync:ze,_createAnimation:(D,x)=>{const j=ve.get(D);if(!j)throw new Error("animation not registered");return j(x)},_register:D=>{Ce.indexOf(D)<0&&Ce.push(D)},_unregister:D=>{const x=Ce.indexOf(D);x>-1&&Ce.splice(x,1)},_setOpen:J}})()},4929:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{a:()=>Fe,b:()=>_e,p:()=>y});const y=(z,...bt)=>console.warn(`[Ionic Warning]: ${z}`,...bt),Fe=(z,...bt)=>console.error(`[Ionic Error]: ${z}`,...bt),_e=(z,...bt)=>console.error(`<${z.tagName.toLowerCase()}> must be used inside ${bt.join(" or ")}.`)},8476:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{d:()=>Fe,w:()=>y});const y=typeof window<"u"?window:void 0,Fe=typeof document<"u"?document:void 0},8886:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{a:()=>W,b:()=>It,c:()=>_e,i:()=>nn});var y=ae(773);class Fe{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,D){const x=this.m.get(O);return void 0!==x?x:D}getBoolean(O,D=!1){const x=this.m.get(O);return void 0===x?D:"string"==typeof x?"true"===x:!!x}getNumber(O,D){const x=parseFloat(this.m.get(O));return isNaN(x)?void 0!==D?D:NaN:x}set(O,D){this.m.set(O,D)}}const _e=new Fe,Ze="ionic-persist-config",W=(Te,O)=>("string"==typeof Te&&(O=Te,Te=void 0),(Te=>Ie(Te))(Te).includes(O)),Ie=(Te=window)=>{if(typeof Te>"u")return[];Te.Ionic=Te.Ionic||{};let O=Te.Ionic.platforms;return null==O&&(O=Te.Ionic.platforms=ue(Te),O.forEach(D=>Te.document.documentElement.classList.add(`plt-${D}`))),O},ue=Te=>{const O=_e.get("platform");return Object.keys(de).filter(D=>{const x=null==O?void 0:O[D];return"function"==typeof x?x(Te):de[D](Te)})},Ce=Te=>!!(ee(Te,/iPad/i)||ee(Te,/Macintosh/i)&&Ue(Te)),G=Te=>ee(Te,/android|sink/i),Ue=Te=>J(Te,"(any-pointer:coarse)"),Ye=Te=>S(Te)||N(Te),S=Te=>!!(Te.cordova||Te.phonegap||Te.PhoneGap),N=Te=>{const O=Te.Capacitor;return!(null==O||!O.isNative)},ee=(Te,O)=>O.test(Te.navigator.userAgent),J=(Te,O)=>{var D;return null===(D=Te.matchMedia)||void 0===D?void 0:D.call(Te,O).matches},de={ipad:Ce,iphone:Te=>ee(Te,/iPhone/i),ios:Te=>ee(Te,/iPhone|iPod/i)||Ce(Te),android:G,phablet:Te=>{const O=Te.innerWidth,D=Te.innerHeight,x=Math.min(O,D),j=Math.max(O,D);return x>390&&x<520&&j>620&&j<800},tablet:Te=>{const O=Te.innerWidth,D=Te.innerHeight,x=Math.min(O,D),j=Math.max(O,D);return Ce(Te)||(Te=>G(Te)&&!ee(Te,/mobile/i))(Te)||x>460&&x<820&&j>780&&j<1400},cordova:S,capacitor:N,electron:Te=>ee(Te,/electron/i),pwa:Te=>{var O;return!!(null!==(O=Te.matchMedia)&&void 0!==O&&O.call(Te,"(display-mode: standalone)").matches||Te.navigator.standalone)},mobile:Ue,mobileweb:Te=>Ue(Te)&&!Ye(Te),desktop:Te=>!Ue(Te),hybrid:Ye};let ze;const It=Te=>Te&&(0,y.g)(Te)||ze,nn=(Te={})=>{if(typeof window>"u")return;const O=window.document,D=window,x=D.Ionic=D.Ionic||{},j={};Te._ael&&(j.ael=Te._ael),Te._rel&&(j.rel=Te._rel),Te._ce&&(j.ce=Te._ce),(0,y.a)(j);const ye=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Te=>{try{const O=Te.sessionStorage.getItem(Ze);return null!==O?JSON.parse(O):{}}catch{return{}}})(D)),{persistConfig:!1}),x.config),(Te=>{const O={};return Te.location.search.slice(1).split("&").map(D=>D.split("=")).map(([D,x])=>[decodeURIComponent(D),decodeURIComponent(x)]).filter(([D])=>((Te,O)=>Te.substr(0,O.length)===O)(D,"ionic:")).map(([D,x])=>[D.slice(6),x]).forEach(([D,x])=>{O[D]=x}),O})(D)),Te);_e.reset(ye),_e.getBoolean("persistConfig")&&((Te,O)=>{try{Te.sessionStorage.setItem(Ze,JSON.stringify(O))}catch{return}})(D,ye),Ie(D),x.config=_e,x.mode=ze=_e.get("mode",O.documentElement.getAttribute("mode")||(W(D,"ios")?"ios":"md")),_e.set("mode",ze),O.documentElement.setAttribute("mode",ze),O.documentElement.classList.add(ze),_e.getBoolean("_testing")&&_e.set("animated",!1);const q=at=>{var Je;return null===(Je=at.tagName)||void 0===Je?void 0:Je.startsWith("ION-")},Me=at=>["ios","md"].includes(at);(0,y.c)(at=>{for(;at;){const Je=at.mode||at.getAttribute("mode");if(Je){if(Me(Je))return Je;q(at)&&console.warn('Invalid ionic mode: "'+Je+'", expected: "ios" or "md"')}at=at.parentElement}return ze})}},7278:(Fn,Ot,ae)=>{"use strict";ae.r(Ot),ae.d(Ot,{iosTransitionAnimation:()=>ue,shadow:()=>H});var y=ae(3503),Fe=ae(6451);ae(8476),ae(773);const qe=Ce=>document.querySelector(`${Ce}.ion-cloned-element`),H=Ce=>Ce.shadowRoot||Ce,We=Ce=>{const Se="ION-TABS"===Ce.tagName?Ce:Ce.querySelector("ion-tabs"),Z="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Se){const G=Se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=G?G.querySelector(Z):null}return Ce.querySelector(Z)},Ze=(Ce,Se)=>{const Z="ION-TABS"===Ce.tagName?Ce:Ce.querySelector("ion-tabs");let G=[];if(null!=Z){const X=Z.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=X&&(G=X.querySelectorAll("ion-buttons"))}else G=Ce.querySelectorAll("ion-buttons");for(const X of G){const ke=X.closest("ion-header"),Ne=ke&&!ke.classList.contains("header-collapse-condense-inactive"),Ue=X.querySelector("ion-back-button"),Pe=X.classList.contains("buttons-collapse");if(null!==Ue&&("start"===X.slot||""===X.slot)&&(Pe&&Ne&&Se||!Pe))return Ue}return null},W=(Ce,Se,Z,G,X,ke,Ne,Ue,Pe)=>{var Ye,S;const N=Se?`calc(100% - ${X.right+4}px)`:X.left-4+"px",U=Se?"right":"left",T=Se?"left":"right",ee=Se?"right":"left",J=(null===(Ye=ke.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(S=Ue.textContent)||void 0===S?void 0:S.trim()),ze=(Pe.height-ve)/Ne.height,It=J?`scale(${Pe.width/Ne.width}, ${ze})`:`scale(${ze})`,nn="scale(1)",O=H(G).querySelector("ion-icon").getBoundingClientRect(),D=Se?O.width/2-(O.right-X.right)+"px":X.left-O.width/2+"px",x=Se?`-${window.innerWidth-X.right}px`:`${X.left}px`,j=`${Pe.top}px`,ye=`${X.top}px`,at=Z?[{offset:0,transform:`translate3d(${x}, ${ye}, 0)`},{offset:1,transform:`translate3d(${D}, ${j}, 0)`}]:[{offset:0,transform:`translate3d(${D}, ${j}, 0)`},{offset:1,transform:`translate3d(${x}, ${ye}, 0)`}],Mt=Z?[{offset:0,opacity:1,transform:nn},{offset:1,opacity:0,transform:It}]:[{offset:0,opacity:0,transform:It},{offset:1,opacity:1,transform:nn}],fn=Z?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ht=(0,y.c)(),Ee=(0,y.c)(),le=(0,y.c)(),pe=qe("ion-back-button"),mt=H(pe).querySelector(".button-text"),zt=H(pe).querySelector("ion-icon");pe.text=G.text,pe.mode=G.mode,pe.icon=G.icon,pe.color=G.color,pe.disabled=G.disabled,pe.style.setProperty("display","block"),pe.style.setProperty("position","fixed"),Ee.addElement(zt),Ht.addElement(mt),le.addElement(pe),le.beforeStyles({position:"absolute",top:"0px",[ee]:"0px"}).keyframes(at),Ht.beforeStyles({"transform-origin":`${U} top`}).beforeAddWrite(()=>{G.style.setProperty("display","none"),pe.style.setProperty(U,N)}).afterAddWrite(()=>{G.style.setProperty("display",""),pe.style.setProperty("display","none"),pe.style.removeProperty(U)}).keyframes(Mt),Ee.beforeStyles({"transform-origin":`${T} center`}).keyframes(fn),Ce.addAnimation([Ht,Ee,le])},Ie=(Ce,Se,Z,G,X,ke,Ne,Ue)=>{var Pe,Ye;const S=Se?"right":"left",N=Se?`calc(100% - ${X.right}px)`:`${X.left}px`,T=`${X.top}px`,J=Se?`-${window.innerWidth-Ue.right-8}px`:Ue.x-8+"px",ze=Ue.y-2+"px",It=(null===(Pe=Ne.textContent)||void 0===Pe?void 0:Pe.trim())===(null===(Ye=G.textContent)||void 0===Ye?void 0:Ye.trim()),Te=Ue.height/(ke.height-ve),O="scale(1)",D=It?`scale(${Ue.width/ke.width}, ${Te})`:`scale(${Te})`,ye=Z?[{offset:0,opacity:0,transform:`translate3d(${J}, ${ze}, 0) ${D}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${T}, 0) ${O}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${T}, 0) ${O}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${ze}, 0) ${D}`}],q=qe("ion-title"),Me=(0,y.c)();q.innerText=G.innerText,q.size=G.size,q.color=G.color,Me.addElement(q),Me.beforeStyles({"transform-origin":`${S} top`,height:`${X.height}px`,display:"",position:"relative",[S]:N}).beforeAddWrite(()=>{G.style.setProperty("opacity","0")}).afterAddWrite(()=>{G.style.setProperty("opacity",""),q.style.setProperty("display","none")}).keyframes(ye),Ce.addAnimation(Me)},ue=(Ce,Se)=>{var Z;try{const G="cubic-bezier(0.32,0.72,0,1)",X="opacity",ke="transform",Ne="0%",Pe="rtl"===Ce.ownerDocument.dir,Ye=Pe?"-99.5%":"99.5%",S=Pe?"33%":"-33%",N=Se.enteringEl,U=Se.leavingEl,T="back"===Se.direction,ee=N.querySelector(":scope > ion-content"),J=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),de=N.querySelectorAll(":scope > ion-header > ion-toolbar"),ze=(0,y.c)(),It=(0,y.c)();if(ze.addElement(N).duration((null!==(Z=Se.duration)&&void 0!==Z?Z:0)||540).easing(Se.easing||G).fill("both").beforeRemoveClass("ion-page-invisible"),U&&null!=Ce){const D=(0,y.c)();D.addElement(Ce),ze.addAnimation(D)}if(ee||0!==de.length||0!==J.length?(It.addElement(ee),It.addElement(J)):It.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ze.addAnimation(It),T?It.beforeClearStyles([X]).fromTo("transform",`translateX(${S})`,`translateX(${Ne})`).fromTo(X,.8,1):It.beforeClearStyles([X]).fromTo("transform",`translateX(${Ye})`,`translateX(${Ne})`),ee){const D=H(ee).querySelector(".transition-effect");if(D){const x=D.querySelector(".transition-cover"),j=D.querySelector(".transition-shadow"),ye=(0,y.c)(),q=(0,y.c)(),Me=(0,y.c)();ye.addElement(D).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),q.addElement(x).beforeClearStyles([X]).fromTo(X,0,.1),Me.addElement(j).beforeClearStyles([X]).fromTo(X,.03,.7),ye.addAnimation([q,Me]),It.addAnimation([ye])}}const nn=N.querySelector("ion-header.header-collapse-condense"),{forward:Te,backward:O}=((Ce,Se,Z,G,X)=>{const ke=Ze(G,Z),Ne=We(X),Ue=We(G),Pe=Ze(X,Z),Ye=null!==ke&&null!==Ne&&!Z,S=null!==Ue&&null!==Pe&&Z;if(Ye){const N=Ne.getBoundingClientRect(),U=ke.getBoundingClientRect(),T=H(ke).querySelector(".button-text"),ee=T.getBoundingClientRect(),de=H(Ne).querySelector(".toolbar-title").getBoundingClientRect();Ie(Ce,Se,Z,Ne,N,de,T,ee),W(Ce,Se,Z,ke,U,T,ee,Ne,de)}else if(S){const N=Ue.getBoundingClientRect(),U=Pe.getBoundingClientRect(),T=H(Pe).querySelector(".button-text"),ee=T.getBoundingClientRect(),de=H(Ue).querySelector(".toolbar-title").getBoundingClientRect();Ie(Ce,Se,Z,Ue,N,de,T,ee),W(Ce,Se,Z,Pe,U,T,ee,Ue,de)}return{forward:Ye,backward:S}})(ze,Pe,T,N,U);if(de.forEach(D=>{const x=(0,y.c)();x.addElement(D),ze.addAnimation(x);const j=(0,y.c)();j.addElement(D.querySelector("ion-title"));const ye=(0,y.c)(),q=Array.from(D.querySelectorAll("ion-buttons,[menuToggle]")),Me=D.closest("ion-header"),at=null==Me?void 0:Me.classList.contains("header-collapse-condense-inactive");let Je;Je=q.filter(T?fn=>{const Ht=fn.classList.contains("buttons-collapse");return Ht&&!at||!Ht}:fn=>!fn.classList.contains("buttons-collapse")),ye.addElement(Je);const Et=(0,y.c)();Et.addElement(D.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Mt=(0,y.c)();Mt.addElement(H(D).querySelector(".toolbar-background"));const hn=(0,y.c)(),gt=D.querySelector("ion-back-button");if(gt&&hn.addElement(gt),x.addAnimation([j,ye,Et,Mt,hn]),ye.fromTo(X,.01,1),Et.fromTo(X,.01,1),T)at||j.fromTo("transform",`translateX(${S})`,`translateX(${Ne})`).fromTo(X,.01,1),Et.fromTo("transform",`translateX(${S})`,`translateX(${Ne})`),hn.fromTo(X,.01,1);else if(nn||j.fromTo("transform",`translateX(${Ye})`,`translateX(${Ne})`).fromTo(X,.01,1),Et.fromTo("transform",`translateX(${Ye})`,`translateX(${Ne})`),Mt.beforeClearStyles([X,"transform"]),(null==Me?void 0:Me.translucent)?Mt.fromTo("transform",Pe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Mt.fromTo(X,.01,"var(--opacity)"),Te||hn.fromTo(X,.01,1),gt&&!Te){const Ht=(0,y.c)();Ht.addElement(H(gt).querySelector(".button-text")).fromTo("transform",Pe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),x.addAnimation(Ht)}}),U){const D=(0,y.c)(),x=U.querySelector(":scope > ion-content"),j=U.querySelectorAll(":scope > ion-header > ion-toolbar"),ye=U.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(x||0!==j.length||0!==ye.length?(D.addElement(x),D.addElement(ye)):D.addElement(U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ze.addAnimation(D),T){D.beforeClearStyles([X]).fromTo("transform",`translateX(${Ne})`,Pe?"translateX(-100%)":"translateX(100%)");const q=(0,Fe.g)(U);ze.afterAddWrite(()=>{"normal"===ze.getDirection()&&q.style.setProperty("display","none")})}else D.fromTo("transform",`translateX(${Ne})`,`translateX(${S})`).fromTo(X,1,.8);if(x){const q=H(x).querySelector(".transition-effect");if(q){const Me=q.querySelector(".transition-cover"),at=q.querySelector(".transition-shadow"),Je=(0,y.c)(),Et=(0,y.c)(),Mt=(0,y.c)();Je.addElement(q).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Et.addElement(Me).beforeClearStyles([X]).fromTo(X,.1,0),Mt.addElement(at).beforeClearStyles([X]).fromTo(X,.7,.03),Je.addAnimation([Et,Mt]),D.addAnimation([Je])}}j.forEach(q=>{const Me=(0,y.c)();Me.addElement(q);const at=(0,y.c)();at.addElement(q.querySelector("ion-title"));const Je=(0,y.c)(),Et=q.querySelectorAll("ion-buttons,[menuToggle]"),Mt=q.closest("ion-header"),hn=null==Mt?void 0:Mt.classList.contains("header-collapse-condense-inactive"),gt=Array.from(Et).filter(mt=>{const zt=mt.classList.contains("buttons-collapse");return zt&&!hn||!zt});Je.addElement(gt);const fn=(0,y.c)(),Ht=q.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ht.length>0&&fn.addElement(Ht);const Ee=(0,y.c)();Ee.addElement(H(q).querySelector(".toolbar-background"));const le=(0,y.c)(),pe=q.querySelector("ion-back-button");if(pe&&le.addElement(pe),Me.addAnimation([at,Je,fn,le,Ee]),ze.addAnimation(Me),le.fromTo(X,.99,0),Je.fromTo(X,.99,0),fn.fromTo(X,.99,0),T){if(hn||at.fromTo("transform",`translateX(${Ne})`,Pe?"translateX(-100%)":"translateX(100%)").fromTo(X,.99,0),fn.fromTo("transform",`translateX(${Ne})`,Pe?"translateX(-100%)":"translateX(100%)"),Ee.beforeClearStyles([X,"transform"]),(null==Mt?void 0:Mt.translucent)?Ee.fromTo("transform","translateX(0px)",Pe?"translateX(-100%)":"translateX(100%)"):Ee.fromTo(X,"var(--opacity)",0),pe&&!O){const zt=(0,y.c)();zt.addElement(H(pe).querySelector(".button-text")).fromTo("transform",`translateX(${Ne})`,`translateX(${(Pe?-124:124)+"px"})`),Me.addAnimation(zt)}}else hn||at.fromTo("transform",`translateX(${Ne})`,`translateX(${S})`).fromTo(X,.99,0).afterClearStyles([ke,X]),fn.fromTo("transform",`translateX(${Ne})`,`translateX(${S})`).afterClearStyles([ke,X]),le.afterClearStyles([X]),at.afterClearStyles([X]),Je.afterClearStyles([X])})}return ze}catch(G){throw G}},ve=10},9354:(Fn,Ot,ae)=>{"use strict";ae.r(Ot),ae.d(Ot,{mdTransitionAnimation:()=>bt});var y=ae(3503),Fe=ae(6451);ae(8476),ae(773);const bt=(qe,H)=>{var We,Ze,te;const W="40px",ue="back"===H.direction,Ce=H.leavingEl,Se=(0,Fe.g)(H.enteringEl),Z=Se.querySelector("ion-toolbar"),G=(0,y.c)();if(G.addElement(Se).fill("both").beforeRemoveClass("ion-page-invisible"),ue?G.duration((null!==(We=H.duration)&&void 0!==We?We:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):G.duration((null!==(Ze=H.duration)&&void 0!==Ze?Ze:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${W})`,"translateY(0px)").fromTo("opacity",.01,1),Z){const X=(0,y.c)();X.addElement(Z),G.addAnimation(X)}if(Ce&&ue){G.duration((null!==(te=H.duration)&&void 0!==te?te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const X=(0,y.c)();X.addElement((0,Fe.g)(Ce)).onFinish(ke=>{1===ke&&X.elements.length>0&&X.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${W})`).fromTo("opacity",1,0),G.addAnimation(X)}return G}},5049:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{B:()=>Je,G:()=>Et,O:()=>Mt,a:()=>Ie,b:()=>ue,c:()=>Z,d:()=>hn,e:()=>gt,f:()=>nn,g:()=>O,h:()=>j,i:()=>q,j:()=>X,k:()=>ke,m:()=>Ce,n:()=>Ye,o:()=>ze,s:()=>at});var y=ae(467),Fe=ae(8476),_e=ae(6471),z=ae(8886),bt=ae(5938),qe=ae(5638),H=ae(4929);let We=0,Ze=0;const te=new WeakMap,W=Ee=>({create:le=>Ne(Ee,le),dismiss:(le,pe,mt)=>ee(document,le,pe,Ee,mt),getTop:()=>(0,y.A)(function*(){return ze(document,Ee)})()}),Ie=W("ion-alert"),ue=W("ion-action-sheet"),Ce=W("ion-modal"),Z=W("ion-popover"),X=Ee=>{typeof document<"u"&&T(document);const le=We++;Ee.overlayIndex=le},ke=Ee=>(Ee.hasAttribute("id")||(Ee.id="ion-overlay-"+ ++Ze),Ee.id),Ne=(Ee,le)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ee).then(()=>{const pe=document.createElement(Ee);return pe.classList.add("overlay-hidden"),Object.assign(pe,Object.assign(Object.assign({},le),{hasController:!0})),D(document).appendChild(pe),new Promise(mt=>(0,qe.c)(pe,mt))}):Promise.resolve(),Ue='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ye=(Ee,le)=>{const pe=Ee.querySelector(Ue);N(pe,le)},S=(Ee,le)=>{const pe=Array.from(Ee.querySelectorAll(Ue));N(pe.length>0?pe[pe.length-1]:null,le)},N=(Ee,le)=>{let pe=Ee;const mt=null==Ee?void 0:Ee.shadowRoot;mt&&(pe=mt.querySelector(Ue)||Ee),pe?(0,qe.f)(pe):le.focus()},T=Ee=>{0===We&&(We=1,Ee.addEventListener("focus",le=>{((Ee,le)=>{const pe=ze(le,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),mt=Ee.target;pe&&mt&&!pe.classList.contains("ion-disable-focus-trap")&&(pe.shadowRoot?(()=>{if(pe.contains(mt))pe.lastFocus=mt;else if("ION-TOAST"===mt.tagName)N(pe.lastFocus,pe);else{const rn=pe.lastFocus;Ye(pe,pe),rn===le.activeElement&&S(pe,pe),pe.lastFocus=le.activeElement}})():(()=>{if(pe===mt)pe.lastFocus=void 0;else if("ION-TOAST"===mt.tagName)N(pe.lastFocus,pe);else{const rn=(0,qe.g)(pe);if(!rn.contains(mt))return;const vn=rn.querySelector(".ion-overlay-wrapper");if(!vn)return;if(vn.contains(mt)||mt===rn.querySelector("ion-backdrop"))pe.lastFocus=mt;else{const Qt=pe.lastFocus;Ye(vn,pe),Qt===le.activeElement&&S(vn,pe),pe.lastFocus=le.activeElement}}})())})(le,Ee)},!0),Ee.addEventListener("ionBackButton",le=>{const pe=ze(Ee);null!=pe&&pe.backdropDismiss&&le.detail.register(_e.OVERLAY_BACK_BUTTON_PRIORITY,()=>{pe.dismiss(void 0,Je)})}),(0,_e.shouldUseCloseWatcher)()||Ee.addEventListener("keydown",le=>{if("Escape"===le.key){const pe=ze(Ee);null!=pe&&pe.backdropDismiss&&pe.dismiss(void 0,Je)}}))},ee=(Ee,le,pe,mt,zt)=>{const pn=ze(Ee,mt,zt);return pn?pn.dismiss(le,pe):Promise.reject("overlay does not exist")},de=(Ee,le)=>((Ee,le)=>(void 0===le&&(le="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ee.querySelectorAll(le)).filter(pe=>pe.overlayIndex>0)))(Ee,le).filter(pe=>!(Ee=>Ee.classList.contains("overlay-hidden"))(pe)),ze=(Ee,le,pe)=>{const mt=de(Ee,le);return void 0===pe?mt[mt.length-1]:mt.find(zt=>zt.id===pe)},It=(Ee=!1)=>{const pe=D(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");pe&&(Ee?pe.setAttribute("aria-hidden","true"):pe.removeAttribute("aria-hidden"))},nn=function(){var Ee=(0,y.A)(function*(le,pe,mt,zt,pn){var rn,vn;if(le.presented)return;It(!0),fn(le.el),le.presented=!0,le.willPresent.emit(),null===(rn=le.willPresentShorthand)||void 0===rn||rn.emit();const Qt=(0,z.b)(le),Qn=le.enterAnimation?le.enterAnimation:z.c.get(pe,"ios"===Qt?mt:zt);(yield x(le,Qn,le.el,pn))&&(le.didPresent.emit(),null===(vn=le.didPresentShorthand)||void 0===vn||vn.emit()),"ION-TOAST"!==le.el.tagName&&Te(le.el),le.keyboardClose&&(null===document.activeElement||!le.el.contains(document.activeElement))&&le.el.focus(),le.el.removeAttribute("aria-hidden")});return function(pe,mt,zt,pn,rn){return Ee.apply(this,arguments)}}(),Te=function(){var Ee=(0,y.A)(function*(le){let pe=document.activeElement;if(!pe)return;const mt=null==pe?void 0:pe.shadowRoot;mt&&(pe=mt.querySelector(Ue)||pe),yield le.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&pe.focus()});return function(pe){return Ee.apply(this,arguments)}}(),O=function(){var Ee=(0,y.A)(function*(le,pe,mt,zt,pn,rn,vn){var Qt,Qn;if(!le.presented)return!1;void 0!==Fe.d&&1===de(Fe.d).length&&It(!1),le.presented=!1;try{le.el.style.setProperty("pointer-events","none"),le.willDismiss.emit({data:pe,role:mt}),null===(Qt=le.willDismissShorthand)||void 0===Qt||Qt.emit({data:pe,role:mt});const Ln=(0,z.b)(le),mr=le.leaveAnimation?le.leaveAnimation:z.c.get(zt,"ios"===Ln?pn:rn);mt!==Et&&(yield x(le,mr,le.el,vn)),le.didDismiss.emit({data:pe,role:mt}),null===(Qn=le.didDismissShorthand)||void 0===Qn||Qn.emit({data:pe,role:mt}),(te.get(le)||[]).forEach(Rr=>Rr.destroy()),te.delete(le),le.el.classList.add("overlay-hidden"),le.el.style.removeProperty("pointer-events"),void 0!==le.el.lastFocus&&(le.el.lastFocus=void 0)}catch(Ln){console.error(Ln)}return le.el.remove(),Ht(),!0});return function(pe,mt,zt,pn,rn,vn,Qt){return Ee.apply(this,arguments)}}(),D=Ee=>Ee.querySelector("ion-app")||Ee.body,x=function(){var Ee=(0,y.A)(function*(le,pe,mt,zt){mt.classList.remove("overlay-hidden");const rn=pe(le.el,zt);(!le.animated||!z.c.getBoolean("animated",!0))&&rn.duration(0),le.keyboardClose&&rn.beforeAddWrite(()=>{const Qt=mt.ownerDocument.activeElement;null!=Qt&&Qt.matches("input,ion-input, ion-textarea")&&Qt.blur()});const vn=te.get(le)||[];return te.set(le,[...vn,rn]),yield rn.play(),!0});return function(pe,mt,zt,pn){return Ee.apply(this,arguments)}}(),j=(Ee,le)=>{let pe;const mt=new Promise(zt=>pe=zt);return ye(Ee,le,zt=>{pe(zt.detail)}),mt},ye=(Ee,le,pe)=>{const mt=zt=>{(0,qe.b)(Ee,le,mt),pe(zt)};(0,qe.a)(Ee,le,mt)},q=Ee=>"cancel"===Ee||Ee===Je,Me=Ee=>Ee(),at=(Ee,le)=>{if("function"==typeof Ee)return z.c.get("_zoneGate",Me)(()=>{try{return Ee(le)}catch(mt){throw mt}})},Je="backdrop",Et="gesture",Mt=39,hn=Ee=>{let pe,le=!1;const mt=(0,bt.C)(),zt=(vn=!1)=>{if(pe&&!vn)return{delegate:pe,inline:le};const{el:Qt,hasController:Qn,delegate:Ln}=Ee;return le=null!==Qt.parentNode&&!Qn,pe=le?Ln||mt:Ln,{inline:le,delegate:pe}};return{attachViewToDom:function(){var vn=(0,y.A)(function*(Qt){const{delegate:Qn}=zt(!0);if(Qn)return yield Qn.attachViewToDom(Ee.el,Qt);const{hasController:Ln}=Ee;if(Ln&&void 0!==Qt)throw new Error("framework delegate is missing");return null});return function(Qn){return vn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:vn}=zt();vn&&void 0!==Ee.el&&vn.removeViewFromDom(Ee.el.parentElement,Ee.el)}}},gt=()=>{let Ee;const le=()=>{Ee&&(Ee(),Ee=void 0)};return{addClickListener:(mt,zt)=>{le();const pn=void 0!==zt?document.getElementById(zt):null;pn?Ee=((vn,Qt)=>{const Qn=()=>{Qt.present()};return vn.addEventListener("click",Qn),()=>{vn.removeEventListener("click",Qn)}})(pn,mt):(0,H.p)(`A trigger element with the ID "${zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,mt)},removeClickListener:le}},fn=Ee=>{var le;if(void 0===Fe.d)return;const pe=de(Fe.d);for(let mt=pe.length-1;mt>=0;mt--){const zt=pe[mt],pn=null!==(le=pe[mt+1])&&void 0!==le?le:Ee;(pn.hasAttribute("aria-hidden")||"ION-TOAST"!==pn.tagName)&&zt.setAttribute("aria-hidden","true")}},Ht=()=>{if(void 0===Fe.d)return;const Ee=de(Fe.d);for(let le=Ee.length-1;le>=0;le--){const pe=Ee[le];if(pe.removeAttribute("aria-hidden"),"ION-TOAST"!==pe.tagName)break}}},1994:(Fn,Ot,ae)=>{"use strict";var y=ae(467);let _e=null,bt=1;const qe=Symbol("SIGNAL");function H(t){const e=_e;return _e=t,e}function ve(t){if((!Ye(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==bt)){if(!t.producerMustRecompute(t)&&!ke(t))return t.dirty=!1,void(t.lastCleanEpoch=bt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bt}}function ke(t){S(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ve(n),r!==n.version))return!0}return!1}function Pe(t,e){if(function N(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),S(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Pe(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];S(i),i.producerIndexOfThis[r]=e}}function Ye(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function S(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let It=null;function gt(t){return"function"==typeof t}function fn(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ht=fn(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ee(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class le{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(gt(r))try{r()}catch(o){e=o instanceof Ht?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{zt(o)}catch(s){e=null!=e?e:[],s instanceof Ht?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ht(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zt(e);else{if(e instanceof le){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ee(n,e)}remove(e){const{_finalizers:n}=this;n&&Ee(n,e),e instanceof le&&e._removeParent(this)}}le.EMPTY=(()=>{const t=new le;return t.closed=!0,t})();const pe=le.EMPTY;function mt(t){return t instanceof le||t&&"closed"in t&&gt(t.remove)&&gt(t.add)&&gt(t.unsubscribe)}function zt(t){gt(t)?t():t.unsubscribe()}const pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rn={setTimeout(t,e,...n){const{delegate:r}=rn;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=rn;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function vn(t){rn.setTimeout(()=>{const{onUnhandledError:e}=pn;if(!e)throw t;e(t)})}function Qt(){}const Qn=Br("C",void 0,void 0);function Br(t,e,n){return{kind:t,value:e,error:n}}let Rr=null;function fi(t){if(pn.useDeprecatedSynchronousErrorHandling){const e=!Rr;if(e&&(Rr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Rr;if(Rr=null,n)throw r}}else t()}class no extends le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mt(e)&&e.add(this)):this.destination=bs}static create(e,n,r){return new br(e,n,r)}next(e){this.isStopped?Io(function mr(t){return Br("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Io(function Ln(t){return Br("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Io(Qn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pi=Function.prototype.bind;function Yr(t,e){return pi.call(t,e)}class ro{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xr(r)}else xr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xr(n)}}}class br extends no{constructor(e,n,r){let i;if(super(),gt(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yr(e.next,o),error:e.error&&Yr(e.error,o),complete:e.complete&&Yr(e.complete,o)}):i=e}this.destination=new ro(i)}}function xr(t){pn.useDeprecatedSynchronousErrorHandling?function si(t){pn.useDeprecatedSynchronousErrorHandling&&Rr&&(Rr.errorThrown=!0,Rr.error=t)}(t):vn(t)}function Io(t,e){const{onStoppedNotification:n}=pn;n&&rn.setTimeout(()=>n(t,e))}const bs={closed:!0,next:Qt,error:function Ar(t){throw t},complete:Qt},Ui="function"==typeof Symbol&&Symbol.observable||"@@observable";function lr(t){return t}function ns(t){return 0===t.length?lr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Nn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function F(t){return t&&t instanceof no||function Eo(t){return t&&gt(t.next)&&gt(t.error)&&gt(t.complete)}(t)&&mt(t)}(n)?n:new br(n,r,i);return fi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ko(r))((i,o)=>{const s=new br({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return ns(n)(this)}toPromise(n){return new(n=ko(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ko(t){var e;return null!==(e=null!=t?t:pn.Promise)&&void 0!==e?e:Promise}const M=fn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let L=(()=>{class t extends Nn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new we(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new M}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?pe:(this.currentObservers=null,o.push(n),new le(()=>{this.currentObservers=null,Ee(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Nn;return n.source=this,n}}return t.create=(e,n)=>new we(e,n),t})();class we extends L{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:pe}}class K extends L{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function rt(t){return gt(null==t?void 0:t.lift)}function ut(t){return e=>{if(rt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gt(t,e,n,r,i){return new xn(t,e,n,r,i)}class xn extends no{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function St(t,e){return ut((n,r)=>{let i=0;n.subscribe(Gt(r,o=>{r.next(t.call(e,o,i++))}))})}const Jt="https://g.co/ng/security#xss";class ie extends Error{constructor(e,n){super(function Xr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function gi(t){return{toString:t}.toString()}const ne="__parameters__";function Rt(t,e,n){return gi(()=>{const r=function st(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,h){const g=l.hasOwnProperty(ne)?l[ne]:Object.defineProperty(l,ne,{value:[]})[ne];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const vt=globalThis;function Ut(t){for(let e in t)if(t[e]===Ut)return e;throw Error("Could not find renamed property on target object.")}function Vn(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Lt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xa(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Hs=Ut({__forward_ref__:Ut});function En(t){return t.__forward_ref__=En,t.toString=function(){return Lt(this())},t}function Vt(t){return Co(t)?t():t}function Co(t){return"function"==typeof t&&t.hasOwnProperty(Hs)&&t.__forward_ref__===En}function Oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ir(t){return Tl(t,Gs)||Tl(t,rd)}function Tl(t,e){return t.hasOwnProperty(e)?t[e]:null}function As(t){return t&&(t.hasOwnProperty(qs)||t.hasOwnProperty(id))?t[qs]:null}const Gs=Ut({\u0275prov:Ut}),qs=Ut({\u0275inj:Ut}),rd=Ut({ngInjectableDef:Ut}),id=Ut({ngInjectorDef:Ut});class ot{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xf(t){return t&&!!t.\u0275providers}const Oa=Ut({\u0275cmp:Ut}),ka=Ut({\u0275dir:Ut}),Lo=Ut({\u0275pipe:Ut}),od=Ut({\u0275mod:Ut}),Ts=Ut({\u0275fac:Ut}),ji=Ut({__NG_ELEMENT_ID__:Ut}),W_=Ut({__NG_ENV_ID__:Ut});function Yt(t){return"string"==typeof t?t:null==t?"":String(t)}function Fu(t,e){throw new ie(-201,!1)}var on=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(on||{});let Jf;function Q_(){return Jf}function Jr(t){const e=Jf;return Jf=t,e}function Z0(t,e,n){const r=ir(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&on.Optional?null:void 0!==e?e:void Fu()}const rs={},Ks="__NG_DI_FLAG__",Lu="ngTempTokenPath",Z_=/\n/gm,Fa="__source";let Dl;function Ds(t){const e=Dl;return Dl=t,e}function J_(t,e=on.Default){if(void 0===Dl)throw new ie(-203,!1);return null===Dl?Z0(t,void 0,e):Dl.get(t,e&on.Optional?null:void 0,e)}function Xe(t,e=on.Default){return(Q_()||J_)(Vt(t),e)}function Le(t,e=on.Default){return Xe(t,ad(e))}function ad(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vu(t){const e=[];for(let n=0;n<t.length;n++){const r=Vt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ie(900,!1);let i,o=on.Default;for(let s=0;s<r.length;s++){const a=r[s],l=ev(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Xe(i,o))}else e.push(Xe(r))}return e}function Qs(t,e){return t[Ks]=e,t.prototype[Ks]=e,t}function ev(t){return t[Ks]}const La=Qs(Rt("Optional"),8),Va=Qs(Rt("SkipSelf"),4);function Ys(t,e){return t.hasOwnProperty(Ts)?t[Ts]:null}function Xs(t,e){t.forEach(n=>Array.isArray(n)?Xs(n,e):e(n))}function $u(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const bo={},wn=[],Ss=new ot(""),dd=new ot("",-1),op=new ot("");class Rl{get(e,n=rs){if(n===rs){const r=new Error(`NullInjectorError: No provider for ${Lt(e)}!`);throw r.name="NullInjectorError",r}return n}}var hd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hd||{}),Hi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hi||{}),or=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(or||{});function sp(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function fd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];nv(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function pd(t){return 3===t||4===t||6===t}function nv(t){return 64===t.charCodeAt(0)}function $a(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||rv(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function rv(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const gd="ng-template";function nw(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==sp(e[i+1].toLowerCase(),n,0))return!0}else if(ap(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function ap(t){return 4===t.type&&t.value!==gd}function lp(t,e,n){return e===(4!==t.type||n?t.value:gd)}function rw(t,e,n){let r=4;const i=t.attrs,o=null!==i?function iw(t){for(let e=0;e<t.length;e++)if(pd(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!lp(t,l,n)||""===l&&1===e.length){if(Vo(r))return!1;s=!0}}else if(8&r){if(null===i||!nw(t,i,l,n)){if(Vo(r))return!1;s=!0}}else{const u=e[++a],h=up(l,i,ap(t),n);if(-1===h){if(Vo(r))return!1;s=!0;continue}if(""!==u){let g;if(g=h>o?"":i[h+1].toLowerCase(),2&r&&u!==g){if(Vo(r))return!1;s=!0}}}}else{if(!s&&!Vo(r)&&!Vo(l))return!1;if(s&&Vo(l))continue;s=!1,r=l|1&r}}return Vo(r)||s}function Vo(t){return!(1&t)}function up(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function dp(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function iv(t,e,n=!1){for(let r=0;r<e.length;r++)if(rw(t,e[r],n))return!0;return!1}function ow(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function md(t,e){return t?":not("+e.trim()+")":e}function sw(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Vo(s)&&(e+=md(o,i),i=""),r=s,o=o||!Vo(r);n++}return""!==i&&(e+=md(o,i)),e}function Ke(t){return gi(()=>{var e;const n=sv(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||Hi.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""};av(r);const i=t.dependencies;return r.directiveDefs=_d(i,!1),r.pipeDefs=_d(i,!0),r.id=function HM(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(r),r})}function lw(t){return mn(t)||ur(t)}function fp(t){return null!==t}function $o(t){return gi(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ov(t,e){if(null==t)return bo;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=or.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==or.None?[i,l]:i,e[s]=a):n[s]=i}return n}function At(t){return gi(()=>{const e=sv(t);return av(e),e})}function mn(t){return t[Oa]||null}function ur(t){return t[ka]||null}function ei(t){return t[Lo]||null}function _i(t,e){const n=t[od]||null;if(!n&&!0===e)throw new Error(`Type ${Lt(t)} does not have '\u0275mod' property.`);return n}function sv(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||bo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ov(t.inputs,e),outputs:ov(t.outputs),debugInfo:null}}function av(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function _d(t,e){if(!t)return null;const n=e?ei:lw;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(fp)}function gp(...t){return{\u0275providers:mp(0,t),\u0275fromNgModule:!0}}function mp(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Xs(e,s=>{const a=s;_p(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&lv(i,o),n}function lv(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];uv(i,o=>{e(o,r)})}}function _p(t,e,n,r){if(!(t=Vt(t)))return!1;let i=null,o=As(t);const s=!o&&mn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=As(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)_p(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Xs(o.imports,h=>{_p(h,e,n,r)&&(u||(u=[]),u.push(h))})}finally{}void 0!==u&&lv(u,e)}if(!a){const u=Ys(i)||(()=>new i);e({provide:i,useFactory:u,deps:wn},i),e({provide:op,useValue:i,multi:!0},i),e({provide:Ss,useValue:()=>Xe(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;uv(l,h=>{e(h,u)})}}}return i!==t&&void 0!==t.providers}function uv(t,e){for(let n of t)Xf(n)&&(n=n.\u0275providers),Array.isArray(n)?uv(n,e):e(n)}const zM=Ut({provide:String,useValue:Ut});function cv(t){return null!==t&&"object"==typeof t&&zM in t}function ao(t){return"function"==typeof t}const yp=new ot(""),yd={},cw={};let dv;function Id(){return void 0===dv&&(dv=new Rl),dv}class ti{}class ea extends ti{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pl(e,s=>this.processProvider(s)),this.records.set(dd,Ml(void 0,this)),i.has("environment")&&this.records.set(ti,Ml(void 0,this));const o=this.records.get(yp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(op,wn,on.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=H(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ds(this),r=Jr(void 0);try{return e()}finally{Ds(n),Jr(r)}}get(e,n=rs,r=on.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(W_))return e[W_](this);r=ad(r);const o=Ds(this),s=Jr(void 0);try{if(!(r&on.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function GM(t){return"function"==typeof t||"object"==typeof t&&t instanceof ot}(e)&&ir(e);l=u&&this.injectableDefInScope(u)?Ml(ju(e),yd):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&on.Self?Id():this.parent).get(e,n=r&on.Optional&&n===rs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Lu]=a[Lu]||[]).unshift(Lt(e)),o)throw a;return function tv(t,e,n,r){const i=t[Lu];throw e[Fa]&&i.unshift(e[Fa]),t.message=function ew(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Lt(e);if(Array.isArray(e))i=e.map(Lt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Lt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Z_,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Lu]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Jr(s),Ds(o)}}resolveInjectorInitializers(){const e=H(null),n=Ds(this),r=Jr(void 0);try{const o=this.get(Ss,wn,on.Self);for(const s of o)s()}finally{Ds(n),Jr(r),H(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){let n=ao(e=Vt(e))?e:Vt(e&&e.provide);const r=function Ed(t){return cv(t)?Ml(void 0,t.useValue):Ml(Ip(t),yd)}(e);if(!ao(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Ml(void 0,yd,!0),i.factory=()=>Vu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=H(null);try{return n.value===yd&&(n.value=cw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function fw(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Vt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ju(t){const e=ir(t),n=null!==e?e.factory:Ys(t);if(null!==n)return n;if(t instanceof ot)throw new ie(204,!1);if(t instanceof Function)return function dw(t){if(t.length>0)throw new ie(204,!1);const n=function Ri(t){return t&&(t[Gs]||t[rd])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ie(204,!1)}function Ip(t,e,n){let r;if(ao(t)){const i=Vt(t);return Ys(i)||ju(i)}if(cv(t))r=()=>Vt(t.useValue);else if(function vd(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Vu(t.deps||[]));else if(function uw(t){return!(!t||!t.useExisting)}(t))r=()=>Xe(Vt(t.useExisting));else{const i=Vt(t&&(t.useClass||t.provide));if(!function hw(t){return!!t.deps}(t))return Ys(i)||ju(i);r=()=>new i(...Vu(t.deps))}return r}function Ml(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Pl(t,e){for(const n of t)Array.isArray(n)?Pl(n,e):n&&Xf(n)?Pl(n.\u0275providers,e):e(n)}function ta(t,e){t instanceof ea&&t.assertNotDestroyed();const r=Ds(t),i=Jr(void 0);try{return e()}finally{Ds(r),Jr(i)}}function Rs(){return void 0!==Q_()||null!=function sd(){return Dl}()}const Yn=0,et=1,kt=2,Tr=3,lo=4,vi=5,Ni=6,Ba=7,Jn=8,ai=9,is=10,$t=11,Gu=12,pv=13,xl=14,_r=15,qu=16,Ms=17,os=18,Wu=19,gv=20,ss=21,Ku=22,Ua=23,en=25,Cp=1,as=7,kl=9,vr=10;var bp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bp||{});function ni(t){return Array.isArray(t)&&"object"==typeof t[Cp]}function yi(t){return Array.isArray(t)&&!0===t[Cp]}function Qu(t){return!!(4&t.flags)}function ja(t){return t.componentOffset>-1}function Fl(t){return!(1&~t.flags)}function zi(t){return!!t.template}function Yu(t){return!!(512&t[kt])}class Sp{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bv(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function Ii(){return Rp}function Rp(t){return t.type.prototype.ngOnChanges&&(t.setInput=Iw),Av}function Av(){const t=Td(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===bo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Iw(t,e,n,r,i){const o=this.declaredInputs[r],s=Td(t)||function Ew(t,e){return t[Tv]=e}(t,{previous:bo,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Sp(u&&u.currentValue,n,l===bo),bv(t,e,i,n)}Ii.ngInherit=!0;const Tv="__ngSimpleChanges__";function Td(t){return t[Tv]||null}const ls=function(t,e,n){};let Sv=!1;function kn(t){for(;Array.isArray(t);)t=t[Yn];return t}function xi(t,e){return kn(e[t.index])}function Vl(t,e){return t.data[e]}function uo(t,e){const n=e[t];return ni(n)?n:n[Yn]}function Xu(t){return!(128&~t[kt])}function us(t,e){return null==e?null:t[e]}function Pv(t){t[Ms]=0}function Op(t){1024&t[kt]||(t[kt]|=1024,Xu(t)&&Zu(t))}function kp(t){var e;return!!(9216&t[kt]||null!==(e=t[Ua])&&void 0!==e&&e.dirty)}function Rd(t){var e;if(null===(e=t[is].changeDetectionScheduler)||void 0===e||e.notify(1),kp(t))Zu(t);else if(64&t[kt])if(function Np(){return Sv}())t[kt]|=1024,Zu(t);else{var n;null===(n=t[is].changeDetectionScheduler)||void 0===n||n.notify()}}function Zu(t){var e;null===(e=t[is].changeDetectionScheduler)||void 0===e||e.notify();let n=Wa(t);for(;null!==n&&!(8192&n[kt])&&(n[kt]|=8192,Xu(n));)n=Wa(n)}function qa(t,e){if(!(256&~t[kt]))throw new ie(911,!1);null===t[ss]&&(t[ss]=[]),t[ss].push(e)}function Wa(t){const e=t[Tr];return yi(e)?e[Tr]:e}const Kt={lFrame:Lv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Md(){return Kt.bindingsEnabled}function $l(){return null!==Kt.skipHydrationRootTNode}function be(){return Kt.lFrame.lView}function yn(){return Kt.lFrame.tView}function Bl(t){return Kt.lFrame.contextLView=t,t[Jn]}function Ul(t){return Kt.lFrame.contextLView=null,t}function $n(){let t=Pd();for(;null!==t&&64===t.type;)t=t.parent;return t}function Pd(){return Kt.lFrame.currentTNode}function cs(t,e){const n=Kt.lFrame;n.currentTNode=t,n.isParent=e}function Ju(){return Kt.lFrame.isParent}function Lp(){Kt.lFrame.isParent=!1}function Pw(t,e){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=t,$p(e)}function $p(t){Kt.lFrame.currentDirectiveIndex=t}function Up(){return Kt.lFrame.currentQueryIndex}function ec(t){Kt.lFrame.currentQueryIndex=t}function xw(t){const e=t[et];return 2===e.type?e.declTNode:1===e.type?t[vi]:null}function Ow(t,e,n){if(n&on.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&on.Host||(i=xw(o),null===i||(o=o[xl],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Kt.lFrame=oa();return r.currentTNode=e,r.lView=t,!0}function jp(t){const e=oa(),n=t[et];Kt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oa(){const t=Kt.lFrame,e=null===t?null:t.child;return null===e?Lv(t):e}function Lv(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Vv(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Od=Vv;function Hp(){const t=Vv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qa(t){Kt.lFrame.selectedIndex=t}let Bv=!0;function tc(){return Bv}function ds(t){Bv=t}function jl(t,e){for(let u=e.directiveStart,h=e.directiveEnd;u<h;u++){const m=t.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:A,ngAfterViewChecked:R,ngOnDestroy:V}=m;var n,r,i,o,s,a,l;v&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,v),C&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,C),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,C)),A&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,A),R&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,R),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,R)),null!=V&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,V)}}function kd(t,e,n){Ld(t,e,3,n)}function Fd(t,e,n,r){(3&t[kt])===n&&Ld(t,e,n,r)}function nc(t,e){let n=t[kt];(3&n)===e&&(n&=16383,n+=1,t[kt]=n)}function Ld(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Ms]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Ms]+=65536),(a<o||-1==o)&&(Vw(t,n,e,l),t[Ms]=(4294901760&t[Ms])+l+2),l++}function jv(t,e){ls(4,t,e);const n=H(null);try{e.call(t)}finally{H(n),ls(5,t,e)}}function Vw(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[kt]>>14<t[Ms]>>16&&(3&t[kt])===e&&(t[kt]+=16384,jv(a,o)):jv(a,o)}const Ps=-1;class rc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ya(t){return t!==Ps}function ic(t){return 32767&t}function oc(t,e){let n=function zv(t){return t>>16}(t),r=e;for(;n>0;)r=r[xl],n--;return r}let Wp=!0;function Vd(t){const e=Wp;return Wp=t,e}const Kp=255,$d=5;let Qp=0;const Bo={};function Hl(t,e){const n=Gi(t,e);if(-1!==n)return n;const r=e[et];r.firstCreatePass&&(t.injectorIndex=e.length,Yp(r.data,t),Yp(e,null),Yp(r.blueprint,null));const i=sa(t,e),o=t.injectorIndex;if(Ya(i)){const s=ic(i),a=oc(i,e),l=a[et].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Yp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Gi(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function sa(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Jp(i),null===r)return Ps;if(n++,i=i[xl],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ps}function Bd(t,e,n){!function jw(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ji)&&(r=n[ji]),null==r&&(r=n[ji]=Qp++);const i=r&Kp;e.data[t+(i>>$d)]|=1<<i}(t,e,n)}function Ud(t,e,n){if(n&on.Optional||void 0!==t)return t;Fu()}function jd(t,e,n,r){if(n&on.Optional&&void 0===r&&(r=null),!(n&(on.Self|on.Host))){const i=t[ai],o=Jr(void 0);try{return i?i.get(e,r,n&on.Optional):Z0(e,r,n&on.Optional)}finally{Jr(o)}}return Ud(r,0,n)}function Gv(t,e,n,r=on.Default,i){if(null!==t){if(2048&e[kt]&&!(r&on.Self)){const s=function sc(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[kt]&&!(512&s[kt]);){const a=Xp(o,s,n,r|on.Self,Bo);if(a!==Bo)return a;let l=o.parent;if(!l){const u=s[gv];if(u){const h=u.get(n,Bo,r);if(h!==Bo)return h}l=Jp(s),s=s[xl]}o=l}return i}(t,e,n,r,Bo);if(s!==Bo)return s}const o=Xp(t,e,n,r,Bo);if(o!==Bo)return o}return jd(e,n,r,i)}function Xp(t,e,n,r,i){const o=function Gw(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ji)?t[ji]:void 0;return"number"==typeof e?e>=0?e&Kp:Zp:e}(n);if("function"==typeof o){if(!Ow(e,t,r))return r&on.Host?Ud(i,0,r):jd(e,n,r,i);try{let s;if(s=o(r),null!=s||r&on.Optional)return s;Fu()}finally{Od()}}else if("number"==typeof o){let s=null,a=Gi(t,e),l=Ps,u=r&on.Host?e[_r][vi]:null;for((-1===a||r&on.SkipSelf)&&(l=-1===a?sa(t,e):e[a+8],l!==Ps&&Wv(r,!1)?(s=e[et],a=ic(l),e=oc(l,e)):a=-1);-1!==a;){const h=e[et];if(qv(o,a,h.data)){const g=zw(a,e,n,s,r,u);if(g!==Bo)return g}l=e[a+8],l!==Ps&&Wv(r,e[et].data[a+8]===u)&&qv(o,a,e)?(s=h,a=ic(l),e=oc(l,e)):a=-1}}return i}function zw(t,e,n,r,i,o){const s=e[et],a=s.data[t+8],h=Uo(a,s,n,null==r?ja(a)&&Wp:r!=s&&!!(3&a.type),i&on.Host&&o===a);return null!==h?aa(e,s,h,a):Bo}function Uo(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<m;v++){const C=s[v];if(v<l&&n===C||v>=l&&C.type===n)return v}if(i){const v=s[l];if(v&&zi(v)&&v.type===n)return l}return null}function aa(t,e,n,r){let i=t[n];const o=e.data;if(function $w(t){return t instanceof rc}(i)){const s=i;s.resolving&&function Zf(t,e){throw e&&e.join(" > "),new ie(-200,t)}(function On(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Yt(t)}(o[n]));const a=Vd(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Jr(s.injectImpl):null;Ow(t,r,on.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Uv(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const g=Rp(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,g),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,g)}var l,u,h;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(h=n.preOrderCheckHooks)&&void 0!==h?h:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Jr(u),Vd(a),s.resolving=!1,Od()}}return i}function qv(t,e,n){return!!(n[e+(t>>$d)]&1<<t)}function Wv(t,e){return!(t&on.Self||t&on.Host&&e)}class Pr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Gv(this._tNode,this._lView,e,ad(r),n)}}function Zp(){return new Pr($n(),be())}function sr(t){return gi(()=>{const e=t.prototype.constructor,n=e[Ts]||jo(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ts]||jo(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jo(t){return Co(t)?()=>{const e=jo(Vt(t));return e&&e()}:Ys(t)}function Jp(t){const e=t[et],n=e.type;return 2===n?e.declTNode:1===n?t[vi]:null}function hs(t){return function Hw(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(pd(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}($n(),t)}function Ae(t,e=null,n=null,r){const i=lt(t,e,n,r);return i.resolveInjectorInitializers(),i}function lt(t,e=null,n=null,r,i=new Set){const o=[n||wn,gp(t)];return r=r||("object"==typeof t?void 0:Lt(t)),new ea(o,e||Id(),r||null,i)}let Qe=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return Ae({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return Ae({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=rs,t.NULL=new Rl,t.\u0275prov=Oe({token:t,providedIn:"any",factory:()=>Xe(dd)}),t.__NG_ELEMENT_ID__=-1,e})();function zl(t){return t.ngOriginalError}class Ho{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zl(e);for(;n&&zl(n);)n=zl(n);return n||null}}const Gd=new ot("",{providedIn:"root",factory:()=>Le(Ho).handleError.bind(void 0)});let Za=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=tg,t.__NG_ENV_ID__=n=>n,e})();class Qv extends Za{constructor(e){super(),this._lView=e}onDestroy(e){return qa(this._lView,e),()=>function Fp(t,e){if(null===t[ss])return;const n=t[ss].indexOf(e);-1!==n&&t[ss].splice(n,1)}(this._lView,e)}}function tg(){return new Qv(be())}function Yw(){return qd($n(),be())}function qd(t,e){return new Be(xi(t,e))}let Be=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=Yw,e})();function oP(t){return t instanceof Be?t.nativeElement:t}function Xw(t){return e=>{setTimeout(t,void 0,e)}}const er=class uz extends L{constructor(e=!1){var n;super(),this.destroyRef=void 0,this.__isAsync=e,Rs()&&(this.destroyRef=null!==(n=Le(Za,{optional:!0}))&&void 0!==n?n:void 0)}emit(e){const n=H(null);try{super.next(e)}finally{H(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const g=e;i=null===(a=g.next)||void 0===a?void 0:a.bind(g),o=null===(l=g.error)||void 0===l?void 0:l.bind(g),s=null===(u=g.complete)||void 0===u?void 0:u.bind(g)}this.__isAsync&&(o=Xw(o),i&&(i=Xw(i)),s&&(s=Xw(s)));const h=super.subscribe({next:i,error:o,complete:s});return e instanceof le&&e.add(h),h}};function cz(){return this._results[Symbol.iterator]()}class Zw{get changes(){var e;return null!==(e=this._changes)&&void 0!==e?e:this._changes=new er}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Zw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Mi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function rp(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){var e;this.dirty=!0,null===(e=this._onDirty)||void 0===e||e.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Zv(t){return!(128&~t.flags)}const Jw=new Map;let hz=0;const tC="__ngContext__";function qi(t,e){ni(e)?(t[tC]=e[Wu],function pz(t){Jw.set(t[Wu],t)}(e)):t[tC]=e}function gP(t){return _P(t[Gu])}function mP(t){return _P(t[lo])}function _P(t){for(;null!==t&&!yi(t);)t=t[lo];return t}let nC;const ty=new ot("",{providedIn:"root",factory:()=>Nz}),Nz="ng",AP=new ot(""),la=new ot("",{providedIn:"platform",factory:()=>"unknown"}),rC=new ot(""),TP=new ot("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Gl(){if(void 0!==nC)return nC;if(typeof document<"u")return document;throw new ie(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let DP=()=>null;function lC(t,e,n=!1){return DP(t,e,n)}const NP=new ot("",{providedIn:"root",factory:()=>!1});let cy;function FP(t){var e;return(null===(e=function fC(){if(void 0===cy&&(cy=null,vt.trustedTypes))try{cy=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cy}())||void 0===e?void 0:e.createScriptURL(t))||t}class LP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jt})`}}function ql(t){return t instanceof LP?t.changingThisBreaksApplicationSecurity:t}function cg(t,e){const n=function Xz(t){return t instanceof LP&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Jt})`)}return n===e}const t3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Xd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xd||{});function qP(t){const e=hg();return e?e.sanitize(Xd.URL,t)||"":cg(t,"URL")?ql(t):function pC(t){return(t=String(t)).match(t3)?t:"unsafe:"+t}(Yt(t))}function WP(t){const e=hg();if(e)return FP(e.sanitize(Xd.RESOURCE_URL,t)||"");if(cg(t,"ResourceURL"))return FP(ql(t));throw new ie(904,!1)}function hg(){const t=be();return t&&t[is].sanitizer}function zo(t){return t instanceof Function?t():t}var Kl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kl||{});let EC;function wC(t,e){return EC(t,e)}function Jd(t,e,n,r,i){if(null!=r){let o,s=!1;yi(r)?o=r:ni(r)&&(s=!0,r=r[Yn]);const a=kn(r);0===t&&null!==n?null==i?sN(e,n,a):ac(e,n,a,i||null,!0):1===t&&null!==n?ac(e,n,a,i||null,!0):2===t?function gg(t,e,n){const r=my(t,e);r&&function V3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function U3(t,e,n,r,i){const o=n[as];o!==kn(n)&&Jd(e,t,r,o,i);for(let a=vr;a<n.length;a++){const l=n[a];vy(l[et],l,t,e,r,o)}}(e,t,o,n,i)}}function py(t,e,n){return t.createElement(e,n)}function rN(t,e){var n;null===(n=e[is].changeDetectionScheduler)||void 0===n||n.notify(1),vy(t,e,e[$t],2,null,null)}function iN(t,e){const n=t[kl],r=n.indexOf(e);n.splice(r,1)}function fg(t,e){if(t.length<=vr)return;const n=vr+e,r=t[n];if(r){const i=r[qu];null!==i&&i!==t&&iN(i,r),e>0&&(t[n-1][lo]=r[lo]);const o=Sl(t,vr+e);!function P3(t,e){rN(t,e),e[Yn]=null,e[vi]=null}(r[et],r);const s=o[os];null!==s&&s.detachView(o[et]),r[Tr]=null,r[lo]=null,r[kt]&=-129}return r}function gy(t,e){if(!(256&e[kt])){const n=e[$t];n.destroyNode&&vy(t,e,n,3,null,null),function x3(t){let e=t[Gu];if(!e)return AC(t[et],t);for(;e;){let n=null;if(ni(e))n=e[Gu];else{const r=e[vr];r&&(n=r)}if(!n){for(;e&&!e[lo]&&e!==t;)ni(e)&&AC(e[et],e),e=e[Tr];null===e&&(e=t),ni(e)&&AC(e[et],e),n=e&&e[lo]}e=n}}(e)}}function AC(t,e){if(256&e[kt])return;const n=H(null);try{e[kt]&=-129,e[kt]|=256,e[Ua]&&function Ne(t){if(S(t),Ye(t))for(let e=0;e<t.producerNode.length;e++)Pe(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[Ua]),function L3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof rc)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];ls(4,a,l);try{l.call(a)}finally{ls(5,a,l)}}else{ls(4,i,o);try{o.call(i)}finally{ls(5,i,o)}}}}}(t,e),function F3(t,e){const n=t.cleanup,r=e[Ba];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Ba]=null);const i=e[ss];if(null!==i){e[ss]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[et].type&&e[$t].destroy();const r=e[qu];if(null!==r&&yi(e[Tr])){r!==e[Tr]&&iN(r,e);const i=e[os];null!==i&&i.detachView(t)}!function gz(t){Jw.delete(t[Wu])}(e)}finally{H(n)}}function TC(t,e,n){return function oN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Yn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Hi.None||o===Hi.Emulated)return null}return xi(r,n)}}(t,e.parent,n)}function ac(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sN(t,e,n){t.appendChild(e,n)}function aN(t,e,n,r,i){null!==r?ac(t,e,n,r,i):sN(t,e,n)}function my(t,e){return t.parentNode(e)}function lN(t,e,n){return cN(t,e,n)}let DC,cN=function uN(t,e,n){return 40&t.type?xi(t,n):null};function _y(t,e,n,r){const i=TC(t,r,e),o=e[$t],a=lN(r.parent||e[vi],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)aN(o,i,n[l],a,!1);else aN(o,i,n,a,!1);void 0!==DC&&DC(o,r,e,n,i)}function pg(t,e){if(null!==e){const n=e.type;if(3&n)return xi(e,t);if(4&n)return SC(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return pg(t,r);{const i=t[e.index];return yi(i)?SC(-1,i):kn(i)}}if(32&n)return wC(e,t)()||kn(t[e.index]);{const r=hN(t,e);return null!==r?Array.isArray(r)?r[0]:pg(Wa(t[_r]),r):pg(t,e.next)}}return null}function hN(t,e){return null!==e?t[_r][vi].projection[e.projection]:null}function SC(t,e){const n=vr+t+1;if(n<e.length){const r=e[n],i=r[et].firstChild;if(null!==i)return pg(r,i)}return e[as]}function RC(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&qi(kn(a),r),n.flags|=2),32&~n.flags)if(8&l)RC(t,e,n.child,r,i,o,!1),Jd(e,t,i,a,o);else if(32&l){const u=wC(n,r);let h;for(;h=u();)Jd(e,t,i,h,o);Jd(e,t,i,a,o)}else 16&l?pN(t,e,r,n,i,o):Jd(e,t,i,a,o);n=s?n.projectionNext:n.next}}function vy(t,e,n,r,i,o){RC(n,r,t.firstChild,e,i,o,!1)}function pN(t,e,n,r,i,o){const s=n[_r],l=s[vi].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Jd(e,t,i,l[u],o);else{let u=l;const h=s[Tr];Zv(r)&&(u.flags|=128),RC(t,e,u,h,i,o,!0)}}function gN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&fd(t,e,r),null!==i&&gN(t,e,i),null!==o&&function H3(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const an={};function E(t,e=on.Default){const n=be();return null===n?Xe(t,e):Gv($n(),n,Vt(t),e)}function IN(t,e,n,r,i,o){const s=H(null);try{let a=null;i&or.SignalBased&&(a=e[r][qe]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&or.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):bv(e,a,r,o)}finally{H(s)}}function yy(t,e,n,r,i,o,s,a,l,u,h){const g=e.blueprint.slice();return g[Yn]=i,g[kt]=204|r,(null!==u||t&&2048&t[kt])&&(g[kt]|=2048),Pv(g),g[Tr]=g[xl]=t,g[Jn]=n,g[is]=s||t&&t[is],g[$t]=a||t&&t[$t],g[ai]=l||t&&t[ai]||null,g[vi]=o,g[Wu]=function fz(){return hz++}(),g[Ni]=h,g[gv]=u,g[_r]=2==e.type?t[_r]:g,g}function eh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function MC(t,e,n,r,i){const o=Pd(),s=Ju(),l=t.data[e]=function X3(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $l()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function Fv(){return Kt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ka(){const t=Kt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return cs(o,!0),o}function mg(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function EN(t,e,n,r,i){const o=function Ei(){return Kt.lFrame.selectedIndex}(),s=2&r;try{Qa(-1),s&&e.length>en&&function vN(t,e,n,r){if(!r)if(3&~e[kt]){const o=t.preOrderHooks;null!==o&&Fd(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&kd(e,o,n)}Qa(n)}(t,e,en,!1),ls(s?2:0,i),n(r,i)}finally{Qa(o),ls(s?3:1,i)}}function PC(t,e,n){if(Qu(e)){const r=H(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{H(r)}}}function wN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=OC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function OC(t,e,n,r,i,o,s,a,l,u,h){const g=en+r,m=g+i,v=function G3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:an);return n}(g,m),C="function"==typeof u?u():u;return v[et]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}let CN=()=>null;function bN(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=or.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let h=s;if(null!==i){if(!i.hasOwnProperty(s))continue;h=i[s]}0===t?AN(r,n,h,l,u):AN(r,n,h,l)}return r}function AN(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function TN(t,e,n,r,i,o){for(let g=0;g<r.length;g++)Bd(Hl(n,e),t,r[g].type);!function uG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let g=0;g<r.length;g++){const m=r[g];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,l=mg(t,e,r.length,null);for(let g=0;g<r.length;g++){const m=r[g];n.mergedAttrs=$a(n.mergedAttrs,m.hostAttrs),cG(t,n,e,l,m),lG(l,m,i),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const v=m.type.prototype;var u,h;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!v.ngOnChanges&&!v.ngDoCheck||((null!==(h=t.preOrderCheckHooks)&&void 0!==h?h:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function Z3(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<i;h++){const g=o[h],m=n?n.get(g):null,C=m?m.outputs:null;l=bN(0,g.inputs,h,l,m?m.inputs:null),u=bN(1,g.outputs,h,u,C);const A=null===l||null===s||ap(e)?null:fG(l,h,s);a.push(A)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function DN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Nw(){return Kt.lFrame.currentDirectiveIndex}();try{Qa(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];$p(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&oG(l,u)}}finally{Qa(-1),$p(s)}}function oG(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function FC(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function lG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zi(e)&&(n[""]=t)}}function cG(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ys(i.type)),s=new rc(o,zi(i),E);t.blueprint[r]=s,n[r]=s,function nG(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function rG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,mg(t,n,i.hostVars,an),i)}function ua(t,e,n,r,i,o){const s=xi(t,e);!function LC(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Yt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[$t],s,o,t.value,n,r,i)}function hG(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)IN(r,n,s[a++],s[a++],s[a++],s[a++])}function fG(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function RN(t,e){const n=t.contentQueries;if(null!==n){const r=H(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];ec(n[i]),a.contentQueries(2,e[s],s)}}}finally{H(r)}}}function Iy(t,e){return t[Gu]?t[pv][lo]=e:t[Gu]=e,t[pv]=e,e}function VC(t,e,n){ec(0);const r=H(null);try{e(t,n)}finally{H(r)}}function MN(t){return t[Ba]||(t[Ba]=[])}function PN(t){return t.cleanup||(t.cleanup=[])}function Ey(t,e){const n=t[ai],r=n?n.get(Ho,null):null;r&&r.handleError(e)}function $C(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];IN(t.data[s],e[s],r,a,l,i)}}function pG(t,e){const n=uo(e,t),r=n[et];!function gG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Yn];null!==i&&null===n[Ni]&&(n[Ni]=lC(i,n[ai])),BC(r,n,n[Jn])}function BC(t,e,n){jp(e);try{var r;const i=t.viewQuery;null!==i&&VC(1,i,n);const o=t.template;null!==o&&EN(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[os])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&RN(t,e),t.staticViewQueries&&VC(2,t.viewQuery,n);const s=t.components;null!==s&&function mG(t,e){for(let n=0;n<e.length;n++)pG(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[kt]&=-5,Hp()}}function th(t,e){return!e||null===e.firstChild||Zv(t)}function vg(t,e,n,r=!0){const i=e[et];if(function O3(t,e,n,r){const i=vr+r,o=n.length;r>0&&(n[i-1][lo]=e),r<o-vr?(e[lo]=n[i],$u(n,vr+r,e)):(n.push(e),e[lo]=null),e[Tr]=n;const s=e[qu];null!==s&&n!==s&&function k3(t,e){const n=t[kl];e[_r]!==e[Tr][Tr][_r]&&(t[kt]|=bp.HasTransplantedViews),null===n?t[kl]=[e]:n.push(e)}(s,e);const a=e[os];null!==a&&a.insertView(t),Rd(e),e[kt]|=128}(i,e,t,n),r){const s=SC(n,t),a=e[$t],l=my(a,t[as]);null!==l&&function N3(t,e,n,r,i,o){r[Yn]=i,r[vi]=e,vy(t,r,n,1,i,o)}(i,t[vi],a,e,l,s)}const o=e[Ni];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function yg(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(kn(o)),yi(o)&&ON(o,r);const s=n.type;if(8&s)yg(t,e,n.child,r);else if(32&s){const a=wC(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=hN(e,n);if(Array.isArray(a))r.push(...a);else{const l=Wa(e[_r]);yg(l[et],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ON(t,e){for(let n=vr;n<t.length;n++){const r=t[n],i=r[et].firstChild;null!==i&&yg(r[et],r,i,e)}t[as]!==t[Yn]&&e.push(t[as])}let kN=[];const IG={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zu(t.lView)},consumerOnSignalRead(){this.lView[Ua]=this}},FN=100;function wy(t,e=!0,n=0){const r=t[is],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function EG(t,e){jC(t,e);let n=0;for(;kp(t);){if(n===FN)throw new ie(103,!1);n++,jC(t,1)}}(t,n)}catch(u){throw e&&Ey(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function wG(t,e,n,r){var i;const o=e[kt];if(!(256&~o))return;null===(i=e[is].inlineEffectRunner)||void 0===i||i.flush(),jp(e);let a=null,l=null;(function CG(t){return 2!==t.type})(t)&&(l=function _G(t){var e;return null!==(e=t[Ua])&&void 0!==e?e:function vG(t){var e;const n=null!==(e=kN.pop())&&void 0!==e?e:Object.create(IG);return n.lView=t,n}(t)}(e),a=function G(t){return t&&(t.nextProducerIndex=0),H(t)}(l));try{Pv(e),function xd(t){return Kt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&EN(t,e,n,2,r);const u=!(3&~o);if(u){const m=t.preOrderCheckHooks;null!==m&&kd(e,m,null)}else{const m=t.preOrderHooks;null!==m&&Fd(e,m,0,null),nc(e,0)}if(function bG(t){for(let e=gP(t);null!==e;e=mP(e)){if(!(e[kt]&bp.HasTransplantedViews))continue;const n=e[kl];for(let r=0;r<n.length;r++){Op(n[r])}}}(e),LN(e,0),null!==t.contentQueries&&RN(t,e),u){const m=t.contentCheckHooks;null!==m&&kd(e,m)}else{const m=t.contentHooks;null!==m&&Fd(e,m,1),nc(e,1)}!function z3(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Qa(~i);else{const o=i,s=n[++r],a=n[++r];Pw(s,o),a(2,e[o])}}}finally{Qa(-1)}}(t,e);const h=t.components;null!==h&&$N(e,h,0);const g=t.viewQuery;if(null!==g&&VC(2,g,r),u){const m=t.viewCheckHooks;null!==m&&kd(e,m)}else{const m=t.viewHooks;null!==m&&Fd(e,m,2),nc(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ku]){for(const m of e[Ku])m();e[Ku]=null}e[kt]&=-73}catch(u){throw Zu(e),u}finally{null!==l&&(function X(t,e){if(H(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ye(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pe(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function yG(t){t.lView[Ua]!==t&&(t.lView=null,kN.push(t))}(l)),Hp()}}function LN(t,e){for(let n=gP(t);null!==n;n=mP(n))for(let r=vr;r<n.length;r++)VN(n[r],e)}function AG(t,e,n){VN(uo(e,t),n)}function VN(t,e){Xu(t)&&jC(t,e)}function jC(t,e){const r=t[et],i=t[kt],o=t[Ua];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!ke(o))),o&&(o.dirty=!1),t[kt]&=-9217,s)wG(r,t,r.template,t[Jn]);else if(8192&i){LN(t,1);const a=r.components;null!==a&&$N(t,a,1)}}function $N(t,e,n){for(let r=0;r<e.length;r++)AG(t,e[r],n)}function Ig(t){var e;for(null===(e=t[is].changeDetectionScheduler)||void 0===e||e.notify();t;){t[kt]|=64;const n=Wa(t);if(Yu(t)&&!n)return t;t=n}return null}class Eg{get rootNodes(){const e=this._lView,n=e[et];return yg(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jn]}set context(e){this._lView[Jn]=e}get destroyed(){return!(256&~this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Tr];if(yi(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(fg(e,r),Sl(n,r))}this._attachedToViewContainer=!1}gy(this._lView[et],this._lView)}onDestroy(e){qa(this._lView,e)}markForCheck(){Ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-129}reattach(){Rd(this._lView),this._lView[kt]|=128}detectChanges(){this._lView[kt]|=1024,wy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,rN(this._lView[et],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e,Rd(this._lView)}}let Ns=(()=>{class e{}return e.__NG_ELEMENT_ID__=SG,e})();const TG=Ns,DG=class extends TG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function _g(t,e,n,r){const i=H(null);try{var o,s,a;const l=e.tView,g=yy(t,l,n,4096&t[kt]?4096:16,null,e,null,null,null!==(o=null==r?void 0:r.injector)&&void 0!==o?o:null,null!==(s=null==r?void 0:r.embeddedViewInjector)&&void 0!==s?s:null,null!==(a=null==r?void 0:r.dehydratedView)&&void 0!==a?a:null);g[qu]=t[e.index];const v=t[os];return null!==v&&(g[os]=v.createEmbeddedView(l)),BC(l,g,n),g}finally{H(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Eg(i)}};function SG(){return Cy($n(),be())}function Cy(t,e){return 4&t.type?new DG(e,t,qd(t,e)):null}class Sy{}class ZG{}class qN{}class e6{resolveComponentFactory(e){throw function JG(t){const e=Error(`No component factory found for ${Lt(t)}.`);return e.ngComponent=t,e}(e)}}let Ry=(()=>{class e{}return e.NULL=new e6,e})();class My{}let tl=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function t6(){const t=be(),n=uo($n().index,t);return(ni(n)?n:t)[$t]}(),e})(),n6=(()=>{var t;class e{}return(t=e).\u0275prov=Oe({token:t,providedIn:"root",factory:()=>null}),e})();const KC={},KN=new Set;function ca(t){var e,n;KN.has(t)||(KN.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function QN(...t){}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new er(!1),this.onMicrotaskEmpty=new er(!1),this.onStable=new er(!1),this.onError=new er(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function r6(){const t="function"==typeof vt.requestAnimationFrame;let e=vt[t?"requestAnimationFrame":"setTimeout"],n=vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function s6(t){const e=()=>{!function o6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,YC(t),t.isCheckStableRunning=!0,QC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),YC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function a6(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return YN(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),XN(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return YN(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),XN(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,YC(t),QC(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new ie(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,i6,QN,QN);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const i6={};function QC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function YN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XN(t){t._nesting--,QC(t)}class ZN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new er,this.onMicrotaskEmpty=new er,this.onStable=new er,this.onError=new er}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var lc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(lc||{});const JN={destroy(){}};function ex(t,e){var n,r,i;!e&&function wd(t){if(!Rs())throw new ie(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:Le(Qe);if(!function Wl(t){return"browser"===(null!=t?t:Le(Qe)).get(la)}(o))return JN;ca("NgAfterNextRender");const s=o.get(Tg),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new nx,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:lc.MixedReadWrite,u=()=>{a.unregister(g),h()},h=o.get(Za).onDestroy(u),g=ta(o,()=>new tx(l,()=>{u(),t()}));return a.register(g),{destroy:u}}class tx{constructor(e,n){var r;this.phase=e,this.callbackFn=n,this.zone=Le(Re),this.errorHandler=Le(Ho,{optional:!0}),null===(r=Le(Sy,{optional:!0}))||void 0===r||r.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class nx{constructor(){this.executingCallbacks=!1,this.buckets={[lc.EarlyRead]:new Set,[lc.Write]:new Set,[lc.MixedReadWrite]:new Set,[lc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Tg=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;this.executeInternalCallbacks(),null===(r=this.handler)||void 0===r||r.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=Oe({token:t,providedIn:"root",factory:()=>new t}),e})();function Ny(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=xa(i,a):2==o&&(r=xa(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class ox extends Ry{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=mn(e);return new Rg(n,this.ngModule)}}function sx(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class xy{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ad(r);const i=this.injector.get(e,KC,r);return i!==KC||n===KC?i:this.parentInjector.get(e,n,r)}}class Rg extends qN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=sx(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hp(t){return t.map(sw).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=H(null);try{var a;let l=(i=i||this.ngModule)instanceof ti?i:null===(a=i)||void 0===a?void 0:a.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const u=l?new xy(e,l):e,h=u.get(My,null);if(null===h)throw new ie(407,!1);const g=u.get(n6,null),C={rendererFactory:h,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:u.get(Tg,null),changeDetectionScheduler:u.get(Sy,null)},A=h.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",V=r?function q3(t,e,n,r){const o=r.get(NP,!1)||n===Hi.ShadowDom,s=t.selectRootElement(e,o);return function W3(t){CN(t)}(s),s}(A,r,this.componentDef.encapsulation,u):py(A,R,function h6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(R));let B=512;this.componentDef.signals?B|=4096:this.componentDef.onPush||(B|=16);let ge=null;null!==V&&(ge=lC(V,u,!0));const me=OC(0,null,null,1,0,null,null,null,null,null,null),Ge=yy(null,me,null,B,null,null,C,A,u,null,ge);let wt,Xt;jp(Ge);try{const In=this.componentDef;let hi,eo=null;In.findHostDirectiveDefs?(hi=[],eo=new Map,In.findHostDirectiveDefs(In,hi,eo),hi.push(In)):hi=[In];const W0=function p6(t,e){const n=t[et],r=en;return t[r]=e,eh(n,r,2,"#host",null)}(Ge,V),ed=function g6(t,e,n,r,i,o,s){const a=i[et];!function m6(t,e,n,r){for(const i of t)e.mergedAttrs=$a(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ny(e,e.mergedAttrs,!0),null!==n&&mN(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=lC(e,i[ai]));const u=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=yy(i,wN(n),null,h,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&FC(a,t,r.length-1),Iy(i,g),i[t.index]=g}(W0,V,In,hi,Ge,C,A);Xt=Vl(me,en),V&&function v6(t,e,n,r){if(r)fd(t,n,["ng-version","17.3.3"]);else{const{attrs:i,classes:o}=function aw(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Vo(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&fd(t,n,i),o&&o.length>0&&gN(t,n,o.join(" "))}}(A,In,V,r),void 0!==n&&function y6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Xt,this.ngContentSelectors,n),wt=function _6(t,e,n,r,i,o){const s=$n(),a=i[et],l=xi(s,i);TN(a,i,s,n,null,r);for(let h=0;h<n.length;h++)qi(aa(i,a,s.directiveStart+h,s),i);DN(a,i,s),l&&qi(l,i);const u=aa(i,a,s.directiveStart+s.componentOffset,s);if(t[Jn]=i[Jn]=u,null!==o)for(const h of o)h(u,e);return PC(a,s,i),u}(ed,In,hi,eo,Ge,[I6]),BC(me,Ge,null)}finally{Hp()}return new f6(this.componentType,wt,qd(Xt,Ge),Ge,Xt)}finally{H(o)}}}class f6 extends ZG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Eg(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;$C(s[et],s,i,e,n),this.previousInputValues.set(e,n),Ig(uo(this._tNode.index,s))}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function I6(){const t=$n();jl(be()[et],t)}let ps=(()=>{class e{}return e.__NG_ELEMENT_ID__=E6,e})();function E6(){return ux($n(),be())}const w6=ps,ax=class extends w6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const e=sa(this._hostTNode,this._hostLView);if(Ya(e)){const n=oc(e,this._hostLView),r=ic(e);return new Pr(n[et].data[r+8],n)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=lx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,th(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function zu(t){return"function"==typeof t}(e);let h;if(u)h=n;else{const V=n||{};h=V.index,r=V.injector,i=V.projectableNodes,o=V.environmentInjector||V.ngModuleRef}const g=u?e:new Rg(mn(e)),m=r||this.parentInjector;if(!o&&null==g.ngModule){const B=(u?m:this.parentInjector).get(ti,null);B&&(o=B)}const v=mn(null!==(s=g.componentType)&&void 0!==s?s:{}),C=(null==v?void 0:v.id,null),A=null!==(l=null==C?void 0:C.firstChild)&&void 0!==l?l:null,R=g.create(m,i,A,o);return this.insertImpl(R.hostView,h,th(this._hostTNode,C)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function ww(t){return yi(t[Tr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Tr],u=new ax(l,l[vi],l[Tr]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return vg(s,i,o,r),e.attachToViewContainerRef(),$u(eb(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=lx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=fg(this._lContainer,n);r&&(Sl(eb(this._lContainer),n),gy(r[et],r))}detach(e){const n=this._adjustIndex(e,-1),r=fg(this._lContainer,n);return r&&null!=Sl(eb(this._lContainer),n)?new Eg(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function lx(t){return t[8]}function eb(t){return t[8]||(t[8]=[])}function ux(t,e){let n;const r=e[t.index];return yi(r)?n=r:(n=function SN(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}(r,e,null,t),e[t.index]=n,Iy(e,n)),cx(n,e,t,r),new ax(n,t,e)}let cx=function hx(t,e,n,r){if(t[as])return;let i;i=8&n.type?kn(r):function C6(t,e){const n=t[$t],r=n.createComment(""),i=xi(e,t);return ac(n,my(n,i),r,function $3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[as]=i};class nb{constructor(e){this.queryList=e,this.matches=null}clone(){return new nb(this.queryList)}setDirty(){this.queryList.setDirty()}}class rb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new rb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==lb(e,n).matches&&this.queries[n].setDirty()}}class fx{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function P6(t){return t.split(",").map(e=>e.trim())}(e):e}}class ib{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new ib(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ob{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new ob(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,D6(n,o)),this.matchTNodeWithReadOption(e,n,Uo(n,e,o,!1,!1))}else r===Ns?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Uo(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Be||i===ps||i===Ns&&4&n.type)this.addMatch(n.index,-2);else{const o=Uo(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function D6(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function R6(t,e,n,r){return-1===n?function S6(t,e){return 11&t.type?qd(t,e):4&t.type?Cy(t,e):null}(e,t):-2===n?function M6(t,e,n){return n===Be?qd(e,t):n===Ns?Cy(e,t):n===ps?ux(e,t):void 0}(t,e,r):aa(t,t[et],n,e)}function px(t,e,n,r){const i=e[os].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const u=s[l];a.push(u<0?null:R6(e,o[u],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function sb(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=px(t,e,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],h=e[-l];for(let g=vr;g<h.length;g++){const m=h[g];m[qu]===m[Tr]&&sb(m[et],m,u,r)}if(null!==h[kl]){const g=h[kl];for(let m=0;m<g.length;m++){const v=g[m];sb(v[et],v,u,r)}}}}}return r}function mx(t,e,n){const r=yn();return r.firstCreatePass&&(function vx(t,e,n){null===t.queries&&(t.queries=new ib),t.queries.track(new ob(e,n))}(r,new fx(t,e,n),-1),!(2&~e)&&(r.staticViewQueries=!0)),function gx(t,e,n){var r;const i=new Zw(!(4&~n));return function Y3(t,e,n,r){const i=MN(e);i.push(n),t.firstCreatePass&&PN(t).push(r,i.length-1)}(t,e,i,i.destroy),(null!==(r=e[os])&&void 0!==r?r:e[os]=new rb).queries.push(new nb(i))-1}(r,be(),e)}function lb(t,e){return t.queries.getByIndex(e)}function yx(t,e){const n=t[et],r=lb(n,e);return r.crossesNgTemplate?sb(n,t,e,[]):px(n,t,r,e)}function ln(t){let e=function xx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(zi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=ky(t.inputs),s.inputTransforms=ky(t.inputTransforms),s.declaredInputs=ky(t.declaredInputs),s.outputs=ky(t.outputs);const a=i.hostBindings;a&&W6(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&G6(t,l),u&&q6(t,u),H6(t,i),Vn(t.outputs,i.outputs),zi(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ln&&(n=!1)}}e=Object.getPrototypeOf(e)}!function z6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$a(i.hostAttrs,n=$a(n,i.hostAttrs))}}(r)}function H6(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function ky(t){return t===bo?{}:t===wn?[]:t}function G6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function q6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function W6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Lx(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class uc{}class Vx{}class cb extends uc{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ox(this);const i=_i(e);this._bootstrapComponents=zo(i.bootstrap),this._r3Injector=lt(e,n,[{provide:uc,useValue:this},{provide:Ry,useValue:this.componentFactoryResolver},...r],Lt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class db extends Vx{constructor(e){super(),this.moduleType=e}create(e){return new cb(this.moduleType,e,[])}}class $x extends uc{constructor(e){super(),this.componentFactoryResolver=new ox(this),this.instance=null;const n=new ea([...e.providers,{provide:uc,useValue:this},{provide:Ry,useValue:this.componentFactoryResolver}],e.parent||Id(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Fy(t,e,n=null){return new $x({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let ih=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new K(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ms(t,e,n,r){const i=be();return function jr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(i,function Ao(){return Kt.lFrame.bindingIndex++}(),e)&&(yn(),ua(function Wn(){const t=Kt.lFrame;return Vl(t.tView,t.selectedIndex)}(),i,t,e,n,r)),ms}function Ab(t,e,n,r,i){const s=i?"class":"style";$C(t,n,e.inputs[s],s,r)}function cn(t,e,n,r){const i=be(),o=yn(),s=en+t,a=i[$t],l=o.firstCreatePass?function MW(t,e,n,r,i,o){const s=e.consts,l=eh(e,t,2,r,us(s,i));return function kC(t,e,n,r){if(Md()){const i=null===r?null:{"":-1},o=function sG(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(iv(e,a.selectors,!1))if(r||(r=[]),zi(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),FC(t,e,l.length)}else r.unshift(a),FC(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&TN(t,e,n,s,i,a),i&&function aG(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new ie(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=$a(n.mergedAttrs,n.attrs)}(e,n,l,us(s,o)),null!==l.attrs&&Ny(l,l.attrs,!1),null!==l.mergedAttrs&&Ny(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=k1(o,i,l,a,e,t);i[s]=u;const h=Fl(l);return cs(l,!0),mN(a,u,l),!function Ng(t){return!(32&~t.flags)}(l)&&tc()&&_y(o,i,u,l),0===function Cw(){return Kt.lFrame.elementDepthCount}()&&qi(u,i),function bw(){Kt.lFrame.elementDepthCount++}(),h&&(function NC(t,e,n){Md()&&(function iG(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ja(n)&&function dG(t,e,n){const r=xi(e,t),i=wN(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Iy(t,yy(t,i,null,s,r,e,null,t[is].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hl(n,e),qi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=aa(e,t,a,n);qi(u,e),null!==s&&hG(0,a-i,u,l,0,s),zi(l)&&(uo(n.index,e)[Jn]=aa(e,t,a,n))}}(t,e,n,xi(n,e)),!(64&~n.flags)&&DN(t,e,n))}(o,i,l),PC(o,l,i)),null!==r&&function xC(t,e,n=xi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}(i,l),cn}function Cn(){let t=$n();Ju()?Lp():(t=t.parent,cs(t,!1));const e=t;(function Tw(t){return Kt.skipHydrationRootTNode===t})(e)&&function Ov(){Kt.skipHydrationRootTNode=null}(),function Aw(){Kt.lFrame.elementDepthCount--}();const n=yn();return n.firstCreatePass&&(jl(n,t),Qu(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Bw(t){return!!(8&t.flags)}(e)&&Ab(n,e,be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Uw(t){return!!(16&t.flags)}(e)&&Ab(n,e,be(),e.stylesWithoutHost,!1),Cn}function Gr(t,e,n,r){return cn(t,e,n,r),Cn(),Gr}let k1=(t,e,n,r,i,o)=>(ds(!0),py(r,i,function $v(){return Kt.lFrame.currentNamespace}()));const Ch="en-US";let U1=Ch;function Kn(t,e,n,r){const i=be(),o=yn(),s=$n();return function Fb(t,e,n,r,i,o,s){const a=Fl(r),u=t.firstCreatePass&&PN(t),h=e[Jn],g=MN(e);let m=!0;if(3&r.type||s){const A=xi(r,e),R=s?s(A):A,V=g.length,B=s?me=>s(kn(me[r.index])):r.index;let ge=null;if(!s&&a&&(ge=function O5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Ba],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==ge)(ge.__ngLastListenerFn__||ge).__ngNextListenerFn__=o,ge.__ngLastListenerFn__=o,m=!1;else{o=gO(r,e,h,o,!1);const me=n.listen(R,i,o);g.push(o,me),u&&u.push(i,B,V,V+1)}}else o=gO(r,e,h,o,!1);const v=r.outputs;let C;if(m&&null!==v&&(C=v[i])){const A=C.length;if(A)for(let R=0;R<A;R+=2){const Ge=e[C[R]][C[R+1]].subscribe(o),wt=g.length;g.push(o,Ge),u&&u.push(i,r.index,wt,-(wt+1))}}}(o,i,i[$t],s,t,e,r),Kn}function pO(t,e,n,r){const i=H(null);try{return ls(6,e,n),!1!==n(r)}catch(o){return Ey(t,o),!1}finally{ls(7,e,n),H(i)}}function gO(t,e,n,r,i){return function o(s){if(s===Function)return r;Ig(t.componentOffset>-1?uo(t.index,e):e);let l=pO(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=pO(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function k5(t,e){let n=null;const r=function cp(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?iv(t,o,!0):ow(r,o))return i}else n=i}return n}function dt(t){const e=be()[_r][vi];if(!e.projection){const r=e.projection=function Bu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?k5(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function ct(t,e=0,n){const r=be(),i=yn(),o=eh(i,en+t,16,null,n||null);null===o.projection&&(o.projection=e),Lp(),(!r[Ni]||$l())&&32&~o.flags&&function B3(t,e,n){pN(e[$t],0,e,n,TC(t,n,e),lN(n.parent||e[vi],n,e))}(i,r,o)}function rl(){return function ab(t,e){return t[os].queries[e].queryList}(be(),Up())}function kr(t,e=""){const n=be(),r=yn(),i=t+en,o=r.firstCreatePass?eh(r,i,1,e,null):r.data[i],s=OO(r,n,o,e,t);n[i]=s,tc()&&_y(r,n,s,o),cs(o,!1)}let OO=(t,e,n,r,i)=>(ds(!0),function CC(t,e){return t.createText(e)}(e[$t],r));function Bb(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Bb(t[o],e,n,r,i);else{const o=yn(),s=be(),a=$n();let l=ao(t)?t:Vt(t.provide);const u=Ip(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(ao(t)||!t.multi){const v=new rc(u,i,E),C=jb(l,e,i?h:h+m,g);-1===C?(Bd(Hl(a,s),o,l),Ub(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[C]=v,s[C]=v)}else{const v=jb(l,e,h+m,g),C=jb(l,e,h,h+m),R=C>=0&&n[C];if(i&&!R||!i&&!(v>=0&&n[v])){Bd(Hl(a,s),o,l);const V=function n9(t,e,n,r,i){const o=new rc(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,qO(o,i,r&&!n),o}(i?t9:e9,n.length,i,r,u);!i&&R&&(n[C].providerFactory=V),Ub(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else Ub(o,t,v>-1?v:C,qO(n[i?C:v],u,!i&&r));!i&&r&&R&&n[C].componentProviders++}}}function Ub(t,e,n,r){const i=ao(e),o=function vp(t){return!!t.useClass}(e);if(i||o){const l=(o?Vt(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(n);-1===h?u.push(n,[r,l]):u[h+1].push(r,l)}else u.push(n,l)}}}function qO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function e9(t,e,n,r){return Hb(this.multi,[])}function t9(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=aa(n,n[et],this.providerFactory.index,r);o=a.slice(0,s),Hb(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Hb(i,o);return o}function Hb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Bn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function J5(t,e,n){const r=yn();if(r.firstCreatePass){const i=zi(t);Bb(n,r.data,r.blueprint,i,!0),Bb(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let r9=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=mp(0,r.type),o=i.length>0?Fy([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Oe({token:t,providedIn:"environment",factory:()=>new t(Xe(ti))}),e})();function WO(t){ca("NgStandalone"),t.getStandaloneInjector=e=>e.get(r9).getOrCreateStandaloneInjector(t)}class Dh{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const G9=new Dh("17.3.3");let gk=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const yk=new ot(""),rI=new ot("");let Zb,Yb=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zb||(function _8(t){Zb=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Re),Xe(Xb),Xe(rI))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})(),Xb=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=Zb)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Wg(t){return!!t&&"function"==typeof t.then}function Ik(t){return!!t&&"function"==typeof t.subscribe}const iI=new ot("");let Jb=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=Le(iI,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Wg(s))r.push(s);else if(Ik(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const eA=new ot("");function Ck(t,e){return Array.isArray(e)?e.reduce(Ck,t):{...t,...e}}let il=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Le(Gd),this.afterRenderEffectManager=Le(Tg),this.externalTestViews=new Set,this.beforeRender=new L,this.afterTick=new L,this.componentTypes=[],this.components=[],this.isStable=Le(ih).hasPendingTasks.pipe(St(r=>!r)),this._injector=Le(ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof qN;if(!this._injector.get(Jb).done)throw!o&&function Js(t){const e=mn(t)||ur(t)||ei(t);return null!==e&&e.standalone}(r),new ie(405,!1);let a;a=o?r:this._injector.get(Ry).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function v8(t){return t.isBoundToModule}(a)?void 0:this._injector.get(uc),h=a.create(Qe.NULL,[],i||a.selector,l),g=h.location.nativeElement,m=h.injector.get(yk,null);return null==m||m.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),oI(this.components,h),null==m||m.unregisterApplication(g)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new ie(101,!1);const i=H(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,H(i)}}detectChangesInAttachedViews(r){let i=0;const o=this.afterRenderEffectManager;for(;;){if(i===FN)throw new ie(103,!1);if(r){const s=0===i;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)I8(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>tA(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>tA(s))))break}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;oI(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(eA,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>oI(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ie(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function I8(t,e,n){!e&&!tA(t)||function E8(t,e,n){let r;n?(r=0,t[kt]|=1024):r=64&t[kt]?0:1,wy(t,e,r)}(t,n,e)}function tA(t){return kp(t)}class w8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let bk=(()=>{var t;class e{compileModuleSync(r){return new db(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=zo(_i(r).declarations).reduce((a,l)=>{const u=mn(l);return u&&a.push(new Rg(u)),a},[]);return new w8(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),A8=(()=>{var t;class e{constructor(){this.zone=Le(Re),this.applicationRef=Le(il)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function T8(){const t=Le(Re),e=Le(Ho);return n=>t.runOutsideAngular(()=>e.handleError(n))}let S8=(()=>{var t;class e{constructor(){this.subscription=new le,this.initialized=!1,this.zone=Le(Re),this.pendingTasks=Le(ih)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;Re.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ol=new ot("",{providedIn:"root",factory:()=>Le(ol,on.Optional|on.SkipSelf)||function R8(){return typeof $localize<"u"&&$localize.locale||Ch}()}),nA=new ot("");let Sk=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function l6(t="zone.js",e){return"noop"===t?new ZN:"zone.js"===t?new Re(e):t}(null==i?void 0:i.ngZone,function Dk(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function eq(t,e,n){return new cb(t,e,n)}(r.moduleType,this.injector,function Tk(t){return[{provide:Re,useFactory:t},{provide:Ss,multi:!0,useFactory:()=>{const e=Le(A8,{optional:!0});return()=>e.initialize()}},{provide:Ss,multi:!0,useFactory:()=>{const e=Le(S8);return()=>{e.initialize()}}},{provide:Gd,useFactory:T8}]}(()=>o)),a=s.injector.get(Ho,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{oI(this._modules,s),l.unsubscribe()})}),function wk(t,e,n){try{const r=n();return Wg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(Jb);return l.runInitializers(),l.donePromise.then(()=>(function j1(t){"string"==typeof t&&(U1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ol,Ch)||Ch),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=Ck({},i);return function b8(t,e,n){const r=new db(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(il);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new ie(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(nA,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Qe))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Jl=null;const Rk=new ot("");function Mk(t,e,n=[]){const r=`Platform: ${e}`,i=new ot(r);return(o=[])=>{let s=rA();if(!s||s.injector.get(Rk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function N8(t){if(Jl&&!Jl.get(Rk,!1))throw new ie(400,!1);(function Ek(){!function Te(t){It=t}(()=>{throw new ie(600,!1)})})(),Jl=t;const e=t.get(Sk);(function Nk(t){const e=t.get(AP,null);null==e||e.forEach(n=>n())})(t)}(function Pk(t=[],e){return Qe.create({name:e,providers:[{provide:yp,useValue:"platform"},{provide:nA,useValue:new Set([()=>Jl=null])},...t]})}(a,r))}return function x8(t){const e=rA();if(!e)throw new ie(401,!1);return e}()}}function rA(){var t,e;return null!==(t=null===(e=Jl)||void 0===e?void 0:e.get(Sk))&&void 0!==t?t:null}let nt=(()=>{class e{}return e.__NG_ELEMENT_ID__=k8,e})();function k8(t){return function F8(t,e,n){if(ja(t)&&!n){const r=uo(t.index,e);return new Eg(r,r)}return 47&t.type?new Eg(e[_r],e):null}($n(),be(),!(16&~t))}const K8=Mk(null,"core",[]);let Q8=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(il))},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({}),e})();function Rh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function hF(t){const e=mn(t);if(!e)return null;const n=new Rg(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let dA=null;function eu(){return dA}class NK{}const Wi=new ot("");let hA=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(OK),providedIn:"platform"}),e})();const xK=new ot("");let OK=(()=>{var t;class e extends hA{constructor(){super(),this._doc=Le(Wi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eu().getBaseHref(this._doc)}onPopState(r){const i=eu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=eu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>new t,providedIn:"platform"}),e})();function fA(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fF(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function sl(t){return t&&"?"!==t[0]?"?"+t:t}let pa=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(gF),providedIn:"root"}),e})();const pF=new ot("");let gF=(()=>{var t;class e extends pa{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=Le(Wi).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return fA(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+sl(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+sl(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+sl(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(hA),Xe(pF,8))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),mF=(()=>{var t;class e extends pa{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=fA(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+sl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+sl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(hA),Xe(pF,8))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})(),tu=(()=>{var t;class e{constructor(r){this._subject=new er,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function LK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(fF(_F(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+sl(i))}normalize(r){return e.stripTrailingSlash(function FK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,_F(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+sl(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+sl(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=sl,t.joinWithSlash=fA,t.stripTrailingSlash=fF,t.\u0275fac=function(r){return new(r||t)(Xe(pa))},t.\u0275prov=Oe({token:t,factory:()=>function kK(){return new tu(Xe(pa))}(),providedIn:"root"}),e})();function _F(t){return t.replace(/\/index.html$/,"")}let NF=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({}),e})();const xF="browser";function bI(t){return"server"===t}let iQ=(()=>{var t;class e{}return(t=e).\u0275prov=Oe({token:t,providedIn:"root",factory:()=>function rQ(t){return t===xF}(Le(la))?new oQ(Le(Wi),window):new aQ}),e})();class oQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function sQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class aQ{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class FQ extends NK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class PA extends FQ{static makeCurrent(){!function PK(t){var e;null!==(e=dA)&&void 0!==e||(dA=t)}(new PA)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function LQ(){return tm=tm||document.querySelector("base"),tm?tm.getAttribute("href"):null}();return null==n?null:function VQ(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){tm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function E7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let tm=null,BQ=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();const NA=new ot("");let jF=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ie(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(NA),Xe(Re))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();class HF{constructor(e){this._doc=e}}const xA="ng-app-id";let zF=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bI(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${xA}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(xA),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xA,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Wi),Xe(ty),Xe(TP,8),Xe(la))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();const OA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kA=/%COMP%/g,zQ=new ot("",{providedIn:"root",factory:()=>!0});function qF(t,e){return e.map(n=>n.replace(kA,t))}let FA=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=bI(l),this.defaultRenderer=new LA(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Hi.ShadowDom&&(i={...i,encapsulation:Hi.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof KF?o.applyToHost(r):o instanceof VA&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Hi.Emulated:s=new KF(u,h,i,this.appId,g,a,l,m);break;case Hi.ShadowDom:return new KQ(u,h,r,i,a,l,this.nonce,m);default:s=new VA(u,h,i,g,a,l,m)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(jF),Xe(zF),Xe(ty),Xe(zQ),Xe(Wi),Xe(la),Xe(Re),Xe(TP))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();class LA{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(OA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=OA[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=OA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kl.DashCase|Kl.Important)?e.style.setProperty(n,r,i&Kl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=eu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function WF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class KQ extends LA{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=qF(i.id,i.styles);for(const h of u){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VA extends LA{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?qF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KF extends VA{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function GQ(t){return"_ngcontent-%COMP%".replace(kA,t)}(u),this.hostAttr=function qQ(t){return"_nghost-%COMP%".replace(kA,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let QQ=(()=>{var t;class e extends HF{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Wi))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();const QF=["alt","control","meta","shift"],YQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XQ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ZQ=(()=>{var t;class e extends HF{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eu().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),QF.forEach(h=>{const g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=YQ[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),QF.forEach(a=>{a!==o&&(0,XQ[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Wi))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();const XF=[{provide:la,useValue:xF},{provide:AP,useValue:function JQ(){PA.makeCurrent()},multi:!0},{provide:Wi,useFactory:function tY(){return function Pz(t){nC=t}(document),document},deps:[]}],nY=Mk(K8,"browser",XF),rY=new ot(""),ZF=[{provide:rI,useClass:class $Q{addToWindow(e){vt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ie(5103,!1);return o},vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),vt.getAllAngularRootElements=()=>e.getAllRootElements(),vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(r=>{const i=vt.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?eu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:yk,useClass:Yb,deps:[Re,Xb,rI]},{provide:Yb,useClass:Yb,deps:[Re,Xb,rI]}],JF=[{provide:yp,useValue:"root"},{provide:Ho,useFactory:function eY(){return new Ho},deps:[]},{provide:NA,useClass:QQ,multi:!0,deps:[Wi,Re,la]},{provide:NA,useClass:ZQ,multi:!0,deps:[Wi]},FA,zF,jF,{provide:My,useExisting:FA},{provide:class lQ{},useClass:BQ,deps:[]},[]];let eL=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:ty,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(rY,12))},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({providers:[...JF,...ZF],imports:[NF,Q8]}),e})(),iY=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Wi))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var it=ae(1635);const $A=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function iL(t){return gt(null==t?void 0:t.then)}function oL(t){return gt(t[Ui])}function sL(t){return Symbol.asyncIterator&&gt(null==t?void 0:t[Symbol.asyncIterator])}function aL(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lL=function lY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function uL(t){return gt(null==t?void 0:t[lL])}function cL(t){return(0,it.AQ)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,it.N3)(n.read());if(i)return yield(0,it.N3)(void 0);yield yield(0,it.N3)(r)}}finally{n.releaseLock()}})}function dL(t){return gt(null==t?void 0:t.getReader)}function Mo(t){if(t instanceof Nn)return t;if(null!=t){if(oL(t))return function uY(t){return new Nn(e=>{const n=t[Ui]();if(gt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if($A(t))return function cY(t){return new Nn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(iL(t))return function dY(t){return new Nn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vn)})}(t);if(sL(t))return hL(t);if(uL(t))return function hY(t){return new Nn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(dL(t))return function fY(t){return hL(cL(t))}(t)}throw aL(t)}function hL(t){return new Nn(e=>{(function pY(t,e){var n,r,i,o;return(0,it.sH)(this,void 0,void 0,function*(){try{for(n=(0,it.xN)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ul(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function mc(t,e=0){return ut((n,r)=>{n.subscribe(Gt(r,i=>ul(r,t,()=>r.next(i),e),()=>ul(r,t,()=>r.complete(),e),i=>ul(r,t,()=>r.error(i),e)))})}function Ph(t,e=0){return ut((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fL(t,e){if(!t)throw new Error("Iterable cannot be null");return new Nn(n=>{ul(n,e,()=>{const r=t[Symbol.asyncIterator]();ul(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yr(t,e){return e?function IY(t,e){if(null!=t){if(oL(t))return function gY(t,e){return Mo(t).pipe(Ph(e),mc(e))}(t,e);if($A(t))return function _Y(t,e){return new Nn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(iL(t))return function mY(t,e){return Mo(t).pipe(Ph(e),mc(e))}(t,e);if(sL(t))return fL(t,e);if(uL(t))return function vY(t,e){return new Nn(n=>{let r;return ul(n,e,()=>{r=t[lL](),ul(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>gt(null==r?void 0:r.return)&&r.return()})}(t,e);if(dL(t))return function yY(t,e){return fL(cL(t),e)}(t,e)}throw aL(t)}(t,e):Mo(t)}const{isArray:EY}=Array,{getPrototypeOf:wY,prototype:CY,keys:bY}=Object;function BA(t){return t[t.length-1]}function rm(t){return function TY(t){return t&&gt(t.schedule)}(BA(t))?t.pop():void 0}const{isArray:SY}=Array;function nu(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const wi=new ot("");function SI(t){return null}function dV(t){return"number"==typeof t?t:parseFloat(t)}Promise.resolve(),Promise.resolve();let vc=(()=>{var t;class e{constructor(){this._validator=SI}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):SI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=At({type:t,features:[Ii]}),e})();const yX={provide:wi,useExisting:En(()=>uT),multi:!0};let uT=(()=>{var t;class e extends vc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>dV(r),this.createValidator=r=>function EL(t){return e=>{if(nu(e.value)||nu(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})(),t.\u0275dir=At({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ms("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Bn([yX]),ln]}),e})();const IX={provide:wi,useExisting:En(()=>cT),multi:!0};let cT=(()=>{var t;class e extends vc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>dV(r),this.createValidator=r=>function IL(t){return e=>{if(nu(e.value)||nu(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})(),t.\u0275dir=At({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ms("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Bn([IX]),ln]}),e})();function jt(...t){return yr(t,rm(t))}function LI(...t){const e=rm(t),n=function gL(t){return gt(BA(t))?t.pop():void 0}(t),{args:r,keys:i}=function pL(t){if(1===t.length){const e=t[0];if(EY(e))return{args:e,keys:null};if(function AY(t){return t&&"object"==typeof t&&wY(t)===CY}(e)){const n=bY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return yr([],e);const o=new Nn(function RX(t,e,n=lr){return r=>{_V(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)_V(e,()=>{const u=yr(t[l],e);let h=!1;u.subscribe(Gt(r,g=>{o[l]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function mL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):lr));return n?o.pipe(function UA(t){return St(e=>function RY(t,e){return SY(e)?t(...e):t(e)}(t,e))}(n)):o}function _V(t,e,n){t?ul(n,t,e):e()}const VI=fn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ki(t,e,n=1/0){return gt(e)?ki((r,i)=>St((o,s)=>e(r,o,i,s))(Mo(t(r,i))),n):("number"==typeof e&&(n=e),ut((r,i)=>function MX(t,e,n,r,i,o,s,a){const l=[];let u=0,h=0,g=!1;const m=()=>{g&&!l.length&&!u&&e.complete()},v=A=>u<r?C(A):l.push(A),C=A=>{o&&e.next(A),u++;let R=!1;Mo(n(A,h++)).subscribe(Gt(e,V=>{null==i||i(V),o?v(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;l.length&&u<r;){const V=l.shift();s?ul(e,s,()=>C(V)):C(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(Gt(e,v,()=>{g=!0,m()})),()=>{null==a||a()}}(r,i,t,n)))}function xh(t=1/0){return ki(lr,t)}function hT(...t){return function PX(){return xh(1)}()(yr(t,rm(t)))}function vV(t){return new Nn(e=>{Mo(t()).subscribe(e)})}function $I(t,e){const n=gt(t)?t:()=>t,r=i=>i.error(n());return new Nn(e?i=>e.schedule(r,0,i):r)}const Ls=new Nn(t=>t.complete());function fT(){return ut((t,e)=>{let n=null;t._refCount++;const r=Gt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class yV extends Nn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new le;const n=this.getSubject();e.add(this.source.subscribe(Gt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=le.EMPTY)}return e}refCount(){return fT()(this)}}function qr(t,e){return ut((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Gt(r,l=>{null==i||i.unsubscribe();let u=0;const h=o++;Mo(t(l,h)).subscribe(i=Gt(r,g=>r.next(e?e(l,g,h,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Oh(t){return t<=0?()=>Ls:ut((e,n)=>{let r=0;e.subscribe(Gt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function BI(...t){const e=rm(t);return ut((n,r)=>{(e?hT(t,n,e):hT(t,n)).subscribe(r)})}function Wo(t,e){return ut((n,r)=>{let i=0;n.subscribe(Gt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function UI(t){return ut((e,n)=>{let r=!1;e.subscribe(Gt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function IV(t=xX){return ut((e,n)=>{let r=!1;e.subscribe(Gt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function xX(){return new VI}function iu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wo((i,o)=>t(i,o,r)):lr,Oh(1),n?UI(e):IV(()=>new VI))}function um(t,e){return gt(e)?ki(t,e,1):ki(t,1)}function Ki(t,e,n){const r=gt(t)||e||n?{next:t,error:e,complete:n}:t;return r?ut((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Gt(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):lr}function yc(t){return ut((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Gt(n,void 0,void 0,s=>{o=Mo(t(s,yc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function jI(t,e){return ut(function OX(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Gt(s,h=>{const g=u++;l=a?t(l,h,g):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function pT(t){return t<=0?()=>Ls:ut((e,n)=>{let r=[];e.subscribe(Gt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gT(t){return ut((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const dn="primary",cm=Symbol("RouteTitle");class VX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function kh(t){return new VX(t)}function $X(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ga(t,e){const n=t?mT(t):void 0,r=e?mT(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!EV(t[i],e[i]))return!1;return!0}function mT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function EV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function wV(t){return t.length>0?t[t.length-1]:null}function ou(t){return function SX(t){return!!t&&(t instanceof Nn||gt(t.lift)&&gt(t.subscribe))}(t)?t:Wg(t)?yr(Promise.resolve(t)):jt(t)}const UX={exact:function AV(t,e,n){if(!Ic(t.segments,e.segments)||!HI(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!AV(t.children[r],e.children[r],n))return!1;return!0},subset:TV},CV={exact:function jX(t,e){return ga(t,e)},subset:function HX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EV(t[n],e[n]))},ignored:()=>!0};function bV(t,e,n){return UX[n.paths](t.root,e.root,n.matrixParams)&&CV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TV(t,e,n){return DV(t,e,e.segments,n)}function DV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ic(i,n)||e.hasChildren()||!HI(i,n,r))}if(t.segments.length===n.length){if(!Ic(t.segments,n)||!HI(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!TV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ic(t.segments,i)&&HI(t.segments,i,r)&&t.children[dn])&&DV(t.children[dn],e,o,r)}}function HI(t,e,n){return e.every((r,i)=>CV[n](t[i].parameters,r.parameters))}class Fh{constructor(e=new tr([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=kh(this.queryParams)),this._queryParamMap}toString(){return qX.serialize(this)}}class tr{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zI(this)}}class dm{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=kh(this.parameters)),this._parameterMap}toString(){return MV(this)}}function Ic(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ec=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>new _T,providedIn:"root"}),e})();class _T{parse(e){const n=new rZ(e);return new Fh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${hm(e.root,!0)}`,r=function QX(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${GI(n)}=${GI(i)}`).join("&"):`${GI(n)}=${GI(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function WX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const qX=new _T;function zI(t){return t.segments.map(e=>MV(e)).join("/")}function hm(t,e){if(!t.hasChildren())return zI(t);if(e){const n=t.children[dn]?hm(t.children[dn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==dn&&r.push(`${i}:${hm(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function GX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===dn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==dn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===dn?[hm(t.children[dn],!1)]:[`${i}:${hm(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[dn]?`${zI(t)}/${n[0]}`:`${zI(t)}/(${n.join("//")})`}}function SV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function GI(t){return SV(t).replace(/%3B/gi,";")}function vT(t){return SV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qI(t){return decodeURIComponent(t)}function RV(t){return qI(t.replace(/\+/g,"%20"))}function MV(t){return`${vT(t.path)}${function KX(t){return Object.entries(t).map(([e,n])=>`;${vT(e)}=${vT(n)}`).join("")}(t.parameters)}`}const YX=/^[^\/()?;#]+/;function yT(t){const e=t.match(YX);return e?e[0]:""}const XX=/^[^\/()?;=#]+/,JX=/^[^=?&#]+/,tZ=/^[^&#]+/;class rZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tr([],{}):new tr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[dn]=new tr(e,n)),r}parseSegment(){const e=yT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new dm(qI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function ZX(t){const e=t.match(XX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=yT(this.remaining);i&&(r=i,this.capture(r))}e[qI(n)]=qI(r)}parseQueryParam(e){const n=function eZ(t){const e=t.match(JX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function nZ(t){const e=t.match(tZ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=RV(n),o=RV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=dn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[dn]:new tr([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}}function PV(t){return t.segments.length>0?new tr([],{[dn]:t}):t}function NV(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=NV(i);if(r===dn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function iZ(t){if(1===t.numberOfChildren&&t.children[dn]){const e=t.children[dn];return new tr(t.segments.concat(e.segments),e.children)}return t}(new tr(t.segments,e))}function Lh(t){return t instanceof Fh}function xV(t){var e;let n;const o=PV(function r(s){const a={};for(const u of s.children){const h=r(u);a[u.outlet]=h}const l=new tr(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function OV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return IT(i,i,i,n,r);const o=function sZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new FV(n,e,r)}(e);if(o.toRoot())return IT(i,i,new tr([],{}),n,r);const s=function aZ(t,e,n){if(t.isAbsolute)return new KI(e,!0,0);if(!n)return new KI(e,!1,NaN);if(null===n.parent)return new KI(n,!0,0);const r=WI(t.commands[0])?0:1;return function lZ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ie(4005,!1);i=r.segments.length}return new KI(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?pm(s.segmentGroup,s.index,o.commands):LV(s.segmentGroup,s.index,o.commands);return IT(i,s.segmentGroup,a,n,r)}function WI(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fm(t){return"object"==typeof t&&null!=t&&t.outlets}function IT(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=t===e?n:kV(t,e,n);const a=PV(NV(s));return new Fh(a,o,i)}function kV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:kV(o,e,n)}),new tr(t.segments,r)}class FV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&WI(r[0]))throw new ie(4003,!1);const i=r.find(fm);if(i&&i!==wV(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class KI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function LV(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new tr([],{})),0===t.segments.length&&t.hasChildren())return pm(t,e,n);const i=function cZ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(fm(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!$V(l,u,s))return o;r+=2}else{if(!$V(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new tr(t.segments.slice(0,i.pathIndex),{});return s.children[dn]=new tr(t.segments.slice(i.pathIndex),t.children),pm(s,0,o)}return i.match&&0===o.length?new tr(t.segments,{}):i.match&&!t.hasChildren()?ET(t,e,n):i.match?pm(t,0,o):ET(t,e,n)}function pm(t,e,n){if(0===n.length)return new tr(t.segments,{});{const r=function uZ(t){return fm(t[0])?t[0].outlets:{[dn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==dn)&&t.children[dn]&&1===t.numberOfChildren&&0===t.children[dn].segments.length){const o=pm(t.children[dn],e,n);return new tr(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=LV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new tr(t.segments,i)}}function ET(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(fm(o)){const l=dZ(o.outlets);return new tr(r,l)}if(0===i&&WI(n[0])){r.push(new dm(t.segments[e].path,VV(n[0]))),i++;continue}const s=fm(o)?o.outlets[dn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&WI(a)?(r.push(new dm(s,VV(a))),i+=2):(r.push(new dm(s,{})),i++)}return new tr(r,{})}function dZ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=ET(new tr([],{}),0,r))}),e}function VV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $V(t,e,n){return t==n.path&&ga(e,n.parameters)}const gm="imperative";var Rn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Rn||{});class ma{constructor(e,n){this.id=e,this.url=n}}class mm extends ma{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Rn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dl extends ma{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Rn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ko=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ko||{}),QI=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(QI||{});class Vh extends ma{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Rn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $h extends ma{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Rn.NavigationSkipped}}class YI extends ma{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Rn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BV extends ma{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hZ extends ma{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fZ extends ma{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Rn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pZ extends ma{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gZ extends ma{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mZ{constructor(e){this.route=e,this.type=Rn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _Z{constructor(e){this.route=e,this.type=Rn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vZ{constructor(e){this.snapshot=e,this.type=Rn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yZ{constructor(e){this.snapshot=e,this.type=Rn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IZ{constructor(e){this.snapshot=e,this.type=Rn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EZ{constructor(e){this.snapshot=e,this.type=Rn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Rn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wT{}class CT{constructor(e){this.url=e}}class wZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wc,this.attachRef=null}}let wc=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new wZ,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class jV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=bT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=bT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=AT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AT(e,this._root).map(n=>n.value)}}function bT(t,e){if(t===e.value)return e;for(const n of e.children){const r=bT(t,n);if(r)return r}return null}function AT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=AT(t,n);if(r.length)return r.unshift(e),r}return[]}class Vs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Bh(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class HV extends jV{constructor(e,n){super(e),this.snapshot=n,ST(this,e)}toString(){return this.snapshot.toString()}}function zV(t){const e=function CZ(t){const o=new DT([],{},{},"",{},dn,t,null,{});return new GV("",new Vs(o,[]))}(t),n=new K([new dm("",{})]),r=new K({}),i=new K({}),o=new K({}),s=new K(""),a=new _a(n,r,o,s,i,dn,t,e.root);return a.snapshot=e.root,new HV(new Vs(a,[]),e)}class _a{constructor(e,n,r,i,o,s,a,l){var u,h;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(h=this.dataSubject)||void 0===h?void 0:h.pipe(St(g=>g[cm])))&&void 0!==u?u:jt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(St(n=>kh(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(St(n=>kh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TT(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&WV(o)&&(i.resolve[cm]=o.title),i}class DT{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[cm]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=kh(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=kh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GV extends jV{constructor(e,n){super(n),this.url=e,ST(this,n)}toString(){return qV(this._root)}}function ST(t,e){e.value._routerState=t,e.children.forEach(n=>ST(t,n))}function qV(t){const e=t.children.length>0?` { ${t.children.map(qV).join(", ")} } `:"";return`${t.value}${e}`}function RT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ga(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ga(e.params,n.params)||t.paramsSubject.next(n.params),function BX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ga(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ga(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function MT(t,e){const n=ga(t.params,e.params)&&function zX(t,e){return Ic(t,e)&&t.every((n,r)=>ga(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||MT(t.parent,e.parent))}function WV(t){return"string"==typeof t.title||null===t.title}let KV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=dn,this.activateEvents=new er,this.deactivateEvents=new er,this.attachEvents=new er,this.detachEvents=new er,this.parentContexts=Le(wc),this.location=Le(ps),this.changeDetector=Le(nt),this.environmentInjector=Le(ti),this.inputBinder=Le(XI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new bZ(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:h,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=At({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]}),e})();class bZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===_a?this.route:e===wc?this.childContexts:this.parent.get(e,n)}}const XI=new ot("");let QV=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=LI([i.queryParams,i.params,i.data]).pipe(qr(([s,a,l],u)=>(l={...s,...a,...l},0===u?jt(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=hF(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();function _m(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function TZ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _m(t,r,i);return _m(t,r)})}(t,e,n);return new Vs(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>_m(t,a)),s}}const r=function DZ(t){return new _a(new K(t.url),new K(t.params),new K(t.queryParams),new K(t.fragment),new K(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>_m(t,o));return new Vs(r,i)}}const YV="ngNavigationCancelingError";function XV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Lh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZV(!1,Ko.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ZV(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[YV]=!0,n.cancellationCode=e,n}function JV(t){return!!t&&t[YV]}let e2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ke({type:t,selectors:[["ng-component"]],standalone:!0,features:[WO],decls:1,vars:0,template:function(r,i){1&r&&Gr(0,"router-outlet")},dependencies:[KV],encapsulation:2}),e})();function PT(t){const e=t.children&&t.children.map(PT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==dn&&(n.component=e2),n}function va(t){return t.outlet||dn}function vm(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class kZ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Bh(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Bh(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new EZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yZ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(RT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),RT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=vm(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class t2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ZI{constructor(e,n){this.component=e,this.route=n}}function FZ(t,e,n){const r=t._root;return ym(r,e?e._root:null,n,[r.value])}function Uh(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Or(t){return null!==ir(t)}(t)?e.get(t):t:r}function ym(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bh(e);return t.children.forEach(s=>{(function VZ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function $Z(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ic(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ic(t.url,e.url)||!ga(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!MT(t,e)||!ga(t.queryParams,e.queryParams);default:return!MT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new t2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ym(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ZI(a.outlet.component,s))}else s&&Im(e,a,i),i.canActivateChecks.push(new t2(r)),ym(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Im(a,n.getContext(s),i)),i}function Im(t,e,n){const r=Bh(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Im(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ZI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Em(t){return"function"==typeof t}function n2(t){return t instanceof VI||"EmptyError"===(null==t?void 0:t.name)}const JI=Symbol("INITIAL_VALUE");function jh(){return qr(t=>LI(t.map(e=>e.pipe(Oh(1),BI(JI)))).pipe(St(e=>{for(const n of e)if(!0!==n){if(n===JI)return JI;if(!1===n||n instanceof Fh)return n}return!0}),Wo(e=>e!==JI),Oh(1)))}function r2(t){return function Oo(...t){return ns(t)}(Ki(e=>{if(Lh(e))throw XV(0,e)}),St(e=>!0===e))}class NT{constructor(e){this.segmentGroup=e||null}}class xT extends Error{constructor(e){super(),this.urlTree=e}}function Hh(t){return $I(new NT(t))}class iJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return jt(r);if(i.numberOfChildren>1||!i.children[dn])return $I(new ie(4e3,!1));i=i.children[dn]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new xT(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Fh(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new tr(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ie(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const OT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oJ(t,e,n,r,i){const o=kT(t,e,n);return o.matched?(r=function RZ(t,e){var n;return t.providers&&!t._injector&&(t._injector=Fy(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function tJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?jt(i.map(s=>{const a=Uh(s,t);return ou(function GZ(t){return t&&Em(t.canMatch)}(a)?a.canMatch(e,n):ta(t,()=>a(e,n)))})).pipe(jh(),r2()):jt(!0)}(r,e,n).pipe(St(s=>!0===s?o:{...OT}))):jt(o)}function kT(t,e,n){var r,i;if("**"===e.path)return function sJ(t){return{matched:!0,parameters:t.length>0?wV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...OT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||$X)(n,t,e);if(!s)return{...OT};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,h])=>{a[u]=h.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function i2(t,e,n,r){return n.length>0&&function uJ(t,e,n){return n.some(r=>eE(t,e,r)&&va(r)!==dn)}(t,n,r)?{segmentGroup:new tr(e,lJ(r,new tr(n,t.children))),slicedSegments:[]}:0===n.length&&function cJ(t,e,n){return n.some(r=>eE(t,e,r))}(t,n,r)?{segmentGroup:new tr(t.segments,aJ(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new tr(t.segments,t.children),slicedSegments:n}}function aJ(t,e,n,r){const i={};for(const o of n)if(eE(t,e,o)&&!r[va(o)]){const s=new tr([],{});i[va(o)]=s}return{...r,...i}}function lJ(t,e){const n={};n[dn]=e;for(const r of t)if(""===r.path&&va(r)!==dn){const i=new tr([],{});n[va(r)]=i}return n}function eE(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class fJ{}class mJ{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new iJ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){const e=i2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(St(n=>{const r=new DT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,{}),i=new Vs(r,n),o=new GV("",i),s=function oZ(t,e,n=null,r=null){return OV(xV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,dn).pipe(yc(r=>{if(r instanceof xT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof NT?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=TT(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(St(o=>o instanceof Vs?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return yr(i).pipe(um(o=>{const s=r.children[o],a=function xZ(t,e){const n=t.filter(r=>va(r)===e);return n.push(...t.filter(r=>va(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),jI((o,s)=>(o.push(...s),o)),UI(null),function kX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wo((i,o)=>t(i,o,r)):lr,pT(1),n?UI(e):IV(()=>new VI))}(),ki(o=>{if(null===o)return Hh(r);const s=o2(o);return function _J(t){t.sort((e,n)=>e.value.outlet===dn?-1:n.value.outlet===dn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),jt(s)}))}processSegment(e,n,r,i,o,s){return yr(n).pipe(um(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(yc(u=>{if(u instanceof NT)return jt(null);throw u}))}),iu(a=>!!a),yc(a=>{if(n2(a))return function hJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?jt(new fJ):Hh(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function dJ(t,e,n,r){return!!(va(t)===r||r!==dn&&eE(e,n,t))&&kT(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Hh(i):Hh(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=kT(n,i,o);if(!a)return Hh(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,g).pipe(ki(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=oJ(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(qr(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(qr(({routes:u})=>{var h,g,m;const v=null!==(h=r._loadedInjector)&&void 0!==h?h:e,{consumedSegments:C,remainingSegments:A,parameters:R}=a,V=new DT(C,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function yJ(t){return t.data||{}}(r),va(r),null!==(g=null!==(m=r.component)&&void 0!==m?m:r._loadedComponent)&&void 0!==g?g:null,r,function IJ(t){return t.resolve||{}}(r)),{segmentGroup:B,slicedSegments:ge}=i2(n,C,A,u);if(0===ge.length&&B.hasChildren())return this.processChildren(v,u,B).pipe(St(Ge=>null===Ge?null:new Vs(V,Ge)));if(0===u.length&&0===ge.length)return jt(new Vs(V,[]));const me=va(r)===o;return this.processSegment(v,u,B,ge,me?dn:o,!0).pipe(St(Ge=>new Vs(V,Ge instanceof Vs?[Ge]:[])))}))):Hh(n)}))}getChildConfig(e,n,r){return n.children?jt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?jt({routes:n._loadedRoutes,injector:n._loadedInjector}):function eJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?jt(!0):jt(i.map(s=>{const a=Uh(s,t);return ou(function UZ(t){return t&&Em(t.canLoad)}(a)?a.canLoad(e,n):ta(t,()=>a(e,n)))})).pipe(jh(),r2())}(e,n,r).pipe(ki(i=>i?this.configLoader.loadChildren(e,n).pipe(Ki(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function rJ(t){return $I(ZV(!1,Ko.GuardRejected))}())):jt({routes:[],injector:e})}}function vJ(t){const e=t.value.routeConfig;return e&&""===e.path}function o2(t){const e=[],n=new Set;for(const r of t){if(!vJ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=o2(r.children);e.push(new Vs(r.value,i))}return e.filter(r=>!n.has(r))}function s2(t){const e=t.children.map(n=>s2(n)).flat();return[t,...e]}function FT(t){return qr(e=>{const n=t(e);return n?yr(n).pipe(St(()=>e)):jt(e)})}let a2=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===dn)}return i}getResolvedTitleForRoute(r){return r.data[cm]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(TJ),providedIn:"root"}),e})(),TJ=(()=>{var t;class e extends a2{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(iY))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const zh=new ot("",{providedIn:"root",factory:()=>({})}),Gh=new ot("");let LT=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Le(bk)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return jt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ou(r.loadComponent()).pipe(St(l2),Ki(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),gT(()=>{this.componentLoaders.delete(r)})),o=new yV(i,()=>new L).pipe(fT());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return jt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function DJ(t,e,n,r){return ou(t.loadChildren()).pipe(St(l2),ki(i=>i instanceof Vx||Array.isArray(i)?jt(i):yr(e.compileModuleAsync(i))),St(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Gh,[],{optional:!0,self:!0}).flat()),{routes:s.map(PT),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(gT(()=>{this.childrenLoaders.delete(i)})),a=new yV(s,()=>new L).pipe(fT());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function l2(t){return function SJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let VT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(RJ),providedIn:"root"}),e})(),RJ=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const u2=new ot(""),c2=new ot("");function MJ(t,e,n){const r=t.get(c2),i=t.get(Wi);return t.get(Re).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function PJ(t){return new Promise(e=>{ex(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&ta(t,()=>l({transition:a,from:e,to:n})),s})}let tE=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new L,this.transitionAbortSubject=new L,this.configLoader=Le(LT),this.environmentInjector=Le(ti),this.urlSerializer=Le(Ec),this.rootContexts=Le(wc),this.location=Le(tu),this.inputBindingEnabled=null!==Le(XI,{optional:!0}),this.titleStrategy=Le(a2),this.options=Le(zh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Le(VT),this.createViewTransition=Le(u2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>jt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new _Z(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new mZ(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new K({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wo(s=>0!==s.id),St(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qr(s=>{let a=!1,l=!1;return jt(s).pipe(qr(u=>{var h;if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ko.SupersededByNewNavigation),Ls;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const g=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=null!==(h=u.extras.onSameUrlNavigation)&&void 0!==h?h:r.onSameUrlNavigation;if(!g&&"reload"!==m){const v="";return this.events.next(new $h(u.id,this.urlSerializer.serialize(u.rawUrl),v,QI.IgnoredSameUrlNavigation)),u.resolve(null),Ls}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return jt(u).pipe(qr(v=>{var C,A;const R=null===(C=this.transitions)||void 0===C?void 0:C.getValue();return this.events.next(new mm(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),R!==(null===(A=this.transitions)||void 0===A?void 0:A.getValue())?Ls:Promise.resolve(v)}),function EJ(t,e,n,r,i,o){return ki(s=>function pJ(t,e,n,r,i,o,s="emptyOnly"){return new mJ(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(St(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ki(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const C=new BV(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:v,extractedUrl:C,source:A,restoredState:R,extras:V}=u,B=new mm(v,this.urlSerializer.serialize(C),A,R);this.events.next(B);const ge=zV(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:ge,urlAfterRedirects:C,extras:{...V,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=C,jt(s)}{const v="";return this.events.next(new $h(u.id,this.urlSerializer.serialize(u.extractedUrl),v,QI.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ls}}),Ki(u=>{const h=new hZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),St(u=>(this.currentTransition=s={...u,guards:FZ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function qZ(t,e){return ki(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?jt({...n,guardsResult:!0}):function WZ(t,e,n,r){return yr(t).pipe(ki(i=>function JZ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?jt(o.map(a=>{var l;const u=null!==(l=vm(e))&&void 0!==l?l:i,h=Uh(a,u);return ou(function zZ(t){return t&&Em(t.canDeactivate)}(h)?h.canDeactivate(t,e,n,r):ta(u,()=>h(t,e,n,r))).pipe(iu())})).pipe(jh()):jt(!0)}(i.component,i.route,n,e,r)),iu(i=>!0!==i,!0))}(s,r,i,t).pipe(ki(a=>a&&function BZ(t){return"boolean"==typeof t}(a)?function KZ(t,e,n,r){return yr(e).pipe(um(i=>hT(function YZ(t,e){return null!==t&&e&&e(new vZ(t)),jt(!0)}(i.route.parent,r),function QZ(t,e){return null!==t&&e&&e(new IZ(t)),jt(!0)}(i.route,r),function ZZ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function LZ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vV(()=>jt(s.guards.map(l=>{var u;const h=null!==(u=vm(s.node))&&void 0!==u?u:n,g=Uh(l,h);return ou(function HZ(t){return t&&Em(t.canActivateChild)}(g)?g.canActivateChild(r,t):ta(h,()=>g(r,t))).pipe(iu())})).pipe(jh())));return jt(o).pipe(jh())}(t,i.path,n),function XZ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return jt(!0);const i=r.map(o=>vV(()=>{var s;const a=null!==(s=vm(e))&&void 0!==s?s:n,l=Uh(o,a);return ou(function jZ(t){return t&&Em(t.canActivate)}(l)?l.canActivate(e,t):ta(a,()=>l(e,t))).pipe(iu())}));return jt(i).pipe(jh())}(t,i.route,n))),iu(i=>!0!==i,!0))}(r,o,t,e):jt(a)),St(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ki(u=>{if(s.guardsResult=u.guardsResult,Lh(u.guardsResult))throw XV(0,u.guardsResult);const h=new fZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Wo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",Ko.GuardRejected),!1)),FT(u=>{if(u.guards.canActivateChecks.length)return jt(u).pipe(Ki(h=>{const g=new pZ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),qr(h=>{let g=!1;return jt(h).pipe(function wJ(t,e){return ki(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return jt(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of s2(l))s.add(u);let a=0;return yr(s).pipe(um(l=>o.has(l)?function CJ(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!WV(i)&&(o[cm]=i.title),function bJ(t,e,n,r){const i=mT(t);if(0===i.length)return jt({});const o={};return yr(i).pipe(ki(s=>function AJ(t,e,n,r){var i;const o=null!==(i=vm(e))&&void 0!==i?i:r,s=Uh(t,o);return ou(s.resolve?s.resolve(e,n):ta(o,()=>s(e,n)))}(t[s],e,n,r).pipe(iu(),Ki(a=>{o[s]=a}))),pT(1),function FX(t){return St(()=>t)}(o),yc(s=>n2(s)?Ls:$I(s)))}(o,t,e,r).pipe(St(s=>(t._resolvedData=s,t.data=TT(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=TT(l,l.parent,t).resolve,jt(void 0))),Ki(()=>a++),pT(1),ki(l=>a===s.size?jt(n):Ls))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ki({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",Ko.NoDataFromResolver)}}))}),Ki(h=>{const g=new gZ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),FT(u=>{const h=g=>{var m;const v=[];null!==(m=g.routeConfig)&&void 0!==m&&m.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ki(C=>{g.component=C}),St(()=>{})));for(const C of g.children)v.push(...h(C));return v};return LI(h(u.targetSnapshot.root)).pipe(UI(null),Oh(1))}),FT(()=>this.afterPreactivation()),qr(()=>{var u;const{currentSnapshot:h,targetSnapshot:g}=s,m=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,h.root,g.root);return m?yr(m).pipe(St(()=>s)):jt(s)}),St(u=>{const h=function AZ(t,e,n){const r=_m(t,e._root,n?n._root:void 0);return new HV(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:h},this.currentNavigation.targetRouterState=h,s}),Ki(()=>{this.events.next(new wT)}),((t,e,n,r)=>St(i=>(new kZ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Oh(1),Ki({next:u=>{var h;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(h=this.titleStrategy)||void 0===h||h.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function LX(t){return ut((e,n)=>{Mo(t).subscribe(Gt(n,()=>n.complete(),Qt)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ki(u=>{throw u}))),gT(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",Ko.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yc(u=>{if(l=!0,JV(u))this.events.next(new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function SZ(t){return JV(t)&&Lh(t.url)}(u)?this.events.next(new CT(u.url)):s.resolve(!1);else{var h;this.events.next(new YI(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(h=s.targetSnapshot)&&void 0!==h?h:void 0));try{s.resolve(r.errorHandler(u))}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return Ls}))}))}cancelNavigationTransition(r,i,o){const s=new Vh(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function NJ(t){return t!==gm}let xJ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(kJ),providedIn:"root"}),e})();class OJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let kJ=(()=>{var t;class e extends OJ{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})(),t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),d2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(FJ),providedIn:"root"}),e})(),FJ=(()=>{var t;class e extends d2{constructor(){super(...arguments),this.location=Le(tu),this.urlSerializer=Le(Ec),this.options=Le(zh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Le(VT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof mm)this.stateMemento=this.createStateMemento();else if(r instanceof $h)this.rawUrlTree=i.initialUrl;else if(r instanceof BV){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof wT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vh&&(r.code===Ko.GuardRejected||r.code===Ko.NoDataFromResolver)?this.restoreHistory(i):r instanceof YI?this.restoreHistory(i,!0):r instanceof dl&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})(),t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var wm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wm||{});function h2(t,e){t.events.pipe(Wo(n=>n instanceof dl||n instanceof Vh||n instanceof YI||n instanceof $h),St(n=>n instanceof dl||n instanceof $h?wm.COMPLETE:n instanceof Vh&&(n.code===Ko.Redirect||n.code===Ko.SupersededByNewNavigation)?wm.REDIRECTING:wm.FAILED),Wo(n=>n!==wm.REDIRECTING),Oh(1)).subscribe(()=>{e()})}function LJ(t){throw t}const VJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$J={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Le(gk),this.stateManager=Le(d2),this.options=Le(zh,{optional:!0})||{},this.pendingTasks=Le(ih),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Le(tE),this.urlSerializer=Le(Ec),this.location=Le(tu),this.urlHandlingStrategy=Le(VT),this._events=new L,this.errorHandler=this.options.errorHandler||LJ,this.navigated=!1,this.routeReuseStrategy=Le(xJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=Le(Gh,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!Le(XI,{optional:!0}),this.eventsSubscription=new le,this.isNgZoneEnabled=Le(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Vh&&i.code!==Ko.Redirect&&i.code!==Ko.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dl)this.navigated=!0;else if(i instanceof CT){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NJ(o.source)};this.scheduleNavigation(a,gm,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function UJ(t){return!(t instanceof wT||t instanceof CT)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gm,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(PT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,h=u?this.currentUrlTree.fragment:a;let m,g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}null!==g&&(g=this.removeEmptyProps(g));try{m=xV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return OV(m,r,g,null!=h?h:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Lh(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,gm,null,i)}navigate(r,i={skipLocationChange:!1}){return function BJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ie(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...VJ}:!1===i?{...$J}:i,Lh(r))return bV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return bV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((m,v)=>{l=m,u=v});const g=this.pendingTasks.add();return h2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Cc=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new L,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const h=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=r.events.subscribe(g=>{g instanceof dl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function KP(t,e,n){return function m3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?WP:qP}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Wr),E(_a),hs("tabindex"),E(tl),E(Be),E(pa))},t.\u0275dir=At({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Kn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ms("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[or.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Rh],skipLocationChange:[or.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Rh],replaceUrl:[or.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Rh],routerLink:"routerLink"},standalone:!0,features:[Lx,Ii]}),e})();class f2{}let zJ=(()=>{var t;class e{preload(r,i){return i().pipe(yc(()=>jt(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),GJ=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Wo(r=>r instanceof dl),um(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=Fy(u.providers,r,`Route: ${u.path}`));const h=null!==(s=u._injector)&&void 0!==s?s:r,g=null!==(a=u._loadedInjector)&&void 0!==a?a:h;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return yr(o).pipe(xh())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):jt(null);const s=o.pipe(ki(a=>{var l;return null===a?jt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?yr([s,this.loader.loadComponent(i)]).pipe(xh()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Wr),Xe(bk),Xe(ti),Xe(f2),Xe(LT))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $T=new ot("");let p2=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof mm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof dl?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $h&&r.code===QI.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof UV&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UV(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function yN(){throw new Error("invalid")}()},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();function ya(t,e){return{\u0275kind:t,\u0275providers:e}}function m2(){const t=Le(Qe);return e=>{var n,r;const i=t.get(il);if(e!==i.components[0])return;const o=t.get(Wr),s=t.get(_2);1===t.get(BT)&&o.initialNavigation(),null===(n=t.get(v2,null,on.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get($T,null,on.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const _2=new ot("",{factory:()=>new L}),BT=new ot("",{providedIn:"root",factory:()=>1}),v2=new ot("");function QJ(t){return ya(0,[{provide:v2,useExisting:GJ},{provide:f2,useExisting:t}])}function XJ(t){return ya(9,[{provide:u2,useValue:MJ},{provide:c2,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const y2=new ot("ROUTER_FORROOT_GUARD"),ZJ=[tu,{provide:Ec,useClass:_T},Wr,wc,{provide:_a,useFactory:function g2(t){return t.routerState.root},deps:[Wr]},LT,[]];let I2=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[ZJ,[],{provide:Gh,multi:!0,useValue:r},{provide:y2,useFactory:nee,deps:[[Wr,new La,new Va]]},{provide:zh,useValue:i||{}},null!=i&&i.useHash?{provide:pa,useClass:mF}:{provide:pa,useClass:gF},{provide:$T,useFactory:()=>{const t=Le(iQ),e=Le(Re),n=Le(zh),r=Le(tE),i=Le(Ec);return n.scrollOffset&&t.setOffset(n.scrollOffset),new p2(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?QJ(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?ree(i):[],null!=i&&i.bindToComponentInputs?ya(8,[QV,{provide:XI,useExisting:QV}]).\u0275providers:[],null!=i&&i.enableViewTransitions?XJ().\u0275providers:[],[{provide:E2,useFactory:m2},{provide:eA,multi:!0,useExisting:E2}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Gh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(y2,8))},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({}),e})();function nee(t){return"guarded"}function ree(t){return["disabled"===t.initialNavigation?ya(3,[{provide:iI,multi:!0,useFactory:()=>{const e=Le(Wr);return()=>{e.setUpLocationChangeListener()}}},{provide:BT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ya(2,[{provide:BT,useValue:0},{provide:iI,multi:!0,deps:[Qe],useFactory:e=>{const n=e.get(xK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Wr),o=e.get(_2);h2(i,()=>{r(!0)}),e.get(tE).afterPreactivation=()=>(r(!0),o.closed?jt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const E2=new ot("");class oee{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}}const su=new oee,b2=t=>T2(t),T2=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=cee(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},cee=t=>{const e=su.get("platform");return Object.keys(P2).filter(n=>{const r=null==e?void 0:e[n];return"function"==typeof r?r(t):P2[n](t)})},UT=t=>!!(bc(t,/iPad/i)||bc(t,/Macintosh/i)&&nE(t)),D2=t=>bc(t,/android|sink/i),nE=t=>Iee(t,"(any-pointer:coarse)"),S2=t=>R2(t)||M2(t),R2=t=>!!(t.cordova||t.phonegap||t.PhoneGap),M2=t=>{const e=t.Capacitor;return!(null==e||!e.isNative)},bc=(t,e)=>e.test(t.navigator.userAgent),Iee=(t,e)=>{var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},P2={ipad:UT,iphone:t=>bc(t,/iPhone/i),ios:t=>bc(t,/iPhone|iPod/i)||UT(t),android:D2,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return UT(t)||(t=>D2(t)&&!bc(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:R2,capacitor:M2,electron:t=>bc(t,/electron/i),pwa:t=>{var e;return!!(null!==(e=t.matchMedia)&&void 0!==e&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},mobile:nE,mobileweb:t=>nE(t)&&!S2(t),desktop:t=>!nE(t),hybrid:S2};var Cm=ae(6031),Eee=ae(1656);function x2(t,e=lr){return t=null!=t?t:See,ut((n,r)=>{let i,o=!0;n.subscribe(Gt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function See(t,e){return t===e}let Mee=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new L,this.keyboardDidShow=new L,this.keyboardDidHide=new L,this.pause=new L,this.resume=new L,this.resize=new L,r.run(()=>{var i;let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(l=>l.register(s,u=>r.run(()=>a(u))))},Wh(this.pause,n,"pause",r),Wh(this.resume,n,"resume",r),Wh(this.backButton,n,"ionBackButton",r),Wh(this.resize,this.win,"resize",r),Wh(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),Wh(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((t,e)=>("string"==typeof t&&(e=t,t=void 0),b2(t).includes(e)))(this.win,n)}platforms(){return b2(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return Pee(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(Xe(Wi),Xe(Re))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pee=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Wh=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let Kh=(()=>{class t{constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=O2,this.animated=k2,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof mm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,y.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=Nee(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=O2,this.animated=k2,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(Xe(Mee),Xe(tu),Xe(Ec),Xe(Wr,8))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nee=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},O2="auto",k2=void 0;let jT=(()=>{class t{get(n,r){const i=HT();return i?i.get(n,r):null}getBoolean(n,r){const i=HT();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=HT();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const F2=new ot("USERCONFIG"),HT=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class L2{constructor(e={}){this.data=e}get(e){return this.data[e]}}let bm=(()=>{class t{constructor(){this.zone=Le(Re),this.applicationRef=Le(il)}create(n,r,i){return new xee(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),t})();class xee{constructor(e,n,r,i,o){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(Oee(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const Oee=(t,e,n,r,i,o,s,a,l,u,h)=>{const m=function MK(t,e){const n=mn(t),r=e.elementInjector||Id();return new Rg(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:Qe.create({providers:Fee(l),parent:n})}),v=m.instance,C=m.location.nativeElement;if(l&&(h&&void 0!==v[h]&&console.error(`[Ionic Error]: ${h} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${h}" property from ${a.name}.`),Object.assign(v,l)),u)for(const R of u)C.classList.add(R);const A=V2(t,v,C);return s.appendChild(C),r.attachView(m.hostView),i.set(C,m),o.set(C,A),C},kee=[Cm.L,Cm.a,Cm.b,Cm.c,Cm.d],V2=(t,e,n)=>t.run(()=>{const r=kee.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),$2=new ot("NavParamsToken"),Fee=t=>[{provide:$2,useValue:t},{provide:L2,useFactory:Lee,deps:[$2]}],Lee=t=>new L2(t),B2=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),GT=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},U2=(t,e)=>!e||t.stackId!==e.stackId,Qee=(t,e)=>{if(!t)return;const n=j2(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},j2=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),H2=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class Yee{constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?j2(e):void 0}createView(e,n){var r;const i=GT(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=V2(this.zone,e.instance,o);return{id:this.nextId++,stackId:Qee(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=GT(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=U2(e,l);u&&(o="back",s=void 0);const h=this.views.slice();let g;const m=this.router;m.getCurrentNavigation?g=m.getCurrentNavigation():null!==(n=m.navigations)&&void 0!==n&&n.value&&(g=m.navigations.value),null!==(r=g)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(e),C=this.insertView(e,o);v||e.ref.changeDetectorRef.detectChanges();const A=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==A&&(a=A),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>Xee(e,C,h,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&z2(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(H2),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?B2(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):B2(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,y.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const Xee=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{z2(t,e,n,r,i),o()})}):Promise.resolve(),z2=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(H2)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let G2=(()=>{class t{constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new K(null),this.activated=null,this._activatedRoute=null,this.name=dn,this.stackWillChange=new er,this.stackDidChange=new er,this.activateEvents=new er,this.deactivateEvents=new er,this.parentContexts=Le(wc),this.location=Le(ps),this.environmentInjector=Le(ti),this.inputBinder=Le(q2,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=Le(jT),this.navCtrl=Le(Kh),this.nativeEl=o.nativeElement,this.name=n||dn,this.tabsPrefix="true"===r?GT(s,l):void 0,this.stackCtrl=new Yee(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){var n;this.stackCtrl.destroy(),null===(n=this.inputBinder)||void 0===n||n.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,Eee.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,s=this.stackCtrl.getExistingView(n);if(s){o=this.activated=s.ref;const u=s.savedData;u&&(this.getContext().children.contexts=u),this.updateActivatedRouteProxy(o.instance,n)}else{var a;const u=n._futureSnapshot,h=this.parentContexts.getOrCreateContext(this.name).children,g=new K(null),m=this.createActivatedRouteProxy(g,n),v=new Zee(m,h,this.location.injector),C=null!==(a=u.routeConfig.component)&&void 0!==a?a:u.component;o=this.activated=this.location.createComponent(C,{index:this.location.length,injector:v,environmentInjector:null!=r?r:this.environmentInjector}),g.next(o.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}null===(i=this.inputBinder)||void 0===i||i.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const l=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:U2(s,l)}),this.stackCtrl.setActive(s).then(u=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(u)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new _a;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(Wo(i=>!!i),qr(i=>this.currentActivatedRoute$.pipe(Wo(o=>null!==o&&o.component===i),qr(o=>o&&o.activatedRoute[r]),x2())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)(hs("name"),hs("tabs"),E(tu),E(Be),E(Wr),E(Re),E(_a),E(t,12))},t.\u0275dir=At({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Zee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_a?this.route:e===wc?this.childContexts:this.parent.get(e,n)}}const q2=new ot("");let Jee=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){var r;null===(r=this.outletDataSubscriptions.get(n))||void 0===r||r.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=LI([r.queryParams,r.params,r.data]).pipe(qr(([o,s,a],l)=>(a={...o,...s,...a},0===l?jt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=hF(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),t})();function tte(t){return null!=t&&t.componentInputBindingEnabled?new Jee:null}let ite=(()=>{class t{constructor(n,r,i,o,s){this.locationStrategy=n,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var n;if(null!==(n=this.routerLink)&&void 0!==n&&n.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(n){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),n.preventDefault()}}return t.\u0275fac=function(n){return new(n||t)(E(pa),E(Kh),E(Be),E(Wr),E(Cc,8))},t.\u0275dir=At({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Kn("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Ii]}),t})();const W2=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class K2{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}ae(3503),ae(6451),ae(7278),ae(9354),ae(405);var hte=ae(8886),fte=ae(464),Q2=(ae(6691),ae(5049)),pte=(ae(8476),ae(773));ae(8221),ae(6471);const mte=hte.i,_te=function(){var t=(0,y.A)(function*(e,n){if(!(typeof window>"u"))return yield mte(),(0,pte.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),ft=["*"],Ste=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},Rte=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})};function _t(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Ste(n,i),o&&Rte(n,o),n}}let Y2=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(E(nt),E(Be),E(Re))},t.\u0275cmp=Ke({type:t,selectors:[["ion-app"]],ngContentSelectors:ft,decls:1,vars:0,template:function(n,r){1&n&&(dt(),ct(0))},encapsulation:2,changeDetection:0}),t=(0,it.Cg)([_t({})],t),t})(),Tm=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(E(nt),E(Be),E(Re))},t.\u0275cmp=Ke({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ft,decls:1,vars:0,template:function(n,r){1&n&&(dt(),ct(0))},encapsulation:2,changeDetection:0}),t=(0,it.Cg)([_t({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),Dm=(()=>{class t extends G2{constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}}return t.\u0275fac=function(n){return new(n||t)(hs("name"),hs("tabs"),E(tu),E(Be),E(Wr),E(Re),E(_a),E(t,12))},t.\u0275dir=At({type:t,selectors:[["ion-router-outlet"]],features:[ln]}),t})(),KT=(()=>{class t extends ite{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=sr(t)))(r||t)}})(),t.\u0275dir=At({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[ln]}),t})();const nre={provide:wi,useExisting:En(()=>X2),multi:!0};let X2=(()=>{class t extends uT{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=sr(t)))(r||t)}})(),t.\u0275dir=At({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ms("max",r._enabled?r.max:null)},features:[Bn([nre]),ln]}),t})();const rre={provide:wi,useExisting:En(()=>Z2),multi:!0};let Z2=(()=>{class t extends cT{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=sr(t)))(r||t)}})(),t.\u0275dir=At({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ms("min",r._enabled?r.min:null)},features:[Bn([rre]),ln]}),t})(),ire=(()=>{class t extends K2{constructor(){super(Q2.m),this.angularDelegate=Le(bm),this.injector=Le(Qe),this.environmentInjector=Le(ti)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),t})();class ore extends K2{constructor(){super(Q2.c),this.angularDelegate=Le(bm),this.injector=Le(Qe),this.environmentInjector=Le(ti)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const sre=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,fte.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function gte(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(ae.e(7278).then(ae.t.bind(ae,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(ae.e(9329).then(ae.t.bind(ae,7783,23)))}return Promise.all(t)}().then(()=>_te(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:W2,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let are=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:F2,useValue:n},{provide:iI,useFactory:sre,multi:!0,deps:[F2,Wi,Re]},{provide:q2,useFactory:tte,deps:[Wr]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({providers:[bm,ire,ore],imports:[NF]}),t})();function Sm(t){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mn(t,e,n){return(e=function ure(t){var e=function lre(t,e){if("object"!=Sm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sm(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yh=ae(7852);(0,Yh.registerVersion)("firebase","10.10.0","app");class hre extends le{constructor(e,n){super()}schedule(e,n=0){return this}}const oE={setInterval(t,e,...n){const{delegate:r}=oE;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=oE;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class J2 extends hre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return oE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&oE.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ee(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const QT={now:()=>(QT.delegate||Date).now(),delegate:void 0};class Rm{constructor(e,n=Rm.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Rm.now=QT.now;class e$ extends Rm{constructor(e,n=Rm.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const gre=new class pre extends e${}(class fre extends J2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),t$=new e$(J2),YT=new Dh("ANGULARFIRE2_VERSION");class n${constructor(){return((t,e)=>{const n=(0,Yh.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(_re)}}const _re="app-check";function Xh(){}class r${constructor(e,n=gre){Mn(this,"zone",void 0),Mn(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class vre{constructor(e){Mn(this,"zone",void 0),Mn(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xh,{},Xh,Xh)),n.pipe(Ki({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let i$=(()=>{var t;class e{constructor(r){Mn(this,"ngZone",void 0),Mn(this,"outsideAngular",void 0),Mn(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new r$(Zone.current)),this.insideAngular=r.run(()=>new r$(Zone.current,t$)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,Mn(e,"\u0275fac",function(r){return new(r||t)(Xe(Re))}),Mn(e,"\u0275prov",Oe({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Qo(t){return function Ire(t){return function(n){return(n=n.lift(new vre(t.ngZone))).pipe(Ph(t.outsideAngular),mc(t.insideAngular))}}(function Zh(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}())(t)}var au=ae(3345);au.A.registerVersion("firebase","10.10.0","app-compat");const bre=["ngOnDestroy"];class o${constructor(e){return e}}const sE=new ot("angularfire2.app.options"),aE=new ot("angularfire2.app.name");function XT(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=au.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>au.A.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;Dre("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new o$(s)}const Dre=(t,...e)=>{},Sre={provide:o$,useFactory:XT,deps:[sE,Re,[new La,aE]]};let Rre=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:sE,useValue:r},{provide:aE,useValue:i}]}}constructor(r){au.A.registerVersion("angularfire",YT.full,"core"),au.A.registerVersion("angularfire",YT.full,"app-compat"),au.A.registerVersion("angular",G9.full,r.toString())}}return t=e,Mn(e,"\u0275fac",function(r){return new(r||t)(Xe(la))}),Mn(e,"\u0275mod",$o({type:t})),Mn(e,"\u0275inj",Sn({providers:[Sre]})),e})();function s$(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function Mre(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(a$("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Pre?" You may need to reload as Firebase is not HMR aware.":""}`),a$("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const Pre=typeof module<"u"&&!!module.hot,a$=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),ae(3371);class xre extends L{constructor(e=1/0,n=1/0,r=QT){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function ZT(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new br({next:()=>{r.unsubscribe(),t()}});return Mo(e(...n)).subscribe(r)}function l$(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function Ore(t={}){const{connector:e=(()=>new L),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,h=!1,g=!1;const m=()=>{null==a||a.unsubscribe(),a=void 0},v=()=>{m(),s=l=void 0,h=g=!1},C=()=>{const A=s;v(),null==A||A.unsubscribe()};return ut((A,R)=>{u++,!g&&!h&&m();const V=l=null!=l?l:e();R.add(()=>{u--,0===u&&!g&&!h&&(a=ZT(C,i))}),V.subscribe(R),!s&&u>0&&(s=new br({next:B=>V.next(B),error:B=>{g=!0,m(),a=ZT(v,n,B),V.error(B)},complete:()=>{h=!0,m(),a=ZT(v,r),V.complete()}}),Mo(A).subscribe(s))})(o)}}({connector:()=>new xre(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function u$(t,e){return gt(e)?qr(()=>t,e):qr(()=>t)}const c$=new ot("angularfire2.auth.use-emulator"),d$=new ot("angularfire2.auth.settings"),h$=new ot("angularfire2.auth.tenant-id"),f$=new ot("angularfire2.auth.langugage-code"),p$=new ot("angularfire2.auth.use-device-language"),g$=new ot("angularfire.auth.persistence"),m$=(t,e,n,r,i,o,s,a)=>s$(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))l.settings[u]=h;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let Jh=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,C){Mn(this,"authState",void 0),Mn(this,"idToken",void 0),Mn(this,"user",void 0),Mn(this,"idTokenResult",void 0),Mn(this,"credential",void 0);const A=new L,R=jt(void 0).pipe(mc(a.outsideAngular),qr(()=>s.runOutsideAngular(()=>Promise.resolve().then(ae.bind(ae,3371)))),St(()=>XT(r,s,i)),St(V=>m$(V,s,l,h,g,m,u,v)),l$({bufferSize:1,refCount:!1}));if(bI(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=jt(null);else{R.pipe(iu()).subscribe();const V=R.pipe(qr(me=>me.getRedirectResult().then(Ge=>Ge,()=>null)),Qo,l$({bufferSize:1,refCount:!1})),B=R.pipe(qr(me=>new Nn(Ge=>({unsubscribe:s.runOutsideAngular(()=>me.onAuthStateChanged(wt=>Ge.next(wt),wt=>Ge.error(wt),()=>Ge.complete()))})))),ge=R.pipe(qr(me=>new Nn(Ge=>({unsubscribe:s.runOutsideAngular(()=>me.onIdTokenChanged(wt=>Ge.next(wt),wt=>Ge.error(wt),()=>Ge.complete()))}))));this.authState=V.pipe(u$(B),Ph(a.outsideAngular),mc(a.insideAngular)),this.user=V.pipe(u$(ge),Ph(a.outsideAngular),mc(a.insideAngular)),this.idToken=this.user.pipe(qr(me=>me?yr(me.getIdToken()):jt(null))),this.idTokenResult=this.user.pipe(qr(me=>me?yr(me.getIdTokenResult()):jt(null))),this.credential=function Nre(...t){const e=rm(t),n=function DY(t,e){return"number"==typeof BA(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Mo(r[0]):xh(n)(yr(r,e)):Ls}(V,A,this.authState.pipe(Wo(me=>!me))).pipe(St(me=>null!=me&&me.user?me:null),Ph(a.outsideAngular),mc(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(bre.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(h=>n.run(()=>h)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,h)=>a.then(g=>{var m;const v=null==g?void 0:g(...h);return null!=r&&null!==(m=r.spy)&&void 0!==m&&m.apply&&r.spy.apply(o,h,v),v})})})}))(this,R,s,{spy:{apply:(V,B,ge)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&ge.then(me=>A.next(me))}}})}}return t=e,Mn(e,"\u0275fac",function(r){return new(r||t)(Xe(sE),Xe(aE,8),Xe(la),Xe(Re),Xe(i$),Xe(c$,8),Xe(d$,8),Xe(h$,8),Xe(f$,8),Xe(p$,8),Xe(g$,8),Xe(n$,8))}),Mn(e,"\u0275prov",Oe({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Fre=(()=>{var t;class e{constructor(){au.A.registerVersion("angularfire",YT.full,"auth-compat")}}return t=e,Mn(e,"\u0275fac",function(r){return new(r||t)}),Mn(e,"\u0275mod",$o({type:t})),Mn(e,"\u0275inj",Sn({providers:[Jh]})),e})();var Zt=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Zt||{});const hl="*";function lE(t,e=null){return{type:Zt.Animate,styles:e,timings:t}}function _$(t,e=null){return{type:Zt.Sequence,steps:t,options:e}}function lu(t){return{type:Zt.Style,styles:t,offset:null}}let v$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:()=>Le(Vre),providedIn:"root"}),e})();class Lre{}let Vre=(()=>{var t;class e extends v${constructor(r,i){if(super(),this.animationModuleType=Le(rC,{optional:!0}),this._nextAnimationId=0,this._renderer=r.createRenderer(i.body,{id:"0",encapsulation:Hi.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function jre(t){const e=t.\u0275type;return 0===e||1===e}(this._renderer))throw new ie(3600,!1)}build(r){const i=this._nextAnimationId;this._nextAnimationId++;const o=Array.isArray(r)?_$(r):r;return y$(this._renderer,null,i,"register",[o]),new $re(i,this._renderer)}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(My),Xe(Wi))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $re extends Lre{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Bre(this._id,e,n||{},this._renderer)}}class Bre{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){y$(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,n;return null!==(e=null===(n=function Ure(t){const e=t.\u0275type;return 0===e?t:1===e?t.animationRenderer:null}(this._renderer))||void 0===n||null===(n=n.engine)||void 0===n||null===(n=n.players[this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function y$(t,e,n,r,i){t.setProperty(e,`@@${n}:${r}`,i)}class Mm{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class I${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function C$(t){return new ie(3e3,!1)}function uu(t){switch(t.length){case 0:return new Mm;case 1:return t[0];default:return new I$(t)}}function b$(t,e,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),h=u==s,g=h&&a||new Map;l.forEach((m,v)=>{let C=v,A=m;if("offset"!==v)switch(C=t.normalizePropertyName(C,i),A){case"!":A=n.get(v);break;case hl:A=r.get(v);break;default:A=t.normalizeStyleValue(v,C,A,i)}g.set(C,A)}),h||o.push(g),a=g,s=u}),i.length)throw function die(t){return new ie(3502,!1)}();return o}function eD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&tD(n,"start",t)));break;case"done":t.onDone(()=>r(n&&tD(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&tD(n,"destroy",t)))}}function tD(t,e,n){const r=n.totalTime,o=nD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(o._data=s),o}function nD(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Yo(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function A$(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Cie=typeof document>"u"?null:document.documentElement;function rD(t){const e=t.parentNode||t.host||null;return e===Cie?null:e}let Tc=null,T$=!1;function D$(t,e){for(;e;){if(e===t)return!0;e=rD(e)}return!1}function S$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let iD=(()=>{var t;class e{validateStyleProperty(r){return function Aie(t){Tc||(Tc=function Tie(){return typeof document<"u"?document.body:null}()||{},T$=!!Tc.style&&"WebkitAppearance"in Tc.style);let e=!0;return Tc.style&&!function bie(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Tc.style,!e&&T$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Tc.style)),e}(r)}matchesElement(r,i){return!1}containsElement(r,i){return D$(r,i)}getParentElement(r){return rD(r)}query(r,i,o){return S$(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,l=[],u){return new Mm(o,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();class uE{}uE.NOOP=new iD;class oD{}const Sie=1e3,sD="ng-enter",cE="ng-leave",dE="ng-trigger",hE=".ng-trigger",M$="ng-animating",aD=".ng-animating";function fl(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lD(parseFloat(e[1]),e[2])}function lD(t,e){return"s"===e?t*Sie:t}function fE(t,e,n){return t.hasOwnProperty("duration")?t:function Mie(t,e,n){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(C$()),{duration:0,delay:0,easing:""};i=lD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=lD(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function Hre(){return new ie(3100,!1)}()),a=!0),o<0&&(e.push(function zre(){return new ie(3101,!1)}()),a=!0),a&&e.splice(l,0,C$())}return{duration:i,delay:o,easing:s}}(t,e,n)}function Ia(t,e,n){e.forEach((r,i)=>{const o=cD(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Dc(t,e){e.forEach((n,r)=>{const i=cD(r);t.style[i]=""})}function Pm(t){return Array.isArray(t)?1==t.length?t[0]:_$(t):t}const uD=new RegExp("{{\\s*(.+?)\\s*}}","g");function N$(t){let e=[];if("string"==typeof t){let n;for(;n=uD.exec(t);)e.push(n[1]);uD.lastIndex=0}return e}function Nm(t,e,n){const r=`${t}`,i=r.replace(uD,(o,s)=>{let a=e[s];return null==a&&(n.push(function qre(t){return new ie(3003,!1)}()),a=""),a.toString()});return i==r?t:i}const xie=/-+([a-z0-9])/g;function cD(t){return t.replace(xie,(...e)=>e[1].toUpperCase())}function Xo(t,e,n){switch(e.type){case Zt.Trigger:return t.visitTrigger(e,n);case Zt.State:return t.visitState(e,n);case Zt.Transition:return t.visitTransition(e,n);case Zt.Sequence:return t.visitSequence(e,n);case Zt.Group:return t.visitGroup(e,n);case Zt.Animate:return t.visitAnimate(e,n);case Zt.Keyframes:return t.visitKeyframes(e,n);case Zt.Style:return t.visitStyle(e,n);case Zt.Reference:return t.visitReference(e,n);case Zt.AnimateChild:return t.visitAnimateChild(e,n);case Zt.AnimateRef:return t.visitAnimateRef(e,n);case Zt.Query:return t.visitQuery(e,n);case Zt.Stagger:return t.visitStagger(e,n);default:throw function Wre(t){return new ie(3004,!1)}()}}function dD(t,e){return window.getComputedStyle(t)[e]}const Fie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class x$ extends oD{normalizePropertyName(e,n){return cD(e)}normalizeStyleValue(e,n,r,i){let o="";const s=r.toString().trim();if(Fie.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Kre(t,e){return new ie(3005,!1)}())}return s+o}}const pE="*";const gE=new Set(["true","1"]),mE=new Set(["false","0"]);function O$(t,e){const n=gE.has(t)||mE.has(t),r=gE.has(e)||mE.has(e);return(i,o)=>{let s=t==pE||t==i,a=e==pE||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?gE.has(t):mE.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?gE.has(e):mE.has(e)),s&&a}}const Bie=new RegExp("s*:selfs*,?","g");function hD(t,e,n,r){return new Uie(t).build(e,n,r)}class Uie{constructor(e){this._driver=e}build(e,n,r){const i=new zie(n);return this._resetContextStyleTimingState(i),Xo(this,Pm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&n.errors.push(function Qre(){return new ie(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Zt.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,n))}),l.name=u}else if(a.type==Zt.Transition){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(function Yre(){return new ie(3007,!1)}())}),{type:Zt.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{N$(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&n.errors.push(function Xre(t,e){return new ie(3008,!1)}(0,o.values()))}return{type:Zt.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Xo(this,Pm(e.animation),n),i=function Lie(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Vie(t,e,n){if(":"==t[0]){const l=function $ie(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function aie(t){return new ie(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function sie(t){return new ie(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(O$(i,s)),"<"==o[0]&&(i!=pE||s!=pE)&&e.push(O$(s,i))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:Zt.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Sc(e.options)}}visitSequence(e,n){return{type:Zt.Sequence,steps:e.steps.map(r=>Xo(this,r,n)),options:Sc(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const o=e.steps.map(s=>{n.currentTime=r;const a=Xo(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:Zt.Group,steps:o,options:Sc(e.options)}}visitAnimate(e,n){const r=function qie(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return fD(fE(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fD(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=fE(n,e);return fD(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:lu({});if(o.type==Zt.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};r.easing&&(u.easing=r.easing),s=lu(u)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:Zt.Animate,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===hl?r.push(a):n.errors.push(new ie(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:Zt.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),h=u.get(l);let g=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(n.errors.push(function Jre(t,e,n,r,i){return new ie(3010,!1)}()),g=!1),o=h.startTime),g&&u.set(l,{startTime:o,endTime:i}),n.options&&function Nie(t,e,n){const r=e.params||{},i=N$(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function Gre(t){return new ie(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:Zt.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function eie(){return new ie(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,u=0;const h=e.steps.map(V=>{const B=this._makeStyleAst(V,n);let ge=null!=B.offset?B.offset:function Gie(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(B.styles),me=0;return null!=ge&&(o++,me=B.offset=ge),l=l||me<0||me>1,a=a||me<u,u=me,s.push(me),B});l&&n.errors.push(function tie(){return new ie(3012,!1)}()),a&&n.errors.push(function nie(){return new ie(3200,!1)}());const g=e.steps.length;let m=0;o>0&&o<g?n.errors.push(function rie(){return new ie(3202,!1)}()):0==o&&(m=1/(g-1));const v=g-1,C=n.currentTime,A=n.currentAnimateTimings,R=A.duration;return h.forEach((V,B)=>{const ge=m>0?B==v?1:m*B:s[B],me=ge*R;n.currentTime=C+A.delay+me,A.duration=me,this._validateStyleAst(V,n),V.offset=ge,r.styles.push(V)}),r}visitReference(e,n){return{type:Zt.Reference,animation:Xo(this,Pm(e.animation),n),options:Sc(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Zt.AnimateChild,options:Sc(e.options)}}visitAnimateRef(e,n){return{type:Zt.AnimateRef,animation:this.visitReference(e.animation,n),options:Sc(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[o,s]=function jie(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Bie,"")),t=t.replace(/@\*/g,hE).replace(/@\w+/g,n=>hE+"-"+n.slice(1)).replace(/:animating/g,aD),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Yo(n.collectedStyles,n.currentQuerySelector,new Map);const a=Xo(this,Pm(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Zt.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Sc(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function iie(){return new ie(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:fE(e.timings,n.errors,!0);return{type:Zt.Stagger,animation:Xo(this,Pm(e.animation),n),timings:r,options:null}}}class zie{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sc(t){return t?(t={...t}).params&&(t.params=function Hie(t){return t?{...t}:null}(t.params)):t={},t}function fD(t,e,n){return{duration:t,delay:e,easing:n}}function pD(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class _E{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qie=new RegExp(":enter","g"),Xie=new RegExp(":leave","g");function gD(t,e,n,r,i,o=new Map,s=new Map,a,l,u=[]){return(new Zie).buildKeyframes(t,e,n,r,i,o,s,a,l,u)}class Zie{buildKeyframes(e,n,r,i,o,s,a,l,u,h=[]){u=u||new _E;const g=new mD(e,n,u,i,o,h,[]);g.options=l;const m=l.delay?fl(l.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([s],null,g.errors,l),Xo(this,r,g);const v=g.timelines.filter(C=>C.containsAnimation());if(v.length&&a.size){let C;for(let A=v.length-1;A>=0;A--){const R=v[A];if(R.element===n){C=R;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,g.errors,l)}return v.length?v.map(C=>C.buildKeyframes()):[pD(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const o of e){const s=null==o?void 0:o.delay;if(s){var i;const a="number"==typeof s?s:fl(Nm(s,null!==(i=null==o?void 0:o.params)&&void 0!==i?i:{},n.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?fl(r.duration):null,a=null!=r.delay?fl(r.delay):null;return 0!==s&&e.forEach(l=>{const u=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Xo(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==Zt.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vE);const s=fl(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Xo(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?fl(e.options.delay):0;e.steps.forEach(s=>{const a=n.createSubContext(e.options);o&&a.delayNextStep(o),Xo(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return fE(n.params?Nm(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==Zt.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?fl(i.delay):0;o&&(n.previousNode.type===Zt.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=vE);let s=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{n.currentQueryIndex=h;const g=n.createSubContext(e.options,u);o&&g.delayNextStep(o),u===n.element&&(l=g.currentTimeline),Xo(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const h=n.currentTimeline;l&&h.delayNextStep(l);const g=h.currentTime;Xo(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const vE={};class mD{constructor(e,n,r,i,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new yE(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=fl(r.duration)),null!=r.delay&&(i.delay=fl(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Nm(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,o=new mD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new Jie(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Qie,"."+this._enterClassName)).replace(Xie,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&0==a.length&&s.push(function oie(t){return new ie(3014,!1)}()),a}}class yE{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new yE(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||hl),this._currentKeyframe.set(n,hl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function eoe(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){var o;null!==(o=r)&&void 0!==o||(r=e.keys());for(let s of r)n.set(s,hl)}else for(let[s,a]of i)n.set(s,a)}),n}(e,this._globalTimelineStyles);for(let[l,u]of s){const h=Nm(u,o,r);var a;this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,null!==(a=this._globalTimelineStyles.get(l))&&void 0!==a?a:hl),this._updateStyle(l,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((h,g)=>{"!"===h?e.add(g):h===hl&&n.add(g)}),r||u.set("offset",l/this.duration),i.push(u)});const o=[...e.values()],s=[...n.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return pD(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Jie extends yE{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const u=new Map(e[0]);u.set("offset",L$(a)),o.push(u);const h=e.length-1;for(let g=1;g<=h;g++){let m=new Map(e[g]);const v=m.get("offset");m.set("offset",L$((n+v*r)/s)),o.push(m)}r=s,n=0,i="",e=o}return pD(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function L$(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function V$(t,e,n,r,i,o,s,a,l,u,h,g,m){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:g,errors:m}}const _D={};class $${constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function toe(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,l,u,h){var g;const m=[],v=this.ast.options&&this.ast.options.params||_D,A=this.buildStyles(r,a&&a.params||_D,m),R=l&&l.params||_D,V=this.buildStyles(i,R,m),B=new Set,ge=new Map,me=new Map,Ge="void"===i,wt={params:B$(R,v),delay:null===(g=this.ast.options)||void 0===g?void 0:g.delay},Xt=h?[]:gD(e,n,this.ast.animation,o,s,A,V,wt,u,m);let In=0;return Xt.forEach(hi=>{In=Math.max(hi.duration+hi.delay,In)}),m.length?V$(n,this._triggerName,r,i,Ge,A,V,[],[],ge,me,In,m):(Xt.forEach(hi=>{const eo=hi.element,W0=Yo(ge,eo,new Set);hi.preStyleProps.forEach(td=>W0.add(td));const ed=Yo(me,eo,new Set);hi.postStyleProps.forEach(td=>ed.add(td)),eo!==n&&B.add(eo)}),V$(n,this._triggerName,r,i,Ge,A,V,Xt,[...B.values()],ge,me,In))}}function B$(t,e){const n={...e};return Object.entries(t).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class noe{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=B$(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Nm(s,i,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}}class ioe{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new noe(i.style,i.options&&i.options.params||{},r))}),U$(this.states,"true","1"),U$(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new $$(e,i,this.states))}),this.fallbackTransition=function ooe(t,e,n){return new $$(t,{type:Zt.Transition,animation:{type:Zt.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function U$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const soe=new _E;class aoe{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],o=hD(this._driver,n,r,[]);if(r.length)throw function hie(t){return new ie(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,r){const i=e.element,o=b$(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=gD(this._driver,n,o,sD,cE,new Map,new Map,r,soe,i),s.forEach(h=>{const g=Yo(a,h.element,new Map);h.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function fie(){return new ie(3300,!1)}()),s=[]),i.length)throw function pie(t){return new ie(3504,!1)}();a.forEach((h,g)=>{h.forEach((m,v)=>{h.set(v,this._driver.computeStyle(g,v,hl))})});const u=uu(s.map(h=>{const g=a.get(h.element);return this._buildPlayer(h,new Map,g)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function gie(t){return new ie(3301,!1)}();return n}listen(e,n,r,i){const o=nD(n,"","","");return eD(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const j$="ng-animate-queued",vD="ng-animate-disabled",hoe=[],H$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},foe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$s="__ng_removed";class yD{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function _oe(t){return null!=t?t:null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const xm="void",ID=new yD(xm);class poe{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ys(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function mie(t,e){return new ie(3302,!1)}();if(null==r||0==r.length)throw function _ie(t){return new ie(3303,!1)}();if(!function voe(t){return"start"==t||"done"==t}(r))throw function vie(t,e){return new ie(3400,!1)}();const o=Yo(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Yo(this._engine.statesByElement,e,new Map);return a.has(n)||(ys(e,dE),ys(e,dE+"-"+n),a.set(n,ID)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function yie(t){return new ie(3401,!1)}();return n}trigger(e,n,r,i=!0){const o=this._getTrigger(n),s=new ED(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(ys(e,dE),ys(e,dE+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const u=new yD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=ID),u.value!==xm&&l.value===u.value){if(!function Eoe(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(l.params,u.params)){const A=[],R=o.matchStyles(l.value,l.params,A),V=o.matchStyles(u.value,u.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Dc(e,R),Ia(e,V)})}return}const m=Yo(this._engine.playersByElement,e,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==n&&A.queued&&A.destroy()});let v=o.matchTransition(l.value,u.value,e,u.params),C=!1;if(!v){if(!i)return;v=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:v,fromState:l,toState:u,player:s,isFallbackTransition:C}),C||(ys(e,j$),s.onStart(()=>{ef(e,j$)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);const R=this._engine.playersByElement.get(e);if(R){let V=R.indexOf(s);V>=0&&R.splice(V,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,hE,!0);r.forEach(i=>{if(i[$s])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const h=this.trigger(e,u,xm,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&uu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,u=r.get(s)||ID,h=new yD(xm),g=new ED(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const o=e[$s];(!o||o===H$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){ys(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=nD(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,eD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class goe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new poe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(e,n,r,i){if(IE(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!IE(n))return;const o=n[$s];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ys(e,vD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ef(e,vD))}removeNode(e,n,r){if(IE(n)){var i;null===(i=this.scheduler)||void 0===i||i.notify();const o=e?this._fetchNamespace(e):null;o?o.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[$s]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return IE(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,hE,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,aD,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return uu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var n;const r=e[$s];if(r&&r.setForRemoval){if(e[$s]=H$,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}null!==(n=e.classList)&&void 0!==n&&n.contains(vD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ys(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?uu(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Iie(t){return new ie(3402,!1)}()}_flushAnimations(e,n){const r=new _E,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Nt=>{h.add(Nt);const Bt=this.driver.query(Nt,".ng-animate-queued",!0);for(let Wt=0;Wt<Bt.length;Wt++)h.add(Bt[Wt])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=q$(m,this.collectedEnterElements),C=new Map;let A=0;v.forEach((Nt,Bt)=>{const Wt=sD+A++;C.set(Bt,Wt),Nt.forEach(An=>ys(An,Wt))});const R=[],V=new Set,B=new Set;for(let Nt=0;Nt<this.collectedLeaveElements.length;Nt++){const Bt=this.collectedLeaveElements[Nt],Wt=Bt[$s];Wt&&Wt.setForRemoval&&(R.push(Bt),V.add(Bt),Wt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(An=>V.add(An)):B.add(Bt))}const ge=new Map,me=q$(m,Array.from(V));me.forEach((Nt,Bt)=>{const Wt=cE+A++;ge.set(Bt,Wt),Nt.forEach(An=>ys(An,Wt))}),e.push(()=>{v.forEach((Nt,Bt)=>{const Wt=C.get(Bt);Nt.forEach(An=>ef(An,Wt))}),me.forEach((Nt,Bt)=>{const Wt=ge.get(Bt);Nt.forEach(An=>ef(An,Wt))}),R.forEach(Nt=>{this.processLeaveNode(Nt)})});const Ge=[],wt=[];for(let Nt=this._namespaceList.length-1;Nt>=0;Nt--)this._namespaceList[Nt].drainQueuedTransitions(n).forEach(Wt=>{const An=Wt.player,$r=Wt.element;if(Ge.push(An),this.collectedEnterElements.length){const to=$r[$s];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(Wt.triggerName)){const nd=to.previousTriggersValues.get(Wt.triggerName),Cs=this.statesByElement.get(Wt.element);if(Cs&&Cs.has(Wt.triggerName)){const K0=Cs.get(Wt.triggerName);K0.value=nd,Cs.set(Wt.triggerName,K0)}}return void An.destroy()}}const Pa=!g||!this.driver.containsElement(g,$r),ts=ge.get($r),Nu=C.get($r),Nr=this._buildInstruction(Wt,r,Nu,ts,Pa);if(Nr.errors&&Nr.errors.length)return void wt.push(Nr);if(Pa)return An.onStart(()=>Dc($r,Nr.fromStyles)),An.onDestroy(()=>Ia($r,Nr.toStyles)),void i.push(An);if(Wt.isFallbackTransition)return An.onStart(()=>Dc($r,Nr.fromStyles)),An.onDestroy(()=>Ia($r,Nr.toStyles)),void i.push(An);const az=[];Nr.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||az.push(to)}),Nr.timelines=az,r.append($r,Nr.timelines),s.push({instruction:Nr,player:An,element:$r}),Nr.queriedElements.forEach(to=>Yo(a,to,[]).push(An)),Nr.preStyleProps.forEach((to,nd)=>{if(to.size){let Cs=l.get(nd);Cs||l.set(nd,Cs=new Set),to.forEach((K0,LM)=>Cs.add(LM))}}),Nr.postStyleProps.forEach((to,nd)=>{let Cs=u.get(nd);Cs||u.set(nd,Cs=new Set),to.forEach((K0,LM)=>Cs.add(LM))})});if(wt.length){const Nt=[];wt.forEach(Bt=>{Nt.push(function Eie(t,e){return new ie(3505,!1)}())}),Ge.forEach(Bt=>Bt.destroy()),this.reportError(Nt)}const Xt=new Map,In=new Map;s.forEach(Nt=>{const Bt=Nt.element;r.has(Bt)&&(In.set(Bt,Bt),this._beforeAnimationBuild(Nt.player.namespaceId,Nt.instruction,Xt))}),i.forEach(Nt=>{const Bt=Nt.element;this._getPreviousPlayers(Bt,!1,Nt.namespaceId,Nt.triggerName,null).forEach(An=>{Yo(Xt,Bt,[]).push(An),An.destroy()})});const hi=R.filter(Nt=>K$(Nt,l,u)),eo=new Map;G$(eo,this.driver,B,u,hl).forEach(Nt=>{K$(Nt,l,u)&&hi.push(Nt)});const ed=new Map;v.forEach((Nt,Bt)=>{G$(ed,this.driver,new Set(Nt),l,"!")}),hi.forEach(Nt=>{var Bt,Wt;const An=eo.get(Nt),$r=ed.get(Nt);eo.set(Nt,new Map([...null!==(Bt=null==An?void 0:An.entries())&&void 0!==Bt?Bt:[],...null!==(Wt=null==$r?void 0:$r.entries())&&void 0!==Wt?Wt:[]]))});const td=[],oz=[],sz={};s.forEach(Nt=>{const{element:Bt,player:Wt,instruction:An}=Nt;if(r.has(Bt)){if(h.has(Bt))return Wt.onDestroy(()=>Ia(Bt,An.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(An.totalTime),void i.push(Wt);let $r=sz;if(In.size>1){let ts=Bt;const Nu=[];for(;ts=ts.parentNode;){const Nr=In.get(ts);if(Nr){$r=Nr;break}Nu.push(ts)}Nu.forEach(Nr=>In.set(Nr,$r))}const Pa=this._buildAnimation(Wt.namespaceId,An,Xt,o,ed,eo);if(Wt.setRealPlayer(Pa),$r===sz)td.push(Wt);else{const ts=this.playersByElement.get($r);ts&&ts.length&&(Wt.parentPlayer=uu(ts)),i.push(Wt)}}else Dc(Bt,An.fromStyles),Wt.onDestroy(()=>Ia(Bt,An.toStyles)),oz.push(Wt),h.has(Bt)&&i.push(Wt)}),oz.forEach(Nt=>{const Bt=o.get(Nt.element);if(Bt&&Bt.length){const Wt=uu(Bt);Nt.setRealPlayer(Wt)}}),i.forEach(Nt=>{Nt.parentPlayer?Nt.syncPlayerEvents(Nt.parentPlayer):Nt.destroy()});for(let Nt=0;Nt<R.length;Nt++){const Bt=R[Nt],Wt=Bt[$s];if(ef(Bt,cE),Wt&&Wt.hasAnimation)continue;let An=[];if(a.size){let Pa=a.get(Bt);Pa&&Pa.length&&An.push(...Pa);let ts=this.driver.query(Bt,aD,!0);for(let Nu=0;Nu<ts.length;Nu++){let Nr=a.get(ts[Nu]);Nr&&Nr.length&&An.push(...Nr)}}const $r=An.filter(Pa=>!Pa.destroyed);$r.length?yoe(this,Bt,$r):this.processLeaveNode(Bt)}return R.length=0,td.forEach(Nt=>{this.players.push(Nt),Nt.onDone(()=>{Nt.destroy();const Bt=this.players.indexOf(Nt);this.players.splice(Bt,1)}),Nt.play()}),td}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==xm;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){const o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,h=u!==o,g=Yo(r,u,[]);this._getPreviousPlayers(u,h,s,a,n.toState).forEach(v=>{const C=v.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),v.destroy(),g.push(v)})}Dc(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){const a=n.triggerName,l=n.element,u=[],h=new Set,g=new Set,m=n.timelines.map(C=>{const A=C.element;h.add(A);const R=A[$s];if(R&&R.removedBeforeQueried)return new Mm(C.duration,C.delay);const V=A!==l,B=function Ioe(t){const e=[];return W$(t,e),e}((r.get(A)||hoe).map(Xt=>Xt.getRealPlayer())).filter(Xt=>!!Xt.element&&Xt.element===A),ge=o.get(A),me=s.get(A),Ge=b$(this._normalizer,C.keyframes,ge,me),wt=this._buildPlayer(C,Ge,B);if(C.subTimeline&&i&&g.add(A),V){const Xt=new ED(e,a,A);Xt.setRealPlayer(wt),u.push(Xt)}return wt});u.forEach(C=>{Yo(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function moe(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,C.element,C))}),h.forEach(C=>ys(C,M$));const v=uu(m);return v.onDestroy(()=>{h.forEach(C=>ef(C,M$)),Ia(l,n.toStyles)}),g.forEach(C=>{Yo(i,C,[]).push(v)}),v}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Mm(e.duration,e.delay)}}class ED{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Mm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>eD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Yo(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function IE(t){return t&&1===t.nodeType}function z$(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function G$(t,e,n,r,i){const o=[];n.forEach(l=>o.push(z$(l)));const s=[];r.forEach((l,u)=>{const h=new Map;l.forEach(g=>{const m=e.computeStyle(u,g,i);h.set(g,m),(!m||0==m.length)&&(u[$s]=foe,s.push(u))}),t.set(u,h)});let a=0;return n.forEach(l=>z$(l,o[a++])),s}function q$(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:i.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&n.get(l).push(a)}),n}function ys(t,e){var n;null===(n=t.classList)||void 0===n||n.add(e)}function ef(t,e){var n;null===(n=t.classList)||void 0===n||n.remove(e)}function yoe(t,e,n){uu(n).onDone(()=>t.processLeaveNode(e))}function W$(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof I$?W$(r.players,e):e.push(r)}}function K$(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}class Om{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new goe(e.body,n,r,i),this._timelineEngine=new aoe(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],h=hD(this._driver,o,l,[]);if(l.length)throw function cie(t,e){return new ie(3404,!1)}();a=function roe(t,e,n){return new ioe(t,e,n)}(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[o,s]=A$(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=A$(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class tf{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=tf.initialStylesByElement.get(e);i||tf.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ia(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ia(this._element,this._initialStyles),this._endStyles&&(Ia(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tf.initialStylesByElement.delete(this._element),this._startStyles&&(Dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),Ia(this._element,this._initialStyles),this._state=3)}}function wD(t){let e=null;return t.forEach((n,r)=>{(function Coe(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}tf.initialStylesByElement=new WeakMap;class Q${constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){var e;return+(null!==(e=this.domPlayer.currentTime)&&void 0!==e?e:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:dD(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Y${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return D$(e,n)}getParentElement(e){return rD(e)}query(e,n,r){return S$(e,n,r)}computeStyle(e,n,r){return dD(e,n)}animate(e,n,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const u=new Map,h=s.filter(v=>v instanceof Q$);(function Oie(t,e){return 0===t||0===e})(r,i)&&h.forEach(v=>{v.currentSnapshot.forEach((C,A)=>u.set(A,C))});let g=function Pie(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(v=>new Map(v));g=function kie(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,dD(t,a)))}}return e}(e,g,u);const m=function woe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=wD(e[0]),e.length>1&&(r=wD(e[e.length-1]))):e instanceof Map&&(n=wD(e)),n||r?new tf(t,n,r):null}(e,g);return new Q$(e,g,l,m)}}const X$="@.disabled";class Z${constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){var n,r;null===(n=(r=this.delegate).destroyNode)||void 0===n||n.call(r,e)}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==X$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class boe extends Z${constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==X$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function Aoe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Toe(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class Doe{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{const s=null==o?void 0:o.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){var r;const o=this.delegate.createRenderer(e,n);if(!e||null==n||null===(r=n.data)||void 0===r||!r.animation){const h=this._rendererCache;let g=h.get(o);return g||(g=new Z$("",o,this.engine,()=>h.delete(o)),h.set(o,g)),g}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,e,h.name,h)};return n.data.animation.forEach(l),new boe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Soe=(()=>{var t;class e extends Om{constructor(r,i,o){super(r,i,o,Le(Sy,{optional:!0}))}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(r){return new(r||t)(Xe(Wi),Xe(uE),Xe(oD))},t.\u0275prov=Oe({token:t,factory:t.\u0275fac}),e})();const J$=[{provide:oD,useFactory:function Roe(){return new x$}},{provide:Om,useClass:Soe},{provide:My,useFactory:function Moe(t,e,n){return new Doe(t,e,n)},deps:[FA,Om,Re]}],CD=[{provide:uE,useFactory:()=>new Y$},{provide:rC,useValue:"BrowserAnimations"},...J$],eB=[{provide:uE,useClass:iD},{provide:rC,useValue:"NoopAnimations"},...J$];let Poe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?eB:CD}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({providers:CD,imports:[eL]}),e})();const tB_firebaseConfig={apiKey:"AIzaSyCsD3AG7Zq7Aw_VAhn6N9ZGqVdabUrcFZU",authDomain:"tenquestion-6e3dd.firebaseapp.com",databaseURL:"https://tenquestion-6e3dd-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tenquestion-6e3dd",storageBucket:"tenquestion-6e3dd.appspot.com",messagingSenderId:"438469942447",appId:"1:438469942447:web:97b3e3a5bf4620aa4f485a",measurementId:"G-3XVQGB22FD"};let Noe=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ke({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(cn(0,"ion-app"),Gr(1,"ion-router-outlet"),Cn())},dependencies:[Y2,Dm]}),e})(),xoe=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i,this.afAuth.authState.subscribe(o=>{this.router.navigate(o?["/home"]:["/log"])})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Jh),E(Wr))},t.\u0275cmp=Ke({type:t,selectors:[["app-splash"]],decls:3,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["src","assets\\img\\icon.png",2,"width","10rem","height","10rem","border-radius","1rem"]],template:function(r,i){1&r&&(cn(0,"body")(1,"div",0),Gr(2,"img",1),Cn()())}}),e})(),Ooe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ke({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[["id","under_bar"],["routerLink","/search","name","search",1,"under_bar_button"],["routerLink","/home","name","albums",1,"under_bar_button"],["routerLink","/add","name","add-circle",1,"under_bar_button"],["routerLink","/chat","name","chatbubble",1,"under_bar_button",2,"font-size","1.8rem"],["routerLink","/account","name","person-circle",1,"under_bar_button"]],template:function(r,i){1&r&&(cn(0,"div",0),Gr(1,"ion-icon",1)(2,"ion-icon",2)(3,"ion-icon",3)(4,"ion-icon",4)(5,"ion-icon",5),Cn())},dependencies:[Tm,KT,Cc]}),e})();const koe=["animatedDiv"];let Foe=(()=>{var t;class e{ngOnInit(){}constructor(r){this.animationBuilder=r,this.startY=0}playBottomTopSwipeAnimation(){const i=this.animationBuilder.build([lu({transform:"translateY(100%)",opacity:0}),lE("300ms ease-out",lu({transform:"translateY(0)",opacity:1})),lE("300ms ease-out",lu({opacity:1}))]).create(this.animatedDiv.nativeElement);i.play(),i.onDone(()=>{this.animatedDiv.nativeElement.style.opacity="1",this.animatedDiv.nativeElement.style.transform="translateY(0)"})}playTopBottomSwipeAnimation(){const i=this.animationBuilder.build([lu({transform:"translateY(-100%)",opacity:0}),lE("300ms ease-out",lu({transform:"translateY(0)",opacity:1})),lE("300ms ease-out",lu({opacity:1}))]).create(this.animatedDiv.nativeElement);i.play(),i.onDone(()=>{this.animatedDiv.nativeElement.style.opacity="1",this.animatedDiv.nativeElement.style.transform="translateY(0)"})}onWheel(r){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{r.deltaY<0?console.log("Swipe dall'alto verso il basso"):console.log("Swipe dal basso verso l'alto")},50)}onTouchStart(r){this.startY=r.touches[0].clientY}onTouchMove(r){const i=r.touches[0].clientY-this.startY;clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{i<0?this.playBottomTopSwipeAnimation():this.playTopBottomSwipeAnimation()},50)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(v$))},t.\u0275cmp=Ke({type:t,selectors:[["app-home"]],viewQuery:function(r,i){if(1&r&&function Jy(t,e,n){mx(t,e,n)}(koe,5),2&r){let o;(function nl(t){const e=be(),n=yn(),r=Up();ec(r+1);const i=lb(n,r);if(t.dirty&&function Mv(t){return!(4&~t[kt])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const o=yx(e,r);t.reset(o,oP),t.notifyOnChanges()}return!0}return!1})(o=rl())&&(i.animatedDiv=o.first)}},decls:26,vars:0,consts:[["animatedDiv",""],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","padding-top","3.5rem","overflow-y","auto","border-bottom","1px solid rgba(0, 0, 0, 0.139)"],[1,"scrollable",2,"height","100%","width","100%","padding-left","1rem","padding-right","1rem",3,"wheel","touchstart","touchmove"],["src","assets\\img\\ferrari-portofino-m-2021-21.webp",2,"width","100%","height","10rem","object-fit","cover"],[2,"width","100%","display","flex","flex-direction","column","align-items","center","gap","1rem"],[1,"button1",2,"width","95%","border-radius","1rem","height","2.5rem","font-weight","normal"],[1,"overflow1"],[1,"header",2,"height","3.5rem !important","pointer-events","visible","background","#f8f9fab3","-webkit-backdrop-filter","blur(5px)","backdrop-filter","blur(5px)","border-top","1px solid rgba(255, 255, 255, 0.046)"],[2,"height","100%","display","flex","flex-direction","row","align-items","center"],[2,"display","flex","border-bottom","1px solid rgba(255, 255, 255, 0.046)"],["routerLink","/notifications","name","notifications",2,"font-size","2rem","color","#212529","margin-right","0.5rem"],["id","spacer",2,"height","calc(100% - 7rem)"]],template:function(r,i){if(1&r){const o=function xb(){return be()}();cn(0,"div",1)(1,"div",2,0),Kn("wheel",function(a){return Bl(o),Ul(i.onWheel(a))})("touchstart",function(a){return Bl(o),Ul(i.onTouchStart(a))})("touchmove",function(a){return Bl(o),Ul(i.onTouchMove(a))}),Gr(3,"img",3),cn(4,"h2"),kr(5,'Compreresti una "Ferrari Portofino Spider" ?'),Cn(),cn(6,"div",4)(7,"button",5),kr(8,"Si"),Cn(),cn(9,"button",5),kr(10,"Si, ma il costo non vale il prodotto"),Cn(),cn(11,"button",5),kr(12,"Se avessi l'importo per comprarla la acquisterei volentieri"),Cn(),cn(13,"button",5),kr(14,"No, non posso permettermela"),Cn(),cn(15,"button",5),kr(16,"No, non ritengo che 'Ferrari' sia un brand affidabile"),Cn(),cn(17,"button",5),kr(18,"No, non mi piace il design"),Cn()()()(),cn(19,"div",6)(20,"div",7)(21,"div",8),Gr(22,"div",9),Cn(),Gr(23,"ion-icon",10),Cn(),Gr(24,"div",11)(25,"app-footer"),Cn()}},dependencies:[Tm,KT,Cc,Ooe]}),e})(),Loe=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Wr))},t.\u0275cmp=Ke({type:t,selectors:[["app-log"]],decls:15,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","position","fixed","overflow-x","hidden","overflow-y","auto","align-items","center"],["src","assets\\img\\undraw_connected_world_wuay (2).svg",2,"width","18rem","margin-top","2rem"],[2,"width","100%","border-top-left-radius","1rem","border-top-right-radius","1rem","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","2rem"],[2,"width","90%","margin-top","0rem","color","gray"],[2,"color","black"],[1,"button1",2,"width","90%","margin-top","1rem",3,"click"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","#6b9080",3,"click"]],template:function(r,i){1&r&&(cn(0,"body")(1,"div",0),Gr(2,"img",1),cn(3,"div",2)(4,"h1",3),kr(5,"Tenquestion"),Cn(),cn(6,"p",4),kr(7,"Scopri il valore delle tue preferenze e dei tuoi gusti con "),cn(8,"strong",5),kr(9,"Tenquestion"),Cn(),kr(10,"!"),Cn(),cn(11,"button",6),Kn("click",function(){return i.toLogin()}),kr(12,"Accedi"),Cn(),cn(13,"button",7),Kn("click",function(){return i.toRegister()}),kr(14,"Registrati"),Cn()()()())}}),e})(),Voe=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i}login(){const i=document.getElementById("login-email").value,s=document.getElementById("login-password").value;return this.afAuth.signInWithEmailAndPassword(i,s).then(()=>{alert("Login riuscito!"),this.router.navigate(["/home"])}).catch(a=>{alert("Errore durante il login: "+a.message)})}toRegister(){this.router.navigate(["/register"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Jh),E(Wr))},t.\u0275cmp=Ke({type:t,selectors:[["app-login"]],decls:19,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","overflow-x","hidden","overflow-y","auto"],["src","assets\\img\\undraw_ideas_flow_re_bmea (1).svg",2,"width","12rem","margin-top","2rem","margin-bottom","2rem"],[1,"card1",2,"width","92%"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["name","mail-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["type","email","id","login-email","placeholder","Email",1,"field1"],["name","key-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["type","password","id","login-password","placeholder","Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem",3,"click"],[1,"div1",2,"margin-left","0rem"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(cn(0,"div",0),Gr(1,"img",1),cn(2,"div",2)(3,"h1",3),kr(4,"Accedi al tuo account"),Cn(),cn(5,"div",4),Gr(6,"ion-icon",5)(7,"input",6),Cn(),cn(8,"div",4),Gr(9,"ion-icon",7)(10,"input",8),Cn(),cn(11,"button",9),Kn("click",function(){return i.login()}),cn(12,"div",10)(13,"p",11),kr(14,"Accedi"),Cn()()()(),cn(15,"p",12),kr(16,"Non possiedi un account?"),cn(17,"strong",13),Kn("click",function(){return i.toRegister()}),kr(18,"Registrati"),Cn()()())},dependencies:[Tm]}),e})();function bD(){return ut((t,e)=>{let n,r=!1;t.subscribe(Gt(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var yt,nB=ae(1362),Ea=ae(8041),zn=ae(1076),$oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bs={},AD=AD||{},sn=$oe||self;function wE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function km(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var TD="closure_uid_"+(1e9*Math.random()>>>0),Uoe=0;function joe(t,e,n){return t.call.apply(t.bind,arguments)}function Hoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qi(t,e,n){return(Qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?joe:Hoe).apply(null,arguments)}function CE(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ci(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function cu(){this.s=this.s,this.o=this.o}cu.prototype.s=!1,cu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Boe(t){Object.prototype.hasOwnProperty.call(t,TD)&&t[TD]||(t[TD]=++Uoe)}(this)},cu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function DD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iB(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wE(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Yi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yi.prototype.h=function(){this.defaultPrevented=!0};var Goe=function(){if(!sn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};sn.addEventListener("test",n,e),sn.removeEventListener("test",n,e)}catch{}return t}();function Fm(t){return/^[\s\xa0]*$/.test(t)}function bE(){var t=sn.navigator;return t&&(t=t.userAgent)?t:""}function wa(t){return-1!=bE().indexOf(t)}function SD(t){return SD[" "](t),t}SD[" "]=function(){};var MD,t,Woe=wa("Opera"),nf=wa("Trident")||wa("MSIE"),oB=wa("Edge"),RD=oB||nf,sB=wa("Gecko")&&!(-1!=bE().toLowerCase().indexOf("webkit")&&!wa("Edge"))&&!(wa("Trident")||wa("MSIE"))&&!wa("Edge"),Koe=-1!=bE().toLowerCase().indexOf("webkit")&&!wa("Edge");function aB(){var t=sn.document;return t?t.documentMode:void 0}e:{var PD="",ND=(t=bE(),sB?/rv:([^\);]+)(\)|;)/.exec(t):oB?/Edge\/([\d\.]+)/.exec(t):nf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Koe?/WebKit\/(\S+)/.exec(t):Woe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ND&&(PD=ND?ND[1]:""),nf){var xD=aB();if(null!=xD&&xD>parseFloat(PD)){MD=String(xD);break e}}MD=PD}var Qoe=sn.document&&nf&&(aB()||parseInt(MD,10))||void 0;function Lm(t,e){if(Yi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sB){e:{try{SD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lm.$.h.call(this)}}Ci(Lm,Yi);var Yoe={2:"touch",3:"pen",4:"mouse"};Lm.prototype.h=function(){Lm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vm="closure_listenable_"+(1e6*Math.random()|0),Xoe=0;function Zoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Xoe,this.fa=this.ia=!1}function AE(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function kD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uB(t){const e={};for(const n in t)e[n]=t[n];return e}const cB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dB(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<cB.length;o++)n=cB[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function TE(t){this.src=t,this.g={},this.h=0}function FD(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=rB(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(AE(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function LD(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}TE.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=LD(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Zoe(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var VD="closure_lm_"+(1e6*Math.random()|0),$D={};function hB(t,e,n,r,i){if(r&&r.once)return pB(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)hB(t,e[o],n,r,i);return null}return n=HD(n),t&&t[Vm]?t.O(e,n,km(r)?!!r.capture:!!r,i):fB(t,e,n,!1,r,i)}function fB(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=km(i)?!!i.capture:!!i,a=UD(t);if(a||(t[VD]=a=new TE(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function ese(){const e=tse;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Goe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mB(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pB(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pB(t,e[o],n,r,i);return null}return n=HD(n),t&&t[Vm]?t.P(e,n,km(r)?!!r.capture:!!r,i):fB(t,e,n,!0,r,i)}function gB(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gB(t,e[o],n,r,i);else r=km(r)?!!r.capture:!!r,n=HD(n),t&&t[Vm]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=LD(o=t.g[e],n,r,i))&&(AE(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=UD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=LD(e,n,r,i)),(n=-1<t?e[t]:null)&&BD(n))}function BD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Vm])FD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=UD(e))?(FD(n,t),0==n.h&&(n.src=null,e[VD]=null)):AE(t)}}}function mB(t){return t in $D?$D[t]:$D[t]="on"+t}function tse(t,e){if(t.fa)t=!0;else{e=new Lm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&BD(t),t=n.call(r,e)}return t}function UD(t){return(t=t[VD])instanceof TE?t:null}var jD="__closure_events_fn_"+(1e9*Math.random()>>>0);function HD(t){return"function"==typeof t?t:(t[jD]||(t[jD]=function(e){return t.handleEvent(e)}),t[jD])}function bi(){cu.call(this),this.i=new TE(this),this.S=this,this.J=null}function Fi(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Yi(e,t);else if(e instanceof Yi)e.target=e.target||t;else{var i=e;dB(e=new Yi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=DE(s,r,!0,e)&&i}if(i=DE(s=e.g=t,r,!0,e)&&i,i=DE(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=DE(s=e.g=n[o],r,!1,e)&&i}function DE(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&FD(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ci(bi,cu),bi.prototype[Vm]=!0,bi.prototype.removeEventListener=function(t,e,n,r){gB(this,t,e,n,r)},bi.prototype.N=function(){if(bi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)AE(n[r]);delete t.g[e],t.h--}}this.J=null},bi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},bi.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var zD=sn.JSON.stringify;function rse(){var t=GD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _B=new class nse{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ose,t=>t.reset());class ose{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sse(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ase(t){sn.setTimeout(()=>{throw t},0)}let $m,Bm=!1,GD=new class ise{constructor(){this.h=this.g=null}add(e,n){const r=_B.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},vB=()=>{const t=sn.Promise.resolve(void 0);$m=()=>{t.then(lse)}};var lse=()=>{for(var t;t=rse();){try{t.h.call(t.g)}catch(n){ase(n)}var e=_B;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bm=!1};function SE(t,e){bi.call(this),this.h=t||1,this.g=e||sn,this.j=Qi(this.qb,this),this.l=Date.now()}function qD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function WD(t,e,n){if("function"==typeof t)n&&(t=Qi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qi(t.handleEvent,t)}return 2147483647<Number(e)?-1:sn.setTimeout(t,e||0)}function yB(t){t.g=WD(()=>{t.g=null,t.i&&(t.i=!1,yB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ci(SE,bi),(yt=SE.prototype).ga=!1,yt.T=null,yt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fi(this,"tick"),this.ga&&(qD(this),this.start()))}},yt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.N=function(){SE.$.N.call(this),qD(this),delete this.g};class use extends cu{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yB(this)}N(){super.N(),this.g&&(sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Um(t){cu.call(this),this.h=t,this.g={}}Ci(Um,cu);var IB=[];function EB(t,e,n,r){Array.isArray(n)||(n&&(IB[0]=n.toString()),n=IB);for(var i=0;i<n.length;i++){var o=hB(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function wB(t){kD(t.g,function(e,n){this.g.hasOwnProperty(n)&&BD(e)},t),t.g={}}function RE(){this.g=!0}function rf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return zD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Um.prototype.N=function(){Um.$.N.call(this),wB(this)},Um.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},RE.prototype.Ea=function(){this.g=!1},RE.prototype.info=function(){};var Rc={},CB=null;function ME(){return CB=CB||new bi}function bB(t){Yi.call(this,Rc.Ta,t)}function jm(t){const e=ME();Fi(e,new bB(e))}function AB(t,e){Yi.call(this,Rc.STAT_EVENT,t),this.stat=e}function mo(t){const e=ME();Fi(e,new AB(e,t))}function TB(t,e){Yi.call(this,Rc.Ua,t),this.size=e}function Hm(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return sn.setTimeout(function(){t()},e)}Rc.Ta="serverreachability",Ci(bB,Yi),Rc.STAT_EVENT="statevent",Ci(AB,Yi),Rc.Ua="timingevent",Ci(TB,Yi);var PE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KD(){}function RB(){}KD.prototype.h=null;var XD,zm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function QD(){Yi.call(this,"d")}function YD(){Yi.call(this,"c")}function NE(){}function Gm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Um(this),this.P=pse,this.V=new SE(t=RD?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new MB}function MB(){this.i=null,this.g="",this.h=!1}Ci(QD,Yi),Ci(YD,Yi),Ci(NE,KD),NE.prototype.g=function(){return new XMLHttpRequest},NE.prototype.i=function(){return{}},XD=new NE;var pse=45e3,PB={},ZD={};function JD(t,e,n){t.L=1,t.A=FE(pl(e)),t.u=n,t.S=!0,NB(t,null)}function NB(t,e){t.G=Date.now(),qm(t),t.B=pl(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jB(n.i,"t",r),t.o=0,n=t.l.J,t.h=new MB,t.g=hU(t.l,n?e:null,!t.u),0<t.O&&(t.M=new use(Qi(t.Pa,t,t.g),t.O)),EB(t.U,t.g,"readystatechange",t.nb),e=t.I?uB(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),jm(),function cse(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var g=h.split("_");s=2<=g.length&&"type"==g[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function xB(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function OB(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=gse(t,n),i==ZD){4==e&&(t.s=4,mo(14),r=!1),rf(t.j,t.m,null,"[Incomplete Response]");break}if(i==PB){t.s=4,mo(15),rf(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}rf(t.j,t.m,i,null),eS(t,i)}xB(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,mo(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),aS(e),e.M=!0,mo(11))):(rf(t.j,t.m,n,"[Invalid Chunked Response]"),Mc(t),Wm(t))}function gse(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?ZD:(n=Number(e.substring(n,r)),isNaN(n)?PB:(r+=1)+n>e.length?ZD:(e=e.slice(r,r+n),t.o=r+n,e))}function qm(t){t.Y=Date.now()+t.P,kB(t,t.P)}function kB(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Hm(Qi(t.lb,t),e)}function xE(t){t.C&&(sn.clearTimeout(t.C),t.C=null)}function Wm(t){0==t.l.H||t.J||lU(t.l,t)}function Mc(t){xE(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,qD(t.V),wB(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function eS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||tS(n.i,t)))if(!t.K&&tS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;jE(n),BE(n)}sS(n),mo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Hm(Qi(n.ib,n),6e3));if(1>=GB(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Nc(n,11)}else if((t.K||n.g==t)&&jE(n),!Fm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const h=u[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=u[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=u[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const C=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var o=r.i;o.g||-1==C.indexOf("spdy")&&-1==C.indexOf("quic")&&-1==C.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(nS(o,o.h),o.h=null))}if(r.F){const A=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(r.Da=A,Ir(r.I,r.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=dU(r,r.J?r.pa:null,r.Y),s.K){qB(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(xE(a),qm(a)),r.g=s}else sU(r);0<n.j.length&&UE(n)}else"stop"!=u[0]&&"close"!=u[0]||Nc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Nc(n,7):oS(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}jm()}catch{}}function FB(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wE(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function _se(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wE(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function mse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(wE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(yt=Gm.prototype).setTimeout=function(t){this.P=t},yt.nb=function(t){t=t.target;const e=this.M;e&&3==Ca(t)?e.l():this.Pa(t)},yt.Pa=function(t){try{if(t==this.g)e:{const h=Ca(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||RD||this.g&&(this.h.h||this.g.ja()||eU(this.g)))){this.J||4!=h||7==e||jm(),xE(this);var n=this.g.da();this.ca=n;t:if(xB(this)){var r=eU(this.g);t="";var i=r.length,o=4==Ca(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mc(this),Wm(this);var s="";break t}this.h.i=new sn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function dse(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fm(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,mo(12),Mc(this),Wm(this);break e}rf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eS(this,n)}this.S?(OB(this,h,s),RD&&this.i&&3==h&&(EB(this.U,this.V,"tick",this.mb),this.V.start())):(rf(this.j,this.m,s,null),eS(this,s)),4==h&&Mc(this),this.i&&!this.J&&(4==h?lU(this.l,this):(this.i=!1,qm(this)))}else(function kse(t){const e={};t=(t.g&&2<=Ca(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Fm(t[r]))continue;var n=sse(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Joe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,mo(12)):(this.s=0,mo(13)),Mc(this),Wm(this)}}}catch{}},yt.mb=function(){if(this.g){var t=Ca(this.g),e=this.g.ja();this.o<e.length&&(xE(this),OB(this,t,e),this.i&&4!=t&&qm(this))}},yt.cancel=function(){this.J=!0,Mc(this)},yt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function hse(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(jm(),mo(17)),Mc(this),this.s=2,Wm(this)):kB(this,this.Y-t)};var LB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Pc){this.h=t.h,OE(this,t.j),this.s=t.s,this.g=t.g,kE(this,t.m),this.l=t.l;var e=t.i,n=new Ym;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VB(this,n),this.o=t.o}else t&&(e=String(t).match(LB))?(this.h=!1,OE(this,e[1]||"",!0),this.s=Km(e[2]||""),this.g=Km(e[3]||"",!0),kE(this,e[4]),this.l=Km(e[5]||"",!0),VB(this,e[6]||"",!0),this.o=Km(e[7]||"")):(this.h=!1,this.i=new Ym(null,this.h))}function pl(t){return new Pc(t)}function OE(t,e,n){t.j=n?Km(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kE(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VB(t,e,n){e instanceof Ym?(t.i=e,function bse(t,e){e&&!t.j&&(du(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BB(this,r),jB(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Qm(e,wse)),t.i=new Ym(e,t.h))}function Ir(t,e,n){t.i.set(e,n)}function FE(t){return Ir(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Km(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qm(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yse(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qm(e,$B,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Qm(e,$B,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qm(n,"/"==n.charAt(0)?Ese:Ise,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qm(n,Cse)),t.join("")};var $B=/[#\/\?@]/g,Ise=/[#\?:]/g,Ese=/[#\?]/g,wse=/[#\?@]/g,Cse=/#/g;function Ym(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function du(t){t.g||(t.g=new Map,t.h=0,t.i&&function vse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BB(t,e){du(t),e=sf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UB(t,e){return du(t),e=sf(t,e),t.g.has(e)}function jB(t,e,n){BB(t,e),0<n.length&&(t.i=null,t.g.set(sf(t,e),DD(n)),t.h+=n.length)}function sf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(yt=Ym.prototype).add=function(t,e){du(this),this.i=null,t=sf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},yt.forEach=function(t,e){du(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},yt.ta=function(){du(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},yt.Z=function(t){du(this);let e=[];if("string"==typeof t)UB(this,t)&&(e=e.concat(this.g.get(sf(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},yt.set=function(t,e){return du(this),this.i=null,UB(this,t=sf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},yt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Ase=class{constructor(t,e){this.g=t,this.map=e}};function HB(t){this.l=t||Tse,t=sn.PerformanceNavigationTiming?0<(t=sn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(sn.g&&sn.g.Ka&&sn.g.Ka()&&sn.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tse=10;function zB(t){return!!t.h||!!t.g&&t.g.size>=t.j}function GB(t){return t.h?1:t.g?t.g.size:0}function tS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function nS(t,e){t.g?t.g.add(e):t.h=e}function qB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function WB(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return DD(t.i)}HB.prototype.cancel=function(){if(this.i=WB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Dse=class{stringify(t){return sn.JSON.stringify(t,void 0)}parse(t){return sn.JSON.parse(t,void 0)}};function Sse(){this.g=new Dse}function Rse(t,e,n){const r=n||"";try{FB(t,function(i,o){let s=i;km(i)&&(s=zD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function LE(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xm(t){this.l=t.ec||null,this.j=t.ob||!1}function VE(t,e){bi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=rS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ci(Xm,KD),Xm.prototype.g=function(){return new VE(this.l,this.j)},Xm.prototype.i=function(t){return function(){return t}}({}),Ci(VE,bi);var rS=0;function KB(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Zm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jm(t)}function Jm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(yt=VE.prototype).open=function(t,e){if(this.readyState!=rS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jm(this)},yt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||sn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zm(this)),this.readyState=rS},yt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jm(this)),this.g&&(this.readyState=3,Jm(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof sn.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KB(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},yt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zm(this):Jm(this),3==this.readyState&&KB(this)}},yt.Za=function(t){this.g&&(this.response=this.responseText=t,Zm(this))},yt.Ya=function(t){this.g&&(this.response=t,Zm(this))},yt.ka=function(){this.g&&Zm(this)},yt.setRequestHeader=function(t,e){this.v.append(t,e)},yt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(VE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Pse=sn.JSON.parse;function Fr(t){bi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QB,this.L=this.M=!1}Ci(Fr,bi);var QB="",Nse=/^https?$/i,xse=["POST","PUT"];function YB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XB(t),$E(t)}function XB(t){t.F||(t.F=!0,Fi(t,"complete"),Fi(t,"error"))}function ZB(t){if(t.h&&typeof AD<"u"&&(!t.C[1]||4!=Ca(t)||2!=t.da()))if(t.v&&4==Ca(t))WD(t.La,0,t);else if(Fi(t,"readystatechange"),4==Ca(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(LB)[1]||null;!i&&sn.self&&sn.self.location&&(i=sn.self.location.protocol.slice(0,-1)),r=!Nse.test(i?i.toLowerCase():"")}n=r}if(n)Fi(t,"complete"),Fi(t,"success");else{t.m=6;try{var o=2<Ca(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",XB(t)}}finally{$E(t)}}}function $E(t,e){if(t.g){JB(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fi(t,"ready");try{n.onreadystatechange=r}catch{}}}function JB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(sn.clearTimeout(t.A),t.A=null)}function Ca(t){return t.g?t.g.readyState:0}function eU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tU(t){let e="";return kD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function iS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ir(t,e,n))}function e_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nU(t){this.Ga=0,this.j=[],this.l=new RE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=e_("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=e_("baseRetryDelayMs",5e3,t),this.hb=e_("retryDelaySeedMs",1e4,t),this.eb=e_("forwardChannelMaxRetries",2,t),this.xa=e_("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HB(t&&t.concurrentRequestLimit),this.Ja=new Sse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oS(t){if(rU(t),3==t.H){var e=t.W++,n=pl(t.I);if(Ir(n,"SID",t.K),Ir(n,"RID",e),Ir(n,"TYPE","terminate"),t_(t,n),(e=new Gm(t,t.l,e)).L=2,e.A=FE(pl(n)),n=!1,sn.navigator&&sn.navigator.sendBeacon)try{n=sn.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&sn.Image&&((new Image).src=e.A,n=!0),n||(e.g=hU(e.l,null),e.g.ha(e.A)),e.G=Date.now(),qm(e)}cU(t)}function BE(t){t.g&&(aS(t),t.g.cancel(),t.g=null)}function rU(t){BE(t),t.u&&(sn.clearTimeout(t.u),t.u=null),jE(t),t.i.cancel(),t.m&&("number"==typeof t.m&&sn.clearTimeout(t.m),t.m=null)}function UE(t){if(!zB(t.i)&&!t.m){t.m=!0;var e=t.Na;$m||vB(),Bm||($m(),Bm=!0),GD.add(e,t),t.C=0}}function iU(t,e){var n;n=e?e.m:t.W++;const r=pl(t.I);Ir(r,"SID",t.K),Ir(r,"RID",n),Ir(r,"AID",t.V),t_(t,r),t.o&&t.s&&iS(r,t.o,t.s),n=new Gm(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),nS(t.i,n),JD(n,r,e)}function t_(t,e){t.na&&kD(t.na,function(n,r){Ir(e,r,n)}),t.h&&FB({},function(n,r){Ir(e,r,n)})}function oU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Rse(h,s,"req"+u+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function sU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$m||vB(),Bm||($m(),Bm=!0),GD.add(e,t),t.A=0}}function sS(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Hm(Qi(t.Ma,t),uU(t,t.A)),t.A++,0))}function aS(t){null!=t.B&&(sn.clearTimeout(t.B),t.B=null)}function aU(t){t.g=new Gm(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=pl(t.wa);Ir(e,"RID","rpc"),Ir(e,"SID",t.K),Ir(e,"AID",t.V),Ir(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ir(e,"TO",t.qa),Ir(e,"TYPE","xmlhttp"),t_(t,e),t.o&&t.s&&iS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=FE(pl(e)),n.u=null,n.S=!0,NB(n,t)}function jE(t){null!=t.v&&(sn.clearTimeout(t.v),t.v=null)}function lU(t,e){var n=null;if(t.g==e){jE(t),aS(t),t.g=null;var r=2}else{if(!tS(t.i,e))return;n=e.F,qB(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Fi(r=ME(),new TB(r,n)),UE(t)}else sU(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Fse(t,e){return!(GB(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Hm(Qi(t.Na,t,e),uU(t,t.C)),t.C++,0)))}(t,e)||2==r&&sS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Nc(t,5);break;case 4:Nc(t,10);break;case 3:Nc(t,6);break;default:Nc(t,2)}}function uU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Nc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Qi(t.pb,t);n||(n=new Pc("//www.google.com/images/cleardot.gif"),sn.location&&"http"==sn.location.protocol||OE(n,"https"),FE(n)),function Mse(t,e){const n=new RE;if(sn.Image){const r=new Image;r.onload=CE(LE,n,r,"TestLoadImage: loaded",!0,e),r.onerror=CE(LE,n,r,"TestLoadImage: error",!1,e),r.onabort=CE(LE,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=CE(LE,n,r,"TestLoadImage: timeout",!1,e),sn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mo(2);t.H=0,t.h&&t.h.za(e),cU(t),rU(t)}function cU(t){if(t.H=0,t.ma=[],t.h){const e=WB(t.i);(0!=e.length||0!=t.j.length)&&(iB(t.ma,e),iB(t.ma,t.j),t.i.i.length=0,DD(t.j),t.j.length=0),t.h.ya()}}function dU(t,e,n){var r=n instanceof Pc?pl(n):new Pc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),kE(r,r.m);else{var i=sn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Pc(null);r&&OE(o,r),e&&(o.g=e),i&&kE(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Ir(r,n,e),Ir(r,"VER",t.ra),t_(t,r),r}function hU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t.Ha&&!t.va?new Xm({ob:n}):t.va)).Oa(t.J),e}function fU(){}function HE(){if(nf&&!(10<=Number(Qoe)))throw Error("Environmental error: no available transport.")}function Zo(t,e){bi.call(this),this.g=new nU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fm(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new af(this)}function pU(t){QD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gU(){YD.call(this),this.status=1}function af(t){this.g=t}function Us(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Xn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(yt=Fr.prototype).Oa=function(t){this.M=t},yt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():XD.g(),this.C=function SB(t){return t.h||(t.h=t.i())}(this.u?this.u:XD),this.g.onreadystatechange=Qi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void YB(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=sn.FormData&&t instanceof sn.FormData,!(0<=rB(xse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JB(this),0<this.B&&((this.L=function Ose(t){return nf&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qi(this.ua,this)):this.A=WD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){YB(this,o)}},yt.ua=function(){typeof AD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))},yt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fi(this,"complete"),Fi(this,"abort"),$E(this))},yt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$E(this,!0)),Fr.$.N.call(this)},yt.La=function(){this.s||(this.G||this.v||this.l?ZB(this):this.kb())},yt.kb=function(){ZB(this)},yt.isActive=function(){return!!this.g},yt.da=function(){try{return 2<Ca(this)?this.g.status:-1}catch{return-1}},yt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pse(e)}},yt.Ia=function(){return this.m},yt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=nU.prototype).ra=8,yt.H=1,yt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Gm(this,this.l,t);let o=this.s;if(this.U&&(o?(o=uB(o),dB(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oU(this,i,e),Ir(n=pl(this.I),"RID",t),Ir(n,"CVER",22),this.F&&Ir(n,"X-HTTP-Session-Id",this.F),t_(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(tU(o)))+"&"+e:this.o&&iS(n,this.o,o)),nS(this.i,i),this.bb&&Ir(n,"TYPE","init"),this.P?(Ir(n,"$req",e),Ir(n,"SID","null"),i.aa=!0,JD(i,n,null)):JD(i,n,e),this.H=2}}else 3==this.H&&(t?iU(this,t):0==this.j.length||zB(this.i)||iU(this))},yt.Ma=function(){if(this.u=null,aU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hm(Qi(this.jb,this),t)}},yt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mo(10),BE(this),aU(this))},yt.ib=function(){null!=this.v&&(this.v=null,BE(this),sS(this),mo(19))},yt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mo(2)):(this.l.info("Failed to ping google.com"),mo(1))},yt.isActive=function(){return!!this.h&&this.h.isActive(this)},(yt=fU.prototype).Ba=function(){},yt.Aa=function(){},yt.za=function(){},yt.ya=function(){},yt.isActive=function(){return!0},yt.Va=function(){},HE.prototype.g=function(t,e){return new Zo(t,e)},Ci(Zo,bi),Zo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mo(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dU(t,null,t.Y),UE(t)},Zo.prototype.close=function(){oS(this.g)},Zo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=zD(t),t=n);e.j.push(new Ase(e.fb++,t)),3==e.H&&UE(e)},Zo.prototype.N=function(){this.g.h=null,delete this.j,oS(this.g),delete this.g,Zo.$.N.call(this)},Ci(pU,QD),Ci(gU,YD),Ci(af,fU),af.prototype.Ba=function(){Fi(this.g,"a")},af.prototype.Aa=function(t){Fi(this.g,new pU(t))},af.prototype.za=function(t){Fi(this.g,new gU)},af.prototype.ya=function(){Fi(this.g,"b")},Ci(Us,function Lse(){this.blockSize=-1}),Us.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Us.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)lS(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){lS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){lS(this,r),i=0;break}}this.h=i,this.i+=e},Us.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Vse={};function uS(t){return-128<=t&&128>t?function qoe(t,e){var n=Vse;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Xn([0|e],0>e?-1:0)}):new Xn([0|t],0>t?-1:0)}function ba(t){if(isNaN(t)||!isFinite(t))return lf;if(0>t)return Li(ba(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cS;return new Xn(e,0)}var cS=4294967296,lf=uS(0),dS=uS(1),_U=uS(16777216);function gl(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Is(t){return-1==t.h}function Li(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Xn(n,~t.h).add(dS)}function zE(t,e){return t.add(Li(e))}function GE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function n_(t,e){this.g=t,this.h=e}function qE(t,e){if(gl(e))throw Error("division by zero");if(gl(t))return new n_(lf,lf);if(Is(t))return e=qE(Li(t),e),new n_(Li(e.g),Li(e.h));if(Is(e))return e=qE(t,Li(e)),new n_(Li(e.g),e.h);if(30<t.g.length){if(Is(t)||Is(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dS,r=e;0>=r.X(t);)n=vU(n),r=vU(r);var i=uf(n,1),o=uf(r,1);for(r=uf(r,2),n=uf(n,2);!gl(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=uf(r,1),n=uf(n,1)}return e=zE(t,i.R(e)),new n_(i,e)}for(i=lf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ba(n)).R(e);Is(s)||0<s.X(t);)s=(o=ba(n-=r)).R(e);gl(o)&&(o=dS),i=i.add(o),t=zE(t,s)}return new n_(i,t)}function vU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Xn(n,t.h)}function uf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Xn(i,t.h)}(yt=Xn.prototype).ea=function(){if(Is(this))return-Li(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cS+r)*e,e*=cS}return t},yt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(gl(this))return"0";if(Is(this))return"-"+Li(this).toString(t);for(var e=ba(Math.pow(t,6)),n=this,r="";;){var i=qE(n,e).g,o=((0<(n=zE(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(gl(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},yt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},yt.X=function(t){return Is(t=zE(this,t))?-1:gl(t)?0:1},yt.abs=function(){return Is(this)?Li(this):this},yt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Xn(n,-2147483648&n[n.length-1]?-1:0)},yt.R=function(t){if(gl(this)||gl(t))return lf;if(Is(this))return Is(t)?Li(this).R(Li(t)):Li(Li(this).R(t));if(Is(t))return Li(this.R(Li(t)));if(0>this.X(_U)&&0>t.X(_U))return ba(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,GE(n,2*r+2*i),n[2*r+2*i+1]+=o*l,GE(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,GE(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,GE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Xn(n,0)},yt.gb=function(t){return qE(this,t).h},yt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Xn(n,this.h&t.h)},yt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Xn(n,this.h|t.h)},yt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Xn(n,this.h^t.h)},HE.prototype.createWebChannel=HE.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,PE.NO_ERROR=0,PE.TIMEOUT=8,PE.HTTP_ERROR=6,DB.COMPLETE="complete",RB.EventType=zm,zm.OPEN="a",zm.CLOSE="b",zm.ERROR="c",zm.MESSAGE="d",bi.prototype.listen=bi.prototype.O,Fr.prototype.listenOnce=Fr.prototype.P,Fr.prototype.getLastError=Fr.prototype.Sa,Fr.prototype.getLastErrorCode=Fr.prototype.Ia,Fr.prototype.getStatus=Fr.prototype.da,Fr.prototype.getResponseJson=Fr.prototype.Wa,Fr.prototype.getResponseText=Fr.prototype.ja,Fr.prototype.send=Fr.prototype.ha,Fr.prototype.setWithCredentials=Fr.prototype.Oa,Us.prototype.digest=Us.prototype.l,Us.prototype.reset=Us.prototype.reset,Us.prototype.update=Us.prototype.j,Xn.prototype.add=Xn.prototype.add,Xn.prototype.multiply=Xn.prototype.R,Xn.prototype.modulo=Xn.prototype.gb,Xn.prototype.compare=Xn.prototype.X,Xn.prototype.toNumber=Xn.prototype.ea,Xn.prototype.toString=Xn.prototype.toString,Xn.prototype.getBits=Xn.prototype.D,Xn.fromNumber=ba,Xn.fromString=function mU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Li(mU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ba(Math.pow(e,8)),r=lf,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ba(Math.pow(e,o)),r=r.R(o).add(ba(s))):r=(r=r.R(n)).add(ba(s))}return r};var $se=Bs.createWebChannelTransport=function(){return new HE},Bse=Bs.getStatEventTarget=function(){return ME()},hS=Bs.ErrorCode=PE,Use=Bs.EventType=DB,jse=Bs.Event=Rc,yU=Bs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WE=(Bs.FetchXmlHttpFactory=Xm,Bs.WebChannel=RB),Hse=Bs.XhrIo=Fr,zse=Bs.Md5=Us,cf=Bs.Integer=Xn;const IU="@firebase/firestore";class Ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");let df="10.10.0";const hu=new Ea.Vy("@firebase/firestore");function hf(){return hu.logLevel}function je(t,...e){if(hu.logLevel<=Ea.$b.DEBUG){const n=e.map(fS);hu.debug(`Firestore (${df}): ${t}`,...n)}}function Kr(t,...e){if(hu.logLevel<=Ea.$b.ERROR){const n=e.map(fS);hu.error(`Firestore (${df}): ${t}`,...n)}}function Po(t,...e){if(hu.logLevel<=Ea.$b.WARN){const n=e.map(fS);hu.warn(`Firestore (${df}): ${t}`,...n)}}function fS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Dt(t="Unexpected state"){const e=`FIRESTORE (${df}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function xt(t,e){t||Dt()}function ht(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends zn.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class EU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ai.UNAUTHENTICATED))}shutdown(){}}class Kse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qse{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,y.A)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ci)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new EU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Ai(e)}}class Yse{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xse{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yse(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zse{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,je("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt("string"==typeof n.token),this.R=n.token,new wU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CU{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Jse(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function tn(t,e){return t<e?-1:t>e?1:0}function ff(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function bU(t){return t+"\0"}class Dr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Dr(0,0))}static max(){return new Ft(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class r_{constructor(e,n,r){void 0===n?n=0:n>e.length&&Dt(),void 0===r?r=e.length-n:r>e.length-n&&Dt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===r_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof r_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tn extends r_{construct(e,n,r){return new Tn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const eae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends r_{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return eae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Ve(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Ve(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Ve(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ve(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Tn.fromString(e))}static fromName(e){return new pt(Tn.fromString(e).popFirst(5))}static empty(){return new pt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Tn(e.slice()))}}class pf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function pS(t){return t.fields.find(e=>2===e.kind)}function xc(t){return t.fields.filter(e=>2!==e.kind)}pf.UNKNOWN_ID=-1;class Oc{constructor(e,n){this.fieldPath=e,this.kind=n}}class gf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new gf(0,Jo.min())}}function AU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ft.fromTimestamp(1e9===r?new Dr(n+1,0):new Dr(n,r));return new Jo(i,pt.empty(),e)}function TU(t){return new Jo(t.readTime,t.key,-1)}class Jo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jo(Ft.min(),pt.empty(),-1)}static max(){return new Jo(Ft.max(),pt.empty(),-1)}}function gS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=pt.comparator(t.documentKey,e.documentKey),0!==n?n:tn(t.largestBatchId,e.largestBatchId))}const DU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fu(t){return mS.apply(this,arguments)}function mS(){return mS=(0,y.A)(function*(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==DU)throw t;je("LocalStore","Unexpectedly lost primary lease")}),mS.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new oe((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class KE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new i_(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=_S(r.target.error);this.V.reject(new i_(e,i))}}static open(e,n,r,i){try{return new KE(n,e.transaction(i,r))}catch(o){throw new i_(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new iae(n)}}class Es{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===Es.S((0,zn.ZQ)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,zn.zW)())return!1;if(Es.C())return!0;const e=(0,zn.ZQ)(),n=Es.S(e),r=0<n&&n<10,i=Es.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,y.A)(function*(){return n.db||(je("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new i_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new Ve(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Ve(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new i_(e,a))},o.onupgradeneeded=s=>{je("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{je("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=r=>n.L(r)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,y.A)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=KE.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),oe.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if(je("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rae{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return kc(this.k.delete())}}class i_ extends Ve{constructor(e,n){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function pu(t){return"IndexedDbTransactionError"===t.name}class iae{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(je("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kc(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))}get(e){return kc(this.store.get(e)).next(n=>(void 0===n&&(n=null),je("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),kc(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new oe((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new oe((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new oe((r,i)=>{n.onerror=o=>{const s=_S(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new oe((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new rae(a),u=n(a.primaryKey,a.value,l);if(u instanceof oe){const h=u.catch(g=>(l.done(),oe.reject(g)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>oe.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function kc(t){return new oe((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=_S(r.target.error);n(i)}})}let RU=!1;function _S(t){const e=Es.S((0,zn.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RU||(RU=!0,setTimeout(()=>{throw r},0)),r}}return t}class oae{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;je("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.A)(function*(){n.task=null;try{je("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(r){pu(r)?je("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield fu(r)}yield n.ee(6e4)}))}}class sae{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,y.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return oe.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return je("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(je("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=TU(o);gS(s,r)>0&&(r=s)}),new Jo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let es=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function o_(t){return null==t}function s_(t){return 0===t&&1/t==-1/0}function MU(t){return"number"==typeof t&&Number.isInteger(t)&&!s_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Xi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PU(e)),e=aae(t.get(n),e);return PU(e)}function aae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function PU(t){return t+"\x01\x01"}function Aa(t){const e=t.length;if(xt(e>=2),2===e)return xt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Tn.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Dt(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Dt()}o=s+2}return new Tn(r)}const NU=["userId","batchId"];function QE(t,e){return[t,Xi(e)]}function xU(t,e,n){return[t,Xi(e),n]}const lae={},uae=["prefixPath","collectionGroup","readTime","documentId"],cae=["prefixPath","collectionGroup","documentId"],dae=["collectionGroup","readTime","prefixPath","documentId"],hae=["canonicalId","targetId"],fae=["targetId","path"],pae=["path","targetId"],gae=["collectionId","parent"],mae=["indexId","uid"],_ae=["uid","sequenceNumber"],vae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yae=["indexId","uid","orderedDocumentKey"],Iae=["userId","collectionPath","documentId"],Eae=["userId","collectionPath","largestBatchId"],wae=["userId","collectionGroup","largestBatchId"],OU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cae=[...OU,"documentOverlays"],kU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FU=kU,bae=[...FU,"indexConfiguration","indexState","indexEntries"];class vS extends SU{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ti(t,e){const n=ht(t);return Es.M(n.ae,e)}function LU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pr{constructor(e,n){this.comparator=e,this.root=n||Vi.EMPTY}insert(e,n){return new pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new YE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new YE(this.root,e,this.comparator,!1)}getReverseIterator(){return new YE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new YE(this.root,e,this.comparator,!0)}}class YE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:Vi.RED,this.left=null!=i?i:Vi.EMPTY,this.right=null!=o?o:Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Vi(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Vi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $U(this.data.getIterator())}getIteratorFrom(e){return new $U(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class $U{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mf(t){return t.hasNext()?t.getNext():void 0}class No{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new No([])}unionWith(e){let n=new nr(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new No(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ff(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class BU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BU("Invalid base64 string: "+o):o}}(e);return new di(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const Tae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(t){if(xt(!!t),"string"==typeof t){let e=0;const n=Tae.exec(t);if(xt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(t.seconds),nanos:Lr(t.nanos)}}function Lr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ml(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}function XE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ZE(t){const e=t.mapValue.fields.__previous_value__;return XE(e)?ZE(e):e}function a_(t){const e=mu(t.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class Dae{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}const vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},JE={nullValue:"NULL_VALUE"};function yu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?XE(t)?4:zU(t)?9007199254740991:10:Dt()}function Ta(t,e){if(t===e)return!0;const n=yu(t);if(n!==yu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return a_(t).isEqual(a_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=mu(i.timestampValue),a=mu(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,ml(t.bytesValue).isEqual(ml(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Lr(i.geoPointValue.latitude)===Lr(o.geoPointValue.latitude)&&Lr(i.geoPointValue.longitude)===Lr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lr(i.integerValue)===Lr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Lr(i.doubleValue),a=Lr(o.doubleValue);return s===a?s_(s)===s_(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ff(t.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(LU(s)!==LU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Ta(s[l],a[l])))return!1;return!0}(t,e);default:return Dt()}var o}function l_(t,e){return void 0!==(t.values||[]).find(n=>Ta(n,e))}function Iu(t,e){if(t===e)return 0;const n=yu(t),r=yu(e);if(n!==r)return tn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tn(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Lr(o.integerValue||o.doubleValue),l=Lr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return UU(t.timestampValue,e.timestampValue);case 4:return UU(a_(t),a_(e));case 5:return tn(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ml(o),l=ml(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=tn(a[u],l[u]);if(0!==h)return h}return tn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=tn(Lr(o.latitude),Lr(s.latitude));return 0!==a?a:tn(Lr(o.longitude),Lr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Iu(a[u],l[u]);if(h)return h}return tn(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===vu.mapValue&&s===vu.mapValue)return 0;if(o===vu.mapValue)return 1;if(s===vu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const m=tn(l[g],h[g]);if(0!==m)return m;const v=Iu(a[l[g]],u[h[g]]);if(0!==v)return v}return tn(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Dt()}}function UU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return tn(t,e);const n=mu(t),r=mu(e),i=tn(n.seconds,r.seconds);return 0!==i?i:tn(n.nanos,r.nanos)}function _f(t){return yS(t)}function yS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ml(t.bytesValue).toBase64():"referenceValue"in t?pt.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${yS(n.fields[s])}`;return i+"}"}(t.mapValue):Dt()}function Fc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IS(t){return!!t&&"integerValue"in t}function u_(t){return!!t&&"arrayValue"in t}function jU(t){return!!t&&"nullValue"in t}function HU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function t0(t){return!!t&&"mapValue"in t}function c_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=c_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=c_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sae(t){return"nullValue"in t?JE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fc(_u.empty(),pt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Dt()}function Rae(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fc(_u.empty(),pt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vu:Dt()}function GU(t,e){const n=Iu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qU(t,e){const n=Iu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!t0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=c_(n)}setAll(e){let n=Er.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=c_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());t0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];t0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new $i(c_(this.value))}}function WU(t){const e=[];return gu(t.fields,(n,r)=>{const i=new Er([n]);if(t0(r)){const o=WU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new No(e)}class wr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wr(e,0,Ft.min(),Ft.min(),Ft.min(),$i.empty(),0)}static newFoundDocument(e,n,r,i){return new wr(e,1,n,Ft.min(),r,i,0)}static newNoDocument(e,n){return new wr(e,2,n,Ft.min(),Ft.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new wr(e,3,n,Ft.min(),Ft.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function KU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?pt.comparator(pt.fromName(s.referenceValue),n.key):Iu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function QU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ta(t.position[n],e.position[n]))return!1;return!0}class d_{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class YU{}class Dn extends YU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Pae(e,n,r):"array-contains"===n?new Oae(e,r):"in"===n?new nj(e,r):"not-in"===n?new kae(e,r):"array-contains-any"===n?new Fae(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Nae(e,r):new xae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Iu(n,this.value)):null!==n&&yu(this.value)===yu(n)&&this.matchesComparison(Iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends YU{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Zn(e,n)}matches(e){return vf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function vf(t){return"and"===t.op}function ES(t){return"or"===t.op}function wS(t){return XU(t)&&vf(t)}function XU(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function CS(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+_f(t.value);if(wS(t))return t.filters.map(e=>CS(e)).join(",");{const e=t.filters.map(n=>CS(n)).join(",");return`${t.op}(${e})`}}function ZU(t,e){return t instanceof Dn?(r=t,(i=e)instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&Ta(r.value,i.value)):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&ZU(s,i.filters[a]),!0)}(t,e):void Dt();var r,i}function JU(t,e){const n=t.filters.concat(e);return Zn.create(n,t.op)}function ej(t){return t instanceof Dn?`${(n=t).field.canonicalString()} ${n.op} ${_f(n.value)}`:t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(ej).join(" ,")+"}"}(t):"Filter";var n}class Pae extends Dn{constructor(e,n,r){super(e,n,r),this.key=pt.fromName(r.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nae extends Dn{constructor(e,n){super(e,"in",n),this.keys=tj(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xae extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=tj(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tj(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class Oae extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u_(n)&&l_(n.arrayValue,this.value)}}class nj extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&l_(this.value.arrayValue,n)}}class kae extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(l_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!l_(this.value.arrayValue,n)}}class Fae extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>l_(this.value.arrayValue,r))}}class Lae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function bS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Lae(t,e,n,r,i,o,s)}function Lc(t){const e=ht(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>CS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),o_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_f(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_f(r)).join(",")),e.ce=n}return e.ce}function h_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QU(t.startAt,e.startAt)&&QU(t.endAt,e.endAt)}function n0(t){return pt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function r0(t,e){return t.filters.filter(n=>n instanceof Dn&&n.field.isEqual(e))}function rj(t,e,n){let r=JE,i=!0;for(const o of r0(t,e)){let s=JE,a=!0;switch(o.op){case"<":case"<=":s=Sae(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=JE}GU({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];GU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function ij(t,e,n){let r=vu,i=!0;for(const o of r0(t,e)){let s=vu,a=!0;switch(o.op){case">=":case">":s=Rae(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=vu}qU({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];qU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class _l{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function oj(t,e,n,r,i,o,s,a){return new _l(t,e,n,r,i,o,s,a)}function yf(t){return new _l(t)}function sj(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function AS(t){return null!==t.collectionGroup}function If(t){const e=ht(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nr(Er.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new d_(o,r))}),n.has(Er.keyField().canonicalString())||e.le.push(new d_(Er.keyField(),r))}return e.le}function _o(t){const e=ht(t);return e.he||(e.he=function aj(t,e){if("F"===t.limitType)return bS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new d_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Eu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eu(t.startAt.position,t.startAt.inclusive):null;return bS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,If(t))),e.he}function TS(t,e){const n=t.filters.concat([e]);return new _l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o0(t,e,n){return new _l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function f_(t,e){return h_(_o(t),_o(e))&&t.limitType===e.limitType}function lj(t){return`${Lc(_o(t))}|lt:${t.limitType}`}function Ef(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ej(i)).join(", ")}]`),o_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_f(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_f(i)).join(",")),`Target(${r})`}(_o(t))}; limitType=${t.limitType})`}function p_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of If(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=KU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,If(r),i)||r.endAt&&!function(s,a,l){const u=KU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,If(r),i)));var r,i}function uj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cj(t){return(e,n)=>{let r=!1;for(const i of If(t)){const o=Vae(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Vae(t,e,n){const r=t.field.isKeyField()?pt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?Iu(l,u):Dt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return VU(this.inner)}size(){return this.innerSize}}const $ae=new pr(pt.comparator);function xo(){return $ae}const dj=new pr(pt.comparator);function g_(...t){let e=dj;for(const n of t)e=e.insert(n.key,n);return e}function hj(t){let e=dj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Da(){return m_()}function fj(){return m_()}function m_(){return new vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bae=new pr(pt.comparator),Uae=new nr(pt.comparator);function gn(...t){let e=Uae;for(const n of t)e=e.add(n);return e}const jae=new nr(tn);function DS(){return jae}function pj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s_(e)?"-0":e}}function gj(t){return{integerValue:""+t}}function mj(t,e){return MU(e)?gj(e):pj(t,e)}class s0{constructor(){this._=void 0}}function Hae(t,e,n){return t instanceof wf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&XE(o)&&(o=ZE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vc?vj(t,e):t instanceof $c?yj(t,e):function(i,o){const s=_j(i,o),a=Ij(s)+Ij(i.Ie);return IS(s)&&IS(i.Ie)?gj(a):pj(i.serializer,a)}(t,e)}function zae(t,e,n){return t instanceof Vc?vj(t,e):t instanceof $c?yj(t,e):n}function _j(t,e){return t instanceof Cf?IS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class wf extends s0{}class Vc extends s0{constructor(e){super(),this.elements=e}}function vj(t,e){const n=Ej(e);for(const r of t.elements)n.some(i=>Ta(i,r))||n.push(r);return{arrayValue:{values:n}}}class $c extends s0{constructor(e){super(),this.elements=e}}function yj(t,e){let n=Ej(e);for(const r of t.elements)n=n.filter(i=>!Ta(i,r));return{arrayValue:{values:n}}}class Cf extends s0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ij(t){return Lr(t.integerValue||t.doubleValue)}function Ej(t){return u_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class __{constructor(e,n){this.field=e,this.transform=n}}class qae{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a0(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class l0{}function wj(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Af(t.key,Sr.none()):new bf(t.key,t.data,Sr.none());{const n=t.data,r=$i.empty();let i=new nr(Er.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new yl(t.key,r,new No(i.toArray()),Sr.none())}}function Wae(t,e,n){t instanceof bf?function(i,o,s){const a=i.value.clone(),l=Aj(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yl?function(i,o,s){if(!a0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Aj(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(bj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function v_(t,e,n,r){return t instanceof bf?function(o,s,a,l){if(!a0(o.precondition,s))return a;const u=o.value.clone(),h=Tj(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yl?function(o,s,a,l){if(!a0(o.precondition,s))return a;const u=Tj(o.fieldTransforms,l,s),h=s.data;return h.setAll(bj(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,a0(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Kae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=_j(r.transform,i||null);null!=o&&(null===n&&(n=$i.empty()),n.set(r.field,o))}return n||null}function Cj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&ff(r,i,(o,s)=>function Gae(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Vc&&i instanceof Vc||r instanceof $c&&i instanceof $c?ff(r.elements,i.elements,Ta):r instanceof Cf&&i instanceof Cf?Ta(r.Ie,i.Ie):r instanceof wf&&i instanceof wf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class bf extends l0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends l0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Aj(t,e,n){const r=new Map;xt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,zae(s,a,n[i]))}return r}function Tj(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Hae(o,s,e))}return r}class Af extends l0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SS extends l0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Wae(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=v_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=v_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=wj(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gn())}isEqual(e){return this.batchId===e.batchId&&ff(this.mutations,e.mutations,(n,r)=>Cj(n,r))&&ff(this.baseMutations,e.baseMutations,(n,r)=>Cj(n,r))}}class MS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length);let i=function(){return Bae}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new MS(e,n,r,i)}}class PS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yae{constructor(e,n){this.count=e,this.unchangedNames=n}}var oi,Pn;function Dj(t){switch(t){default:return Dt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Sj(t){if(void 0===t)return Kr("GRPC error has no .code"),fe.UNKNOWN;switch(t){case oi.OK:return fe.OK;case oi.CANCELLED:return fe.CANCELLED;case oi.UNKNOWN:return fe.UNKNOWN;case oi.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case oi.INTERNAL:return fe.INTERNAL;case oi.UNAVAILABLE:return fe.UNAVAILABLE;case oi.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case oi.NOT_FOUND:return fe.NOT_FOUND;case oi.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case oi.ABORTED:return fe.ABORTED;case oi.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case oi.DATA_LOSS:return fe.DATA_LOSS;default:return Dt()}}(Pn=oi||(oi={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";function Rj(){return new TextEncoder}const Xae=new cf([4294967295,4294967295],0);function Mj(t){const e=Rj().encode(t),n=new zse;return n.update(e),new Uint8Array(n.digest())}function Pj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cf([n,r],0),new cf([i,o],0)]}class NS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new y_(`Invalid padding: ${n}`);if(r<0)throw new y_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new y_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new y_(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=cf.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(cf.fromNumber(r)));return 1===i.compare(Xae)&&(i=new cf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Mj(e),[r,i]=Pj(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new NS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=Mj(e),[r,i]=Pj(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class y_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class I_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,E_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new I_(Ft.min(),i,new pr(tn),xo(),gn())}}class E_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new E_(r,n,gn(),gn(),gn())}}class c0{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Nj{constructor(e,n){this.targetId=e,this.fe=n}}class xj{constructor(e,n,r=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Oj{constructor(){this.ge=0,this.pe=Fj(),this.ye=di.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=gn(),n=gn(),r=gn();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new E_(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Fj()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Zae{constructor(e){this.Be=e,this.ke=new Map,this.qe=xo(),this.Qe=kj(),this.Ke=new pr(tn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(n0(o))if(0===r){const s=new pt(o.path);this.We(n,s,wr.newNoDocument(s,Ft.min()))}else xt(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ml(r).toUint8Array()}catch(l){if(l instanceof BU)return Po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new NS(s,i,o)}catch(l){return Po(l instanceof y_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&n0(a.target)){const l=new pt(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,wr.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=gn();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new I_(e,n,this.Ke,this.qe,r);return this.qe=xo(),this.Qe=kj(),this.Ke=new pr(tn),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Oj,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new nr(tn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||je("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Oj),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function kj(){return new pr(pt.comparator)}function Fj(){return new pr(pt.comparator)}const Jae={asc:"ASCENDING",desc:"DESCENDING"},ele={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tle={and:"AND",or:"OR"};class nle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xS(t,e){return t.useProto3Json||o_(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rle(t,e){return Tf(t,e.toTimestamp())}function Qr(t){return xt(!!t),Ft.fromTimestamp(function(n){const r=mu(n);return new Dr(r.seconds,r.nanos)}(t))}function OS(t,e){return kS(t,e).canonicalString()}function kS(t,e){const n=(i=t,new Tn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function Vj(t){const e=Tn.fromString(t);return xt(Kj(e)),e}function w_(t,e){return OS(t.databaseId,e.path)}function Sa(t,e){const n=Vj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pt(Uj(n))}function $j(t,e){return OS(t.databaseId,e)}function Bj(t){const e=Vj(t);return 4===e.length?Tn.emptyPath():Uj(e)}function FS(t){return new Tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uj(t){return xt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function jj(t,e,n){return{name:w_(t,e),fields:n.value.mapValue.fields}}function Hj(t,e,n){const r=Sa(t,e.name),i=Qr(e.updateTime),o=e.createTime?Qr(e.createTime):Ft.min(),s=new $i({mapValue:{fields:e.fields}}),a=wr.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function C_(t,e){let n;if(e instanceof bf)n={update:jj(t,e.key,e.value)};else if(e instanceof Af)n={delete:w_(t,e.key)};else if(e instanceof yl)n={update:jj(t,e.key,e.data),updateMask:dle(e.fieldMask)};else{if(!(e instanceof SS))return Dt();n={verify:w_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $c)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Dt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:rle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Dt()),n;var o}function LS(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Sr.updateTime(Qr(o.updateTime)):void 0!==o.exists?Sr.exists(o.exists):Sr.none():Sr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(xt("REQUEST_TIME"===a.setToServerValue),l=new wf):"appendMissingElements"in a?l=new Vc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new $c(a.removeAllFromArray.values||[]):"increment"in a?l=new Cf(s,a.increment):Dt();const u=Er.fromServerFormat(a.fieldPath);return new __(u,l)}(t,i)):[];var o;if(e.update){const i=Sa(t,e.update.name),o=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new No((e.updateMask.fieldPaths||[]).map(h=>Er.fromServerFormat(h)));return new yl(i,o,s,n,r)}return new bf(i,o,n,r)}if(e.delete){const i=Sa(t,e.delete);return new Af(i,n)}if(e.verify){const i=Sa(t,e.verify);return new SS(i,n)}return Dt()}function zj(t,e){return{documents:[$j(t,e.path)]}}function VS(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$j(t,i);const o=function(u){if(0!==u.length)return Wj(Zn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(h=>{return{field:wu((m=h).field),direction:lle(m.dir)};var m})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=xS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i};var u}function Gj(t){let e=Bj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=qj(g);return m instanceof Zn&&wS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new d_(Df((C=m).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,o_(m)?null:m}(n.limit));let l=null;var g;n.startAt&&(l=new Eu((g=n.startAt).values||[],!!g.before));let u=null;return n.endAt&&(u=function(g){return new Eu(g.values||[],!g.before)}(n.endAt)),oj(e,i,s,o,a,"F",l,u)}function qj(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Df(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Df(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Df(n.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Df(n.unaryFilter.field);return Dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(t):void 0!==t.fieldFilter?Dn.create(Df((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Zn.create(n.compositeFilter.filters.map(r=>qj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt()}}(n.compositeFilter.op))}(t):Dt();var n}function lle(t){return Jae[t]}function ule(t){return ele[t]}function cle(t){return tle[t]}function wu(t){return{fieldPath:t.canonicalString()}}function Df(t){return Er.fromServerFormat(t.fieldPath)}function Wj(t){return t instanceof Dn?function(n){if("=="===n.op){if(HU(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(jU(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(HU(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(jU(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:ule(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>Wj(i));return 1===r.length?r[0]:{compositeFilter:{op:cle(n.op),filters:r}}}(t):Dt()}function dle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Il{constructor(e,n,r,i,o=Ft.min(),s=Ft.min(),a=di.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qj{constructor(e){this.ct=e}}function Yj(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:d0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:w_(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Tf(o,s.version.toTimestamp()),createTime:Tf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return Dt();r.unknownDocument={path:n.path.toArray(),version:Bc(e.version)}}var o,s;return r}function d0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uc(t){const e=new Dr(t.seconds,t.nanoseconds);return Ft.fromTimestamp(e)}function jc(t,e){const n=(e.baseMutations||[]).map(o=>LS(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>LS(t.ct,o)),i=Dr.fromMillis(e.localWriteTimeMs);return new RS(e.batchId,i,n,r)}function b_(t){const e=Uc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Uc(t.lastLimboFreeSnapshotVersion):Ft.min();let r;return r=void 0!==t.query.documents?(xt(1===(o=t.query).documents.length),_o(yf(Bj(o.documents[0])))):function(o){return _o(Gj(o))}(t.query),new Il(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,di.fromBase64String(t.resumeToken));var o}function Xj(t,e){const n=Bc(e.snapshotVersion),r=Bc(e.lastLimboFreeSnapshotVersion);let i;i=n0(e.target)?zj(t.ct,e.target):VS(t.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $S(t){const e=Gj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?o0(e,e.limit,"L"):e}function BS(t,e){return new PS(e.largestBatchId,LS(t.ct,e.overlayMutation))}function Zj(t,e){const n=e.path.lastSegment();return[t,Xi(e.path.popLast()),n]}function Jj(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Bc(r.readTime),documentKey:Xi(r.documentKey.path),largestBatchId:r.largestBatchId}}class fle{getBundleMetadata(e,n){return e4(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Uc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return e4(e).put({bundleId:(i=n).id,createTime:Bc(Qr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return t4(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:$S(o.bundledQuery),readTime:Uc(o.readTime)};var o})}saveNamedQuery(e,n){return t4(e).put({name:(i=n).name,readTime:Bc(Qr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function e4(t){return Ti(t,"bundles")}function t4(t){return Ti(t,"namedQueries")}class h0{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new h0(e,n.uid||"")}getOverlay(e,n){return A_(e).get(Zj(this.userId,n)).next(r=>r?BS(this.serializer,r):null)}getOverlays(e,n){const r=Da();return oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new PS(n,s);i.push(this.ht(e,a))}),oe.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Xi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(A_(e).H("collectionPathOverlayIndex",a))}),oe.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Da(),o=Xi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return A_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=BS(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Da();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return A_(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const g=BS(this.serializer,u);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):h.done()}).next(()=>o)}ht(e,n){return A_(e).put(function(i,o,s){const[a,l,u]=Zj(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:C_(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function A_(t){return Ti(t,"documentOverlays")}class Hc{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Lr(e.integerValue));else if("doubleValue"in e){const r=Lr(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),s_(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ml(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?zU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Dt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),pt.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function ple(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function n4(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=ple(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Hc.bt=new Hc;class gle{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=n4(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=n4(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class mle{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class _le{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class T_{constructor(){this.Gt=new gle,this.zt=new mle(this.Gt),this.jt=new _le(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class zc{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zc(this.indexId,this.documentKey,this.arrayValue,r)}}function Cu(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=r4(t.arrayValue,e.arrayValue),0!==n?n:(n=r4(t.directionalValue,e.directionalValue),0!==n?n:pt.comparator(t.documentKey,e.documentKey)))}function r4(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class i4{constructor(e){this.Yt=new nr((n,r)=>Er.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(xt(e.collectionGroup===this.collectionId),this.en)return!1;const n=pS(e);if(void 0!==n&&!this.nn(n))return!1;const r=xc(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new nr(Er.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Oc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Oc(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Oc(r.field,"asc"===r.dir?0:1)));return new pf(pf.UNKNOWN_ID,this.collectionId,n,gf.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function o4(t){var e,n;if(xt(t instanceof Dn||t instanceof Zn),t instanceof Dn){if(t instanceof nj){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>Dn.create(t.field,"==",o)))||[];return Zn.create(i,"or")}return t}const r=t.filters.map(i=>o4(i));return Zn.create(r,t.op)}function vle(t){if(0===t.getFilters().length)return[];const e=HS(o4(t));return xt(s4(e)),US(e)||jS(e)?[e]:e.getFilters()}function US(t){return t instanceof Dn}function jS(t){return t instanceof Zn&&wS(t)}function s4(t){return US(t)||jS(t)||function(n){if(n instanceof Zn&&ES(n)){for(const r of n.getFilters())if(!US(r)&&!jS(r))return!1;return!0}return!1}(t)}function HS(t){if(xt(t instanceof Dn||t instanceof Zn),t instanceof Dn)return t;if(1===t.filters.length)return HS(t.filters[0]);const e=t.filters.map(r=>HS(r));let n=Zn.create(e,t.op);return n=f0(n),s4(n)?n:(xt(n instanceof Zn),xt(vf(n)),xt(n.filters.length>1),n.filters.reduce((r,i)=>zS(r,i)))}function zS(t,e){let n;return xt(t instanceof Dn||t instanceof Zn),xt(e instanceof Dn||e instanceof Zn),n=t instanceof Dn?e instanceof Dn?Zn.create([t,e],"and"):a4(t,e):e instanceof Dn?a4(e,t):function(i,o){if(xt(i.filters.length>0&&o.filters.length>0),vf(i)&&vf(o))return JU(i,o.getFilters());const s=ES(i)?i:o,a=ES(i)?o:i,l=s.filters.map(u=>zS(u,a));return Zn.create(l,"or")}(t,e),f0(n)}function a4(t,e){if(vf(e))return JU(e,t.getFilters());{const n=e.filters.map(r=>zS(t,r));return Zn.create(n,"or")}}function f0(t){if(xt(t instanceof Dn||t instanceof Zn),t instanceof Dn)return t;const e=t.getFilters();if(1===e.length)return f0(e[0]);if(XU(t))return t;const n=e.map(i=>f0(i)),r=[];return n.forEach(i=>{i instanceof Dn?r.push(i):i instanceof Zn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Zn.create(r,t.op)}class yle{constructor(){this._n=new GS}addToCollectionParentIndex(e,n){return this._n.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Jo.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class GS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nr(Tn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nr(Tn.comparator)).toArray()}}const p0=new Uint8Array(0);class Ile{constructor(e,n){this.databaseId=n,this.an=new GS,this.un=new vl(r=>Lc(r),(r,i)=>h_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:Xi(i)};return l4(e).put(o)}return oe.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[bU(n),""],!1,!0);return l4(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Aa(s.parent))}return r})}addFieldIndex(e,n){const r=D_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=Rf(e);return o.next(a=>{s.put(Jj(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=D_(e),i=Rf(e),o=Sf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=D_(e),r=Sf(e),i=Rf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return oe.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new i4(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Sf(e);let i=!0;const o=new Map;return oe.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=gn();const a=[];return oe.forEach(o,(l,u)=>{var ge;je("IndexedDbIndexManager",`Using index ${ge=l,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`} to execute ${Lc(n)}`);const h=function(ge,me){const Ge=pS(me);if(void 0===Ge)return null;for(const wt of r0(ge,Ge.fieldPath))switch(wt.op){case"array-contains-any":return wt.value.arrayValue.values||[];case"array-contains":return[wt.value]}return null}(u,l),g=function(ge,me){const Ge=new Map;for(const wt of xc(me))for(const Xt of r0(ge,wt.fieldPath))switch(Xt.op){case"==":case"in":Ge.set(wt.fieldPath.canonicalString(),Xt.value);break;case"not-in":case"!=":return Ge.set(wt.fieldPath.canonicalString(),Xt.value),Array.from(Ge.values())}return null}(u,l),m=function(ge,me){const Ge=[];let wt=!0;for(const Xt of xc(me)){const In=0===Xt.kind?rj(ge,Xt.fieldPath,ge.startAt):ij(ge,Xt.fieldPath,ge.startAt);Ge.push(In.value),wt&&(wt=In.inclusive)}return new Eu(Ge,wt)}(u,l),v=function(ge,me){const Ge=[];let wt=!0;for(const Xt of xc(me)){const In=0===Xt.kind?ij(ge,Xt.fieldPath,ge.endAt):rj(ge,Xt.fieldPath,ge.endAt);Ge.push(In.value),wt&&(wt=In.inclusive)}return new Eu(Ge,wt)}(u,l),C=this.hn(l,u,m),A=this.hn(l,u,v),R=this.Pn(l,u,g),V=this.In(l.indexId,h,C,m.inclusive,A,v.inclusive,R);return oe.forEach(V,B=>r.j(B,n.limit).next(ge=>{ge.forEach(me=>{const Ge=pt.fromSegments(me.documentKey);s.has(Ge)||(s=s.add(Ge),a.push(Ge))})}))}).next(()=>a)}return oe.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:vle(Zn.create(e.filters,"and")).map(r=>bS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),h=[];for(let g=0;g<l;++g){const m=n?this.Tn(n[g/u]):p0,v=this.En(e,m,r[g%u],i),C=this.dn(e,m,o[g%u],s),A=a.map(R=>this.En(e,m,R,!0));h.push(...this.createRange(v,C,A))}return h}En(e,n,r,i){const o=new zc(e,pt.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new zc(e,pt.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new i4(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return oe.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new nr(Er.comparator),h=!1;for(const g of l.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:u=u.add(m.field));for(const g of l.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new T_;for(const i of xc(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);Hc.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new T_;return Hc.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new T_;return Hc.bt.Pt(Fc(this.databaseId,n),r.Ht(function(o){const s=xc(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new T_);let o=0;for(const s of xc(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&u_(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);Hc.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new T_;l.seed(a.Wt()),Hc.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Dn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=D_(e),i=Rf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return oe.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(h,g){const m=g?new gf(g.sequenceNumber,new Jo(Uc(g.readTime),new pt(Aa(g.documentKey)),g.largestBatchId)):gf.empty(),v=h.fields.map(([C,A])=>new Oc(Er.fromServerFormat(C),A));return new pf(h.indexId,h.collectionGroup,v,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:tn(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=D_(e),o=Rf(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>oe.forEach(a,l=>o.put(Jj(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return oe.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?oe.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),oe.forEach(a,l=>this.pn(e,i,l).next(u=>{const h=this.yn(o,l);return u.isEqual(h)?oe.resolve():this.wn(e,o,l,u,h)}))))})}Sn(e,n,r,i){return Sf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Sf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Sf(e);let o=new nr(Cu);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new zc(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new nr(Cu);const i=this.An(n,e);if(null==i)return r;const o=pS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(u_(s))for(const a of s.arrayValue.values||[])r=r.add(new zc(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new zc(n.indexId,e.key,p0,i));return r}wn(e,n,r,i,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,h,g,m){const v=l.getIterator(),C=u.getIterator();let A=mf(v),R=mf(C);for(;A||R;){let V=!1,B=!1;if(A&&R){const ge=h(A,R);ge<0?B=!0:ge>0&&(V=!0)}else null!=A?B=!0:V=!0;V?(g(R),R=mf(C)):B?(m(A),A=mf(v)):(A=mf(v),R=mf(C))}}(i,o,Cu,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),oe.waitFor(s)}gn(e){let n=1;return Rf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Cu(s,a)).filter((s,a,l)=>!a||0!==Cu(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=Cu(s,e),l=Cu(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,p0,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,p0,[]]))}return o}Dn(e,n){return Cu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(u4)}getMinOffset(e,n){return oe.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Dt())).next(u4)}}function l4(t){return Ti(t,"collectionParents")}function Sf(t){return Ti(t,"indexEntries")}function D_(t){return Ti(t,"indexConfiguration")}function Rf(t){return Ti(t,"indexState")}function u4(t){xt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;gS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jo(e.readTime,e.documentKey,n)}const c4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function d4(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},(h,g,m)=>(a++,m.delete()));o.push(l.next(()=>{xt(1===a)}));const u=[];for(const h of n.mutations){const g=xU(e,h.key.path,n.batchId);o.push(i.delete(g)),u.push(h.key)}return oe.waitFor(o).next(()=>u)}function g0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dt();e=t.noDocument}return JSON.stringify(e).length}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(41943040,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class m0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){xt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new m0(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bu(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Mf(e),s=bu(e);return s.add({}).next(a=>{xt("number"==typeof a);const l=new RS(a,n,r,i),u=function(v,C,A){const R=A.baseMutations.map(B=>C_(v.ct,B)),V=A.mutations.map(B=>C_(v.ct,B));return{userId:C,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:R,mutations:V}}(this.serializer,this.userId,l),h=[];let g=new nr((m,v)=>tn(m.canonicalString(),v.canonicalString()));for(const m of i){const v=xU(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(s.put(u)),h.push(o.put(v,lae))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),oe.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return bu(e).get(n).next(r=>r?(xt(r.userId===this.userId),jc(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?oe.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return bu(e).Y({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(xt(a.batchId>=r),o=jc(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return bu(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bu(e).W("userMutationsIndex",n).next(r=>r.map(i=>jc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=QE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Mf(e).Y({range:i},(s,a,l)=>{const[u,h,g]=s,m=Aa(h);if(u===this.userId&&n.path.isEqual(m))return bu(e).get(g).next(v=>{if(!v)throw Dt();xt(v.userId===this.userId),o.push(jc(this.serializer,v))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(tn);const i=[];return n.forEach(o=>{const s=QE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Mf(e).Y({range:a},(u,h,g)=>{const[m,v,C]=u,A=Aa(v);m===this.userId&&o.path.isEqual(A)?r=r.add(C):g.done()});i.push(l)}),oe.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=QE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new nr(tn);return Mf(e).Y({range:s},(l,u,h)=>{const[g,m,v]=l,C=Aa(m);g===this.userId&&r.isPrefixOf(C)?C.length===i&&(a=a.add(v)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(bu(e).get(o).next(s=>{if(null===s)throw Dt();xt(s.userId===this.userId),r.push(jc(this.serializer,s))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return d4(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return oe.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Mf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Aa(o[1]);i.push(l)}else a.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,n){return h4(e,this.userId,n)}xn(e){return f4(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function h4(t,e,n){const r=QE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Mf(t).Y({range:o,J:!0},(a,l,u)=>{const[h,g,m]=a;h===e&&g===i&&(s=!0),u.done()}).next(()=>s)}function bu(t){return Ti(t,"mutations")}function Mf(t){return Ti(t,"documentMutations")}function f4(t){return Ti(t,"mutationQueues")}class Gc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Gc(0)}static Ln(){return new Gc(-1)}}class Ele{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Gc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Ft.fromTimestamp(new Dr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Pf(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Pf(e).Y((s,a)=>{const l=b_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>oe.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Pf(e).Y((r,i)=>{const o=b_(i);n(o)})}Bn(e){return p4(e).get("targetGlobalKey").next(n=>(xt(null!==n),n))}kn(e,n){return p4(e).put("targetGlobalKey",n)}qn(e,n){return Pf(e).put(Xj(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Lc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Pf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=b_(a);h_(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Au(e);return n.forEach(s=>{const a=Xi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),oe.waitFor(i)}removeMatchingKeys(e,n,r){const i=Au(e);return oe.forEach(n,o=>{const s=Xi(o.path);return oe.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Au(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Au(e);let o=gn();return i.Y({range:r,J:!0},(s,a,l)=>{const u=Aa(s[1]),h=new pt(u);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Xi(n.path),i=IDBKeyRange.bound([r],[bU(r)],!1,!0);let o=0;return Au(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,n){return Pf(e).get(n).next(r=>r?b_(r):null)}}function Pf(t){return Ti(t,"targets")}function p4(t){return Ti(t,"targetGlobal")}function Au(t){return Ti(t,"targetDocuments")}function g4([t,e],[n,r]){const i=tn(t,n);return 0===i?tn(e,r):i}class wle{constructor(e){this.Kn=e,this.buffer=new nr(g4),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){pu(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fu(r)}yield n.zn(3e5)}))}}class Cle{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return oe.resolve(es._e);const r=new wle(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(c4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c4):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),hf()<=Ea.$b.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${g} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}class ble{constructor(e,n){this.db=e,this.garbageCollector=function _4(t,e){return new Cle(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return _0(e,r)}removeReference(e,n,r){return _0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return _0(e,n)}er(e,n){return function(i,o){let s=!1;return f4(i).Z(a=>h4(i,a,o).next(l=>(l&&(s=!0),oe.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ft.min()),Au(e).delete([0,Xi(s.path)])))});i.push(l)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return _0(e,n)}Xn(e,n){const r=Au(e);let i,o=es._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==es._e&&n(new pt(Aa(i)),o),o=u,i=l):o=es._e}).next(()=>{o!==es._e&&n(new pt(Aa(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _0(t,e){return Au(t).put((i=t.currentSequenceNumber,{targetId:0,path:Xi(e.path),sequenceNumber:i}));var i}class v4{constructor(){this.changes=new vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ale{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return qc(e).put(r)}removeEntry(e,n,r){return qc(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],d0(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=wr.newInvalidDocument(n);return qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(S_(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:wr.newInvalidDocument(n)};return qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(S_(n))},(i,o)=>{r={document:this.nr(n,o),size:g0(o)}}).next(()=>r)}getEntries(e,n){let r=xo();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=xo(),i=new pr(pt.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,g0(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return oe.resolve();let i=new nr(w4);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(S_(i.first()),S_(i.last())),s=i.getIterator();let a=s.getNext();return qc(e).Y({index:"documentKeyIndex",range:o},(l,u,h)=>{const g=pt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&w4(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?h.U(S_(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),d0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qc(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let h=xo();for(const g of u){const m=this.nr(pt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(p_(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=xo();const s=E4(n,r),a=E4(n,Jo.max());return qc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,h)=>{const g=this.nr(pt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(g.key,g),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Tle(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return I4(e).get("remoteDocumentGlobalKey").next(n=>(xt(!!n),n))}tr(e,n){return I4(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function hle(t,e){let n;if(e.document)n=Hj(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pt.fromSegments(e.noDocument.path),i=Uc(e.noDocument.readTime);n=wr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const r=pt.fromSegments(e.unknownDocument.path),i=Uc(e.unknownDocument.version);n=wr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Dr(i[0],i[1]);return Ft.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Ft.min()))return r}return wr.newInvalidDocument(e)}}function y4(t){return new Ale(t)}class Tle extends v4{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new vl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new nr((o,s)=>tn(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=Yj(this.ar.serializer,s);i=i.add(o.path.popLast());const u=g0(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=Yj(this.ar.serializer,s.convertToNoDocument(Ft.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),oe.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function I4(t){return Ti(t,"remoteDocumentGlobal")}function qc(t){return Ti(t,"remoteDocumentsV14")}function S_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function E4(t,e){const n=e.documentKey.path.toArray();return[t,d0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function w4(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=tn(n[o],r[o]),i)return i;return i=tn(n.length,r.length),i||(i=tn(n[n.length-2],r[r.length-2]),i||tn(n[n.length-1],r[r.length-1]))}class Dle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class C4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&v_(r.mutation,i,No.empty(),Dr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,gn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=gn()){const i=Da();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=g_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,gn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xo();const s=m_(),a=m_();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof yl)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),v_(h.mutation,u,h.mutation.getFieldMask(),Dr.now())):s.set(u.key,No.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var g;return a.set(u,new Dle(h,null!==(g=s.get(u))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=m_();let i=new pr((s,a)=>s-a),o=gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let h=r.get(l)||No.empty();h=a.applyToLocalView(u,h),r.set(l,h);const g=(i.get(a.batchId)||gn()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,g=fj();h.forEach(m=>{if(!o.has(m)){const v=wj(n.get(m),r.get(m));null!==v&&g.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return pt.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):oe.resolve(Da());let a=-1,l=o;return s.next(u=>oe.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?oe.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,gn())).next(h=>({batchId:a,changes:hj(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next(r=>{let i=g_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=g_();return this.indexManager.getCollectionParents(e,o).next(a=>oe.forEach(a,l=>{const u=(g=n,m=l.child(o),new _l(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,wr.newInvalidDocument(h)))});let a=g_();return s.forEach((l,u)=>{const h=o.get(l);void 0!==h&&v_(h.mutation,u,No.empty(),Dr.now()),p_(n,u)&&(a=a.insert(l,u))}),a})}}class Sle{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Qr(i.createTime)}),oe.resolve();var i}getNamedQuery(e,n){return oe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:$S(i.bundledQuery),readTime:Qr(i.readTime)}),oe.resolve();var i}}class Rle{constructor(){this.overlays=new pr(pt.comparator),this.hr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Da();return oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Da(),o=n.length+1,s=new pt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pr((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);null===h&&(h=Da(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Da(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PS(n,r));let o=this.hr.get(n);void 0===o&&(o=gn(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class qS{constructor(){this.Pr=new nr(Di.Ir),this.Tr=new nr(Di.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Di(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Di(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new pt(new Tn([])),r=new Di(n,e),i=new Di(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new pt(new Tn([])),r=new Di(n,e),i=new Di(n,e+1);let o=gn();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Di(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Di{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return pt.comparator(e.key,n.key)||tn(e.pr,n.pr)}static Er(e,n){return tn(e.pr,n.pr)||pt.comparator(e.key,n.key)}}class Mle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new nr(Di.Ir)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new RS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Di(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(s)}lookupMutationBatch(e,n){return oe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Di(n,0),i=new Di(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nr(tn);return n.forEach(i=>{const o=new Di(i,0),s=new Di(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),oe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pt.isDocumentKey(o)||(o=o.child(""));const s=new Di(new pt(o),0);let a=new nr(tn);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),oe.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){xt(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return oe.forEach(n.mutations,i=>{const o=new Di(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Di(n,0),i=this.wr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ple{constructor(e){this.vr=e,this.docs=new pr(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(n))}getEntries(e,n){let r=xo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xo();const s=n.path,a=new pt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||gS(TU(h),r)<=0||(i.has(h.key)||p_(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Dt()}Fr(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nle(this)}getSize(e){return oe.resolve(this.size)}}class Nle extends v4{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class xle{constructor(e){this.persistence=e,this.Mr=new vl(n=>Lc(n),h_),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.Or=0,this.Nr=new qS,this.targetCount=0,this.Lr=Gc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),oe.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.qn(n),oe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(o).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Nr.containsKey(n))}}class WS{constructor(e,n){this.Br={},this.overlays={},this.kr=new es(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xle(this),this.indexManager=new yle,this.remoteDocumentCache=new Ple(r=>this.referenceDelegate.Kr(r)),this.serializer=new Qj(n),this.$r=new Sle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Mle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new Ole(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return oe.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Ole extends SU{constructor(e){super(),this.currentSequenceNumber=e}}class v0{constructor(e){this.persistence=e,this.zr=new qS,this.jr=null}static Hr(e){return new v0(e)}get Jr(){if(this.jr)return this.jr;throw Dt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Ft.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return oe.or([()=>oe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class kle{constructor(e){this.serializer=e}N(e,n,r,i){const o=new KE("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NU,{unique:!0}),l.createObjectStore("documentMutations"),b4(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),b4(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NU,{unique:!0});const g=u.store("mutations"),m=h.map(v=>g.put(v));return oe.waitFor(m)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Iae});u.createIndex("collectionPathOverlayIndex",Eae,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",wae,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:uae});u.createIndex("documentKeyIndex",cae),u.createIndex("collectionGroupIndex",dae)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:mae}).createIndex("sequenceNumberIndex",_ae,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:vae}).createIndex("documentKeyIndex",yae,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=g0(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>oe.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>oe.forEach(a,l=>{xt(l.userId===o.userId);const u=jc(this.serializer,l);return d4(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const l=new Tn(s),u=[0,Xi(l)];o.push(n.get(u).next(h=>h?oe.resolve():n.put({targetId:0,path:Xi(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:gae});const r=n.store("collectionParents"),i=new GS,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Xi(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new Tn(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const h=Aa(a);return o(h.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const o=b_(i),s=Xj(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(g=s,g.document?new pt(Tn.fromString(g.document.name).popFirst(5)):g.noDocument?pt.fromSegments(g.noDocument.path):g.unknownDocument?pt.fromSegments(g.unknownDocument.path):Dt()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var g;i.push(a.put(u))}).next(()=>oe.waitFor(i))}si(e,n){const r=n.store("mutations"),i=y4(this.serializer),o=new WS(v0.Hr,this.serializer.ct);return r.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:gn();jc(this.serializer,l).keys().forEach(g=>h=h.add(g)),a.set(l.userId,h)}),oe.forEach(a,(l,u)=>{const h=new Ai(u),g=h0.lt(this.serializer,h),m=o.getIndexManager(h),v=m0.lt(h,this.serializer,m,o.referenceDelegate);return new C4(i,v,g,m).recalculateAndSaveOverlaysForDocumentKeys(new vS(n,es._e),l).next()})})}}function b4(t){t.createObjectStore("targetDocuments",{keyPath:fae}).createIndex("documentTargetsIndex",pae,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hae,{unique:!0}),t.createObjectStore("targetGlobal")}const KS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QS{constructor(e,n,r,i,o,s,a,l,u,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=h,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!QS.D())throw new Ve(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ble(this,i),this.Ti=n+"main",this.serializer=new Qj(l),this.Ei=new Es(this.Ti,this.ui,new kle(this.serializer)),this.Qr=new Ele(this.referenceDelegate,this.serializer),this.remoteDocumentCache=y4(this.serializer),this.$r=new fle,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===h&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(fe.FAILED_PRECONDITION,KS);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new es(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,y.A)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var n=(0,y.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,y.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>I0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(pu(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return R_(e).get("owner").next(n=>oe.resolve(this.Si(n)))}bi(e){return I0(e).delete(this.clientId)}Di(){var e=this;return(0,y.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ti(r,"clientMetadata");return i.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return oe.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?oe.resolve(!0):R_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Ve(fe.FAILED_PRECONDITION,KS);return!1}}return!(!this.networkEnabled||!this.inForeground)||I0(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&je("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,y.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new vS(n,es._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>I0(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return m0.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ile(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return h0.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){je("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(l=this.ui)?bae:14===l?FU:13===l?kU:12===l?Cae:11===l?OU:void Dt();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new vS(a,this.kr?this.kr.next():es._e),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Ve(fe.FAILED_PRECONDITION,DU);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return R_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ve(fe.FAILED_PRECONDITION,KS)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return R_(e).put("owner",n)}static D(){return Es.D()}yi(e){const n=R_(e);return n.get("owner").next(r=>this.Si(r)?(je("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):oe.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(Kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,zn.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function R_(t){return Ti(t,"owner")}function I0(t){return Ti(t,"clientMetadata")}function YS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class XS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=gn(),i=gn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new XS(e,n.fromCache,r,i)}}class Fle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class A4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,zn.nr)()?8:Es.v((0,zn.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Fle;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(hf()<=Ea.$b.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Ef(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),oe.resolve()):(hf()<=Ea.$b.DEBUG&&je("QueryEngine","Query:",Ef(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(hf()<=Ea.$b.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Ef(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_o(n))):oe.resolve())}ji(e,n){if(sj(n))return oe.resolve(null);let r=_o(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=o0(n,null,"F"),r=_o(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=gn(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,o0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return sj(n)||i.isEqual(Ft.min())?oe.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?oe.resolve(null):(hf()<=Ea.$b.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ef(n)),this.es(e,s,n,AU(i,-1)).next(a=>a))})}Zi(e,n){let r=new nr(cj(e));return n.forEach((i,o)=>{p_(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return hf()<=Ea.$b.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Ef(n)),this.zi.getDocumentsMatchingQuery(e,n,Jo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Lle{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new pr(tn),this.rs=new vl(o=>Lc(o),h_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function T4(t,e,n,r){return new Lle(t,e,n,r)}function D4(t,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,y.A)(function*(t,e){const n=ht(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=gn();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}),ZS.apply(this,arguments)}function S4(t){const e=ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function R4(t,e,n){let r=gn(),i=gn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xo();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ft.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function Ble(t,e){const n=ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nf(t,e){const n=ht(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,oe.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Il(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function xf(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=(0,y.A)(function*(t,e,n){const r=ht(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!pu(s))throw s;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),JS.apply(this,arguments)}function E0(t,e,n){const r=ht(t);let i=Ft.min(),o=gn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const g=ht(l),m=g.rs.get(h);return void 0!==m?oe.resolve(g.ns.get(m)):g.Qr.getTargetData(u,h)}(r,s,_o(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Ft.min(),n?o:gn())).next(a=>(N4(r,uj(e),a),{documents:a,hs:o})))}function M4(t,e){const n=ht(t),r=ht(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function P4(t,e){const n=ht(t),r=n.ss.get(e)||Ft.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,AU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(N4(n,e,i),i))}function N4(t,e,n){let r=t.ss.get(e)||Ft.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function eR(){return eR=(0,y.A)(function*(t,e,n,r){const i=ht(t);let o=gn(),s=xo();for(const u of n){const h=e.Ps(u.metadata.name);u.document&&(o=o.add(h));const g=e.Is(u);g.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(h,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield Nf(i,(h=r,_o(yf(Tn.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>R4(u,a,s).next(h=>(a.apply(u),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.cs,h.ls)).next(()=>h.cs)))}),eR.apply(this,arguments)}function jle(t,e){return tR.apply(this,arguments)}function tR(){return tR=(0,y.A)(function*(t,e,n=gn()){const r=yield Nf(t,_o($S(e.bundledQuery))),i=ht(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Qr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(di.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}),tR.apply(this,arguments)}function x4(t,e){return`firestore_clients_${t}_${e}`}function O4(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function nR(t,e){return`firestore_targets_${t}_${e}`}class w0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new Ve(i.error.code,i.error.message))),s?new w0(e,n,i.state,o):(Kr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class M_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Ve(r.error.code,r.error.message))),o?new M_(e,r.state,i):(Kr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class C0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=DS();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=MU(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new C0(e,o):(Kr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class rR{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new rR(n.clientId,n.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class iR{constructor(){this.activeTargetIds=DS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oR{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new pr(tn),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=x4(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new iR),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.A)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(x4(e.persistenceKey,i));if(o){const s=C0.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(nR(this.persistenceKey,e));if(r){const i=M_.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nR(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return je("SharedClientState","READ",e,n),n}setItem(e,n){je("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,y.A)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=es._e;if(null!=s)try{const l=JSON.parse(s);xt("number"==typeof l),a=l}catch(l){Kr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==es._e&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new w0(this.currentUser,e,n,r),o=O4(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const n=O4(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=nR(this.persistenceKey,e),o=new M_(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return C0.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return w0.Es(new Ai(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return M_.Es(i,n)}xs(e){return rR.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,y.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=DS();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class k4{constructor(){this.no=new iR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new iR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hle{io(e){}shutdown(){}}class F4{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let b0=null;function sR(){return null===b0?b0=268435456+Math.round(2147483648*Math.random()):b0++,"0x"+b0.toString(16)}const zle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gle{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Ji="WebChannelConnection";class qle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=sR(),l=this.bo(n,r.toUriEncodedString());je("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(h=>(je("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Po("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+df,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${zle[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=sR();return new Promise((s,a)=>{const l=new Hse;l.setWithCredentials(!0),l.listenOnce(Use.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hS.NO_ERROR:const h=l.getResponseJson();je(Ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case hS.TIMEOUT:je(Ji,`RPC '${e}' ${o} timed out`),a(new Ve(fe.DEADLINE_EXCEEDED,"Request time out"));break;case hS.HTTP_ERROR:const g=l.getStatus();if(je(Ji,`RPC '${e}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=null==m?void 0:m.error;if(v&&v.status&&v.message){const C=function(R){const V=R.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(V)>=0?V:fe.UNKNOWN}(v.status);a(new Ve(C,v.message))}else a(new Ve(fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ve(fe.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{je(Ji,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);je(Ji,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=sR(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$se(),a=Bse(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");je(Ji,`Creating RPC '${e}' stream ${i}: ${h}`,l);const g=s.createWebChannel(h,l);let m=!1,v=!1;const C=new Gle({lo:R=>{v?je(Ji,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(je(Ji,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),je(Ji,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},ho:()=>g.close()}),A=(R,V,B)=>{R.listen(V,ge=>{try{B(ge)}catch(me){setTimeout(()=>{throw me},0)}})};return A(g,WE.EventType.OPEN,()=>{v||je(Ji,`RPC '${e}' stream ${i} transport opened.`)}),A(g,WE.EventType.CLOSE,()=>{v||(v=!0,je(Ji,`RPC '${e}' stream ${i} transport closed`),C.Vo())}),A(g,WE.EventType.ERROR,R=>{v||(v=!0,Po(Ji,`RPC '${e}' stream ${i} transport errored:`,R),C.Vo(new Ve(fe.UNAVAILABLE,"The operation could not be completed")))}),A(g,WE.EventType.MESSAGE,R=>{var V;if(!v){const B=R.data[0];xt(!!B);const me=B.error||(null===(V=B[0])||void 0===V?void 0:V.error);if(me){je(Ji,`RPC '${e}' stream ${i} received error:`,me);const Ge=me.status;let wt=function(hi){const eo=oi[hi];if(void 0!==eo)return Sj(eo)}(Ge),Xt=me.message;void 0===wt&&(wt=fe.INTERNAL,Xt="Unknown error status: "+Ge+" with message "+me.message),v=!0,C.Vo(new Ve(wt,Xt)),g.close()}else je(Ji,`RPC '${e}' stream ${i} received:`,B),C.mo(B)}}),A(a,jse.STAT_EVENT,R=>{R.stat===yU.PROXY?je(Ji,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===yU.NOPROXY&&je(Ji,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}}function L4(){return typeof window<"u"?window:null}function A0(){return typeof document<"u"?document:null}function P_(t){return new nle(t,!0)}class aR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class V4{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aR(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,y.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,y.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return(0,y.A)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Ve(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,y.A)(function*(){e.state=0,e.start()}))}__(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wle extends V4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function ole(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Dt(),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(xt(void 0===h||"string"==typeof h),di.fromBase64String(h||"")):(xt(void 0===h||h instanceof Uint8Array),di.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?fe.UNKNOWN:Sj(u.code);return new Ve(h,u.message||"")}(s);n=new xj(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sa(t,r.document.name),o=Qr(r.document.updateTime),s=r.document.createTime?Qr(r.document.createTime):Ft.min(),a=new $i({mapValue:{fields:r.document.fields}}),l=wr.newFoundDocument(i,o,s,a);n=new c0(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Sa(t,r.document),o=r.readTime?Qr(r.readTime):Ft.min(),s=wr.newNoDocument(i,o);n=new c0([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Sa(t,r.document);n=new c0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Dt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Yae(i,o);n=new Nj(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ft.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ft.min():s.readTime?Qr(s.readTime):Ft.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=FS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=n0(l)?{documents:zj(o,l)}:{query:VS(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Lj(o,s.resumeToken);const u=xS(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ft.min())>0){a.readTime=Tf(o,s.snapshotVersion.toTimestamp());const u=xS(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function ale(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=FS(this.serializer),n.removeTarget=e,this.t_(n)}}class Kle extends V4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function sle(t,e){return t&&t.length>0?(xt(void 0!==e),t.map(n=>function(i,o){let s=Qr(i.updateTime?i.updateTime:o);return s.isEqual(Ft.min())&&(s=Qr(o)),new qae(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.T_(r,n)}return xt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=FS(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>C_(this.serializer,r))};this.t_(n)}}class Qle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Ve(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,kS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(fe.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,kS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(fe.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Xle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Kr(n),this.g_=!1):je("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Zle{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget((0,y.A)(function*(){var l;Tu(s)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,y.A)(function*(h){const g=ht(h);g.v_.add(4),yield Of(g),g.x_.set("Unknown"),g.v_.delete(4),yield N_(g)}),function u(h){return l.apply(this,arguments)})(s))}))}),this.x_=new Xle(r,i)}}function N_(t){return uR.apply(this,arguments)}function uR(){return uR=(0,y.A)(function*(t){if(Tu(t))for(const e of t.F_)yield e(!0)}),uR.apply(this,arguments)}function Of(t){return cR.apply(this,arguments)}function cR(){return cR=(0,y.A)(function*(t){for(const e of t.F_)yield e(!1)}),cR.apply(this,arguments)}function T0(t,e){const n=ht(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),fR(n)?hR(n):Lf(n).Jo()&&dR(n,e))}function kf(t,e){const n=ht(t),r=Lf(n);n.C_.delete(e),r.Jo()&&$4(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Tu(n)&&n.x_.set("Unknown"))}function dR(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lf(t).c_(e)}function $4(t,e){t.O_.Oe(e),Lf(t).l_(e)}function hR(t){t.O_=new Zae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Lf(t).start(),t.x_.p_()}function fR(t){return Tu(t)&&!Lf(t).Ho()&&t.C_.size>0}function Tu(t){return 0===ht(t).v_.size}function B4(t){t.O_=void 0}function Jle(t){return pR.apply(this,arguments)}function pR(){return pR=(0,y.A)(function*(t){t.C_.forEach((e,n)=>{dR(t,e)})}),pR.apply(this,arguments)}function eue(t,e){return gR.apply(this,arguments)}function gR(){return gR=(0,y.A)(function*(t,e){B4(t),fR(t)?(t.x_.S_(e),hR(t)):t.x_.set("Unknown")}),gR.apply(this,arguments)}function tue(t,e,n){return mR.apply(this,arguments)}function mR(){return mR=(0,y.A)(function*(t,e,n){if(t.x_.set("Online"),e instanceof xj&&2===e.state&&e.cause)try{yield(r=(0,y.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield D0(t,r)}else if(e instanceof c0?t.O_.$e(e):e instanceof Nj?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ft.min()))try{const r=yield S4(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.C_.get(u);h&&o.C_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.C_.get(l);if(!h)return;o.C_.set(l,h.withResumeToken(di.EMPTY_BYTE_STRING,h.snapshotVersion)),$4(o,l);const g=new Il(h.target,l,u,h.sequenceNumber);dR(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield D0(t,r)}var r}),mR.apply(this,arguments)}function D0(t,e,n){return _R.apply(this,arguments)}function _R(){return _R=(0,y.A)(function*(t,e,n){if(!pu(e))throw e;t.v_.add(1),yield Of(t),t.x_.set("Offline"),n||(n=()=>S4(t.localStore)),t.asyncQueue.enqueueRetryable((0,y.A)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield N_(t)}))}),_R.apply(this,arguments)}function U4(t,e){return e().catch(n=>D0(t,n,e))}function Ff(t){return vR.apply(this,arguments)}function vR(){return vR=(0,y.A)(function*(t){const e=ht(t),n=Du(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;nue(e);)try{const i=yield Ble(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,rue(e,i)}catch(i){yield D0(e,i)}j4(e)&&H4(e)}),vR.apply(this,arguments)}function nue(t){return Tu(t)&&t.D_.length<10}function rue(t,e){t.D_.push(e);const n=Du(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function j4(t){return Tu(t)&&!Du(t).Ho()&&t.D_.length>0}function H4(t){Du(t).start()}function iue(t){return yR.apply(this,arguments)}function yR(){return yR=(0,y.A)(function*(t){Du(t).d_()}),yR.apply(this,arguments)}function oue(t){return IR.apply(this,arguments)}function IR(){return IR=(0,y.A)(function*(t){const e=Du(t);for(const n of t.D_)e.I_(n.mutations)}),IR.apply(this,arguments)}function sue(t,e,n){return ER.apply(this,arguments)}function ER(){return ER=(0,y.A)(function*(t,e,n){const r=t.D_.shift(),i=MS.from(r,e,n);yield U4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ff(t)}),ER.apply(this,arguments)}function aue(t,e){return wR.apply(this,arguments)}function wR(){return wR=(0,y.A)(function*(t,e){var n;e&&Du(t).P_&&(yield(n=(0,y.A)(function*(i,o){if(Dj(a=o.code)&&a!==fe.ABORTED){const s=i.D_.shift();Du(i).Zo(),yield U4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ff(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),j4(t)&&H4(t)}),wR.apply(this,arguments)}function z4(t,e){return CR.apply(this,arguments)}function CR(){return CR=(0,y.A)(function*(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Tu(n);n.v_.add(3),yield Of(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield N_(n)}),CR.apply(this,arguments)}function bR(t,e){return AR.apply(this,arguments)}function AR(){return AR=(0,y.A)(function*(t,e){const n=ht(t);e?(n.v_.delete(2),yield N_(n)):e||(n.v_.add(2),yield Of(n),n.x_.set("Unknown"))}),AR.apply(this,arguments)}function Lf(t){return t.N_||(t.N_=function(n,r,i){const o=ht(n);return o.R_(),new Wle(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Jle.bind(null,t),To:eue.bind(null,t),u_:tue.bind(null,t)}),t.F_.push(function(){var e=(0,y.A)(function*(n){n?(t.N_.Zo(),fR(t)?hR(t):t.x_.set("Unknown")):(yield t.N_.stop(),B4(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Du(t){return t.L_||(t.L_=function(n,r,i){const o=ht(n);return o.R_(),new Kle(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:iue.bind(null,t),To:aue.bind(null,t),E_:oue.bind(null,t),T_:sue.bind(null,t)}),t.F_.push(function(){var e=(0,y.A)(function*(n){n?(t.L_.Zo(),yield Ff(t)):(yield t.L_.stop(),t.D_.length>0&&(je("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class TR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new TR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),pu(t))return new Ve(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class $f{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=g_(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new $f(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $f)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new $f;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class G4{constructor(){this.B_=new pr(pt.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Dt():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bf{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Bf(e,n,$f.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class lue{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class uue{constructor(){this.queries=new vl(e=>lj(e),f_),this.onlineState="Unknown",this.W_=new Set}}function DR(t,e){return SR.apply(this,arguments)}function SR(){return SR=(0,y.A)(function*(t,e){const n=ht(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new lue,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=Vf(s,`Initialization of query '${Ef(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&PR(n)}),SR.apply(this,arguments)}function RR(t,e){return MR.apply(this,arguments)}function MR(){return MR=(0,y.A)(function*(t,e){const n=ht(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),0===o.Q_.length?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),MR.apply(this,arguments)}function cue(t,e){const n=ht(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&PR(n)}function due(t,e,n){const r=ht(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function PR(t){t.W_.forEach(e=>{e.next()})}var NR,q4;(q4=NR||(NR={})).j_="default",q4.Cache="cache";class xR{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Bf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==NR.Cache}}class hue{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}class W4{constructor(e){this.serializer=e}Ps(e){return Sa(this.serializer,e)}Is(e){return e.metadata.exists?Hj(this.serializer,e.document,!1):wr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Qr(e)}}class fue{constructor(e,n,r){this.ia=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=K4(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const r=Tn.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,r=new W4(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||gn()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,y.A)(function*(){const n=yield function Ule(t,e,n,r){return eR.apply(this,arguments)}(e.localStore,new W4(e.serializer),e.documents,e.ia.id),r=e.oa(e.documents);for(const i of e.queries)yield jle(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:n}})()}}function K4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Q4{constructor(e){this.key=e}}class Y4{constructor(e){this.key=e}}class X4{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=gn(),this.mutatedKeys=gn(),this.ha=cj(e),this.Pa=new $f(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new G4,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),v=p_(this.query,g)?g:null,C=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;m&&v?m.data.isEqual(v.data)?C!==A&&(r.track({type:3,doc:v}),R=!0):this.da(m,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.ha(v,l)>0||u&&this.ha(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(l||u)&&(a=!0)),R&&(v?(s=s.add(v),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((h,g)=>function(v,C){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return A(v)-A(C)}(h.type,g.type)||this.ha(h.doc,g.doc)),this.Aa(r),i=null!=i&&i;const a=n&&!i?this.Ra():[],l=0===this.la.size&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,0!==s.length||u?{snapshot:new Bf(this.query,e.Pa,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new G4,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=gn(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Y4(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Q4(r))}),n}fa(e){this.ua=e.hs,this.la=gn();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Bf.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class pue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gue{constructor(e){this.key=e,this.pa=!1}}class mue{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new vl(a=>lj(a),f_),this.Sa=new Map,this.ba=new Set,this.Da=new pr(pt.comparator),this.Ca=new Map,this.va=new qS,this.Fa={},this.Ma=new Map,this.xa=Gc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function _ue(t,e){return OR.apply(this,arguments)}function OR(){return OR=(0,y.A)(function*(t,e,n=!0){const r=S0(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield Z4(r,e,n,!0),i}),OR.apply(this,arguments)}function vue(t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,y.A)(function*(t,e){const n=S0(t);yield Z4(n,e,!0,!1)}),kR.apply(this,arguments)}function Z4(t,e,n,r){return FR.apply(this,arguments)}function FR(){return FR=(0,y.A)(function*(t,e,n,r){const i=yield Nf(t.localStore,_o(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield LR(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&T0(t.remoteStore,i),a}),FR.apply(this,arguments)}function LR(t,e,n,r,i){return VR.apply(this,arguments)}function VR(){return VR=(0,y.A)(function*(t,e,n,r,i){t.Na=(g,m,v)=>{return(C=(0,y.A)(function*(R,V,B,ge){let me=V.view.Ta(B);me.Xi&&(me=yield E0(R.localStore,V.query,!1).then(({documents:In})=>V.view.Ta(In,me)));const Ge=ge&&ge.targetChanges.get(V.targetId),wt=ge&&null!=ge.targetMismatches.get(V.targetId),Xt=V.view.applyChanges(me,R.isPrimaryClient,Ge,wt);return QR(R,V.targetId,Xt.Va),Xt.snapshot}),function A(R,V,B,ge){return C.apply(this,arguments)})(t,g,m,v);var C};const o=yield E0(t.localStore,e,!0),s=new X4(e,o.hs),a=s.Ta(o.documents),l=E_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);QR(t,n,u.Va);const h=new pue(e,n,s);return t.wa.set(e,h),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}),VR.apply(this,arguments)}function yue(t,e,n){return $R.apply(this,arguments)}function $R(){return $R=(0,y.A)(function*(t,e,n){const r=ht(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!f_(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kf(r.remoteStore,i.targetId),Uf(r,i.targetId)}).catch(fu))):(Uf(r,i.targetId),yield xf(r.localStore,i.targetId,!0))}),$R.apply(this,arguments)}function Iue(t,e){return BR.apply(this,arguments)}function BR(){return BR=(0,y.A)(function*(t,e){const n=ht(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kf(n.remoteStore,r.targetId))}),BR.apply(this,arguments)}function UR(){return UR=(0,y.A)(function*(t,e,n){const r=sM(t);try{const i=yield function(s,a){const l=ht(s),u=Dr.now(),h=a.reduce((v,C)=>v.add(C.key),gn());let g,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=xo(),A=gn();return l.os.getEntries(v,h).next(R=>{C=R,C.forEach((V,B)=>{B.isValidDocument()||(A=A.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(R=>{g=R;const V=[];for(const B of a){const ge=Kae(B,g.get(B.key).overlayedDocument);null!=ge&&V.push(new yl(B.key,ge,WU(ge.value.mapValue),Sr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,V,a)}).next(R=>{m=R;const V=R.applyToLocalDocumentSet(g,A);return l.documentOverlayCache.saveOverlays(v,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:hj(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new pr(tn)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield El(r,i.changes),yield Ff(r.remoteStore)}catch(i){const o=Vf(i,"Failed to persist write");n.reject(o)}}),UR.apply(this,arguments)}function J4(t,e){return jR.apply(this,arguments)}function jR(){return jR=(0,y.A)(function*(t,e){const n=ht(t);try{const r=yield function $le(t,e){const n=ht(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,g)));let v=m.withSequenceNumber(o.currentSequenceNumber);var A,R,V;null!==e.targetMismatches.get(g)?v=v.withResumeToken(di.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(g,v),R=v,V=h,(0===(A=m).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,v))});let l=xo(),u=gn();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(R4(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(Ft.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return oe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?xt(s.pa):i.removedDocuments.size>0&&(xt(s.pa),s.pa=!1))}),yield El(n,r,e)}catch(r){yield fu(r)}}),jR.apply(this,arguments)}function eH(t,e,n){const r=ht(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ht(s);l.onlineState=a;let u=!1;l.queries.forEach((h,g)=>{for(const m of g.Q_)m.G_(a)&&(u=!0)}),u&&PR(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wue(t,e,n){return HR.apply(this,arguments)}function HR(){return HR=(0,y.A)(function*(t,e,n){const r=ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new pr(pt.comparator);s=s.insert(o,wr.newNoDocument(o,Ft.min()));const a=gn().add(o),l=new I_(Ft.min(),new Map,new pr(tn),s,a);yield J4(r,l),r.Da=r.Da.remove(o),r.Ca.delete(e),YR(r)}else yield xf(r.localStore,e,!1).then(()=>Uf(r,e,n)).catch(fu)}),HR.apply(this,arguments)}function Cue(t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,y.A)(function*(t,e){const n=ht(t),r=e.batch.batchId;try{const i=yield function Vle(t,e){const n=ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const g=u.batch,m=g.keys();let v=oe.resolve();return m.forEach(C=>{v=v.next(()=>h.getEntry(l,C)).next(A=>{const R=u.docVersions.get(C);xt(null!==R),A.version.compareTo(R)<0&&(g.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),h.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=gn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);KR(n,r,null),WR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield El(n,i)}catch(i){yield fu(i)}}),zR.apply(this,arguments)}function bue(t,e,n){return GR.apply(this,arguments)}function GR(){return GR=(0,y.A)(function*(t,e,n){const r=ht(t);try{const i=yield function(s,a){const l=ht(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(xt(null!==g),h=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);KR(r,e,n),WR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield El(r,i)}catch(i){yield fu(i)}}),GR.apply(this,arguments)}function qR(){return qR=(0,y.A)(function*(t,e){const n=ht(t);Tu(n.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ht(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ma.get(r)||[];i.push(e),n.Ma.set(r,i)}catch(r){const i=Vf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),qR.apply(this,arguments)}function WR(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function KR(t,e,n){const r=ht(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Uf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||tH(t,r)})}function tH(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);null!==n&&(kf(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),YR(t))}function QR(t,e,n){for(const r of n)r instanceof Q4?(t.va.addReference(r.key,e),Tue(t,r)):r instanceof Y4?(je("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||tH(t,r.key)):Dt()}function Tue(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(je("SyncEngine","New document in limbo: "+n),t.ba.add(r),YR(t))}function YR(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new pt(Tn.fromString(e)),r=t.xa.next();t.Ca.set(r,new gue(n)),t.Da=t.Da.insert(n,r),T0(t.remoteStore,new Il(_o(yf(n.path)),r,"TargetPurposeLimboResolution",es._e))}}function El(t,e,n){return XR.apply(this,arguments)}function XR(){return XR=(0,y.A)(function*(t,e,n){const r=ht(t),i=[],o=[],s=[];var a;r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=u&&u.fromCache?"not-current":"current"),u){i.push(u);const h=XS.Ki(l.targetId,u);o.push(h)}}))}),yield Promise.all(s),r.ya.u_(i),yield(a=(0,y.A)(function*(u,h){const g=ht(u);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>oe.forEach(h,v=>oe.forEach(v.qi,C=>g.persistence.referenceDelegate.addReference(m,v.targetId,C)).next(()=>oe.forEach(v.Qi,C=>g.persistence.referenceDelegate.removeReference(m,v.targetId,C)))))}catch(m){if(!pu(m))throw m;je("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const C=g.ns.get(v),R=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);g.ns=g.ns.insert(v,R)}}}),function l(u,h){return a.apply(this,arguments)})(r.localStore,o))}),XR.apply(this,arguments)}function Due(t,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,y.A)(function*(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield D4(n.localStore,e);n.currentUser=e,(o=n).Ma.forEach(a=>{a.forEach(l=>{l.reject(new Ve(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ma.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield El(n,r.us)}var o}),ZR.apply(this,arguments)}function Sue(t,e){const n=ht(t),r=n.Ca.get(e);if(r&&r.pa)return gn().add(r.key);{let i=gn();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function Rue(t,e){return JR.apply(this,arguments)}function JR(){return JR=(0,y.A)(function*(t,e){const n=ht(t),r=yield E0(n.localStore,e.query,!0),i=e.view.fa(r);return n.isPrimaryClient&&QR(n,e.targetId,i.Va),i}),JR.apply(this,arguments)}function Mue(t,e){return eM.apply(this,arguments)}function eM(){return eM=(0,y.A)(function*(t,e){const n=ht(t);return P4(n.localStore,e).then(r=>El(n,r))}),eM.apply(this,arguments)}function Pue(t,e,n,r){return tM.apply(this,arguments)}function tM(){return tM=(0,y.A)(function*(t,e,n,r){const i=ht(t),o=yield function(a,l){const u=ht(a),h=ht(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.vn(g,l).next(m=>m?u.localDocuments.getDocuments(g,m):oe.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield Ff(i.remoteStore):"acknowledged"===n||"rejected"===n?(KR(i,e,r||null),WR(i,e),l=e,ht(ht(i.localStore).mutationQueue).Mn(l)):Dt(),yield El(i,o)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),tM.apply(this,arguments)}function nM(){return nM=(0,y.A)(function*(t,e){const n=ht(t);if(S0(n),sM(n),!0===e&&!0!==n.Oa){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield nH(n,r.toArray());n.Oa=!0,yield bR(n.remoteStore,!0);for(const o of i)T0(n.remoteStore,o)}else if(!1===e&&!1!==n.Oa){const r=[];let i=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Uf(n,s),xf(n.localStore,s,!0))),kf(n.remoteStore,s)}),yield i,yield nH(n,r),function(s){const a=ht(s);a.Ca.forEach((l,u)=>{kf(a.remoteStore,u)}),a.va.mr(),a.Ca=new Map,a.Da=new pr(pt.comparator)}(n),n.Oa=!1,yield bR(n.remoteStore,!1)}}),nM.apply(this,arguments)}function nH(t,e,n){return rM.apply(this,arguments)}function rM(){return rM=(0,y.A)(function*(t,e,n){const r=ht(t),i=[],o=[];for(const s of e){let a;const l=r.Sa.get(s);if(l&&0!==l.length){a=yield Nf(r.localStore,_o(l[0]));for(const u of l){const h=r.wa.get(u),g=yield Rue(r,h);g.snapshot&&o.push(g.snapshot)}}else{const u=yield M4(r.localStore,s);a=yield Nf(r.localStore,u),yield LR(r,rH(u),s,!1,a.resumeToken)}i.push(a)}return r.ya.u_(o),i}),rM.apply(this,arguments)}function rH(t){return oj(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xue(t){return n=ht(t).localStore,ht(ht(n).persistence).Bi();var n}function Oue(t,e,n,r){return iM.apply(this,arguments)}function iM(){return iM=(0,y.A)(function*(t,e,n,r){const i=ht(t);if(i.Oa)return void je("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield P4(i.localStore,uj(o[0])),a=I_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,di.EMPTY_BYTE_STRING);yield El(i,s,a);break}case"rejected":yield xf(i.localStore,e,!0),Uf(i,e,r);break;default:Dt()}}),iM.apply(this,arguments)}function kue(t,e,n){return oM.apply(this,arguments)}function oM(){return oM=(0,y.A)(function*(t,e,n){const r=S0(t);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){je("SyncEngine","Adding an already active target "+i);continue}const o=yield M4(r.localStore,i),s=yield Nf(r.localStore,o);yield LR(r,rH(o),s.targetId,!1,s.resumeToken),T0(r.remoteStore,s)}for(const i of n)r.Sa.has(i)&&(yield xf(r.localStore,i,!1).then(()=>{kf(r.remoteStore,i),Uf(r,i)}).catch(fu))}}),oM.apply(this,arguments)}function S0(t){const e=ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wue.bind(null,e),e.ya.u_=cue.bind(null,e.eventManager),e.ya.La=due.bind(null,e.eventManager),e}function sM(t){const e=ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bue.bind(null,e),e}class jf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,y.A)(function*(){n.serializer=P_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return T4(this.persistence,new A4,e.initialUser,this.serializer)}createPersistence(e){return new WS(v0.Hr,this.serializer)}createSharedClientState(e){return new k4}terminate(){var e=this;return(0,y.A)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class aM extends jf{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,y.A)(function*(){yield n().call(r,e),yield r.ka.initialize(r,e),yield sM(r.ka.syncEngine),yield Ff(r.ka.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return T4(this.persistence,new A4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new m4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new sae(n,this.persistence);return new oae(e.asyncQueue,r)}createPersistence(e){const n=YS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new QS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,L4(),A0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new k4}}class iH extends aM{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,y.A)(function*(){yield n().call(r,e);const i=r.ka.syncEngine;r.sharedClientState instanceof oR&&(r.sharedClientState.syncEngine={Zs:Pue.bind(null,i),Xs:Oue.bind(null,i),eo:kue.bind(null,i),Bi:xue.bind(null,i),Ys:Mue.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,y.A)(function*(s){yield function Nue(t,e){return nM.apply(this,arguments)}(r.ka.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=L4();if(!oR.D(n))throw new Ve(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oR(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Hf{initialize(e,n){var r=this;return(0,y.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>eH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Due.bind(null,r.syncEngine),yield bR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uue}createDatastore(e){const n=P_(e.databaseInfo.databaseId),r=new qle(e.databaseInfo);return new Qle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>eH(this.syncEngine,n,0),a=F4.D()?new F4:new Hle,new Zle(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const g=new mue(i,o,s,a,l,u);return h&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,y.A)(function*(){var n,r;yield(r=(0,y.A)(function*(o){const s=ht(o);je("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield Of(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function oH(t,e=10240){let n=0;return{read:()=>(0,y.A)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,y.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Vue{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new ci,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,y.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,y.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,y.A)(function*(){const n=yield e.Wa();if(null===n)return null;const r=e.$a.decode(n),i=Number(r);isNaN(i)&&e.Ga(`length string (${r}) is not valid number`);const o=yield e.za(i);return new hue(JSON.parse(o),n.length+i)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,y.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const n=e.ja();n<0&&e.Ga("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}za(e){var n=this;return(0,y.A)(function*(){for(;n.buffer.length<e;)(yield n.Ha())&&n.Ga("Reached the end of bundle when more is expected.");const r=n.$a.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,y.A)(function*(){const n=yield e.Ka.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class $ue{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,y.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new Ve(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,y.A)(function*(s,a){const l=ht(s),u={documents:a.map(v=>w_(l.serializer,v))},h=yield l.vo("BatchGetDocuments",l.serializer.databaseId,Tn.emptyPath(),u,a.length),g=new Map;h.forEach(v=>{const C=function ile(t,e){return"found"in e?function(r,i){xt(!!i.found);const o=Sa(r,i.found.name),s=Qr(i.found.updateTime),a=i.found.createTime?Qr(i.found.createTime):Ft.min(),l=new $i({mapValue:{fields:i.found.fields}});return wr.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){xt(!!i.missing),xt(!!i.readTime);const o=Sa(r,i.missing),s=Qr(i.readTime);return wr.newNoDocument(o,s)}(t,e):Dt()}(l.serializer,v);g.set(C.key.toString(),C)});const m=[];return a.forEach(v=>{const C=g.get(v.toString());xt(!!C),m.push(C)}),m}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Af(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=pt.fromPath(i);e.mutations.push(new SS(o,e.precondition(o)))}),yield(r=(0,y.A)(function*(o,s){const a=ht(o),l={writes:s.map(u=>C_(a.serializer,u))};yield a.So("Commit",a.serializer.databaseId,Tn.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Dt();n=Ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ve(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ft.min())?Sr.exists(!1):Sr.updateTime(n):Sr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ft.min()))throw new Ve(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(n)}return Sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Bue{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Ja=r.maxAttempts,this.jo=new aR(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,y.A)(function*(){const n=new $ue(e.datastore),r=e.Xa(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.eu(o)}))}).catch(i=>{e.eu(i)})}))}Xa(e){try{const n=this.updateFunction(e);return!o_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Dj(n)}return!1}}class Uue{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ai.UNAUTHENTICATED,this.clientId=CU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,y.A)(function*(a){je("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Vf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function M0(t,e){return lM.apply(this,arguments)}function lM(){return lM=(0,y.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,y.A)(function*(o){r.isEqual(o)||(yield D4(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),lM.apply(this,arguments)}function uM(t,e){return cM.apply(this,arguments)}function cM(){return cM=(0,y.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield dM(t);je("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>z4(e.remoteStore,i)),t._onlineComponents=e}),cM.apply(this,arguments)}function sH(t){return"FirebaseError"===t.name?t.code===fe.FAILED_PRECONDITION||t.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function dM(t){return hM.apply(this,arguments)}function hM(){return hM=(0,y.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield M0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sH(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),yield M0(t,new jf)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield M0(t,new jf);return t._offlineComponents}),hM.apply(this,arguments)}function P0(t){return fM.apply(this,arguments)}function fM(){return fM=(0,y.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield uM(t,t._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield uM(t,new Hf))),t._onlineComponents}),fM.apply(this,arguments)}function aH(t){return dM(t).then(e=>e.persistence)}function zf(t){return dM(t).then(e=>e.localStore)}function lH(t){return P0(t).then(e=>e.remoteStore)}function pM(t){return P0(t).then(e=>e.syncEngine)}function Gf(t){return gM.apply(this,arguments)}function gM(){return gM=(0,y.A)(function*(t){const e=yield P0(t),n=e.eventManager;return n.onListen=_ue.bind(null,e.syncEngine),n.onUnlisten=yue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Iue.bind(null,e.syncEngine),n}),gM.apply(this,arguments)}function cH(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function(o,s,a,l,u){const h=new R0({next:m=>{s.enqueueAndForget(()=>RR(o,g));const v=m.docs.has(a);!v&&m.fromCache?u.reject(new Ve(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&"server"===l.source?u.reject(new Ve(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new xR(yf(a.path),h,{includeMetadataChanges:!0,ta:!0});return DR(o,g)}(yield Gf(t),t.asyncQueue,e,n,r)})),r.promise}function dH(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function(o,s,a,l,u){const h=new R0({next:m=>{s.enqueueAndForget(()=>RR(o,g)),m.fromCache&&"server"===l.source?u.reject(new Ve(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new xR(a,h,{includeMetadataChanges:!0,ta:!0});return DR(o,g)}(yield Gf(t),t.asyncQueue,e,n,r)})),r.promise}function hH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const fH=new Map;function mM(t,e,n){if(!n)throw new Ve(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pH(t,e,n,r){if(!0===e&&!0===r)throw new Ve(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gH(t){if(!pt.isDocumentKey(t))throw new Ve(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mH(t){if(pt.isDocumentKey(t))throw new Ve(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Dt()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N0(t);throw new Ve(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _H(t,e){if(e<=0)throw new Ve(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class vH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ve(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vH(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Wse;switch(r.type){case"firstParty":return new Xse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fH.get(n);r&&(je("ComponentProvider","Removing Datastore"),fH.delete(n),r.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class Cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class Ra extends Bi{constructor(e,n,r){super(e,n,yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new pt(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function IH(t,e,...n){if(t=(0,zn.Ku)(t),mM("collection","path",e),t instanceof x_){const r=Tn.fromString(e,...n);return mH(r),new Ra(t,null,r)}{if(!(t instanceof Cr||t instanceof Ra))throw new Ve(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tn.fromString(e,...n));return mH(r),new Ra(t.firestore,null,r)}}function x0(t,e,...n){if(t=(0,zn.Ku)(t),1===arguments.length&&(e=CU.newId()),mM("doc","path",e),t instanceof x_){const r=Tn.fromString(e,...n);return gH(r),new Cr(t,null,new pt(r))}{if(!(t instanceof Cr||t instanceof Ra))throw new Ve(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tn.fromString(e,...n));return gH(r),new Cr(t.firestore,t instanceof Ra?t.converter:null,new pt(r))}}function EH(t,e){return t=(0,zn.Ku)(t),e=(0,zn.Ku)(e),(t instanceof Cr||t instanceof Ra)&&(e instanceof Cr||e instanceof Ra)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _M(t,e){return t=(0,zn.Ku)(t),e=(0,zn.Ku)(e),t instanceof Bi&&e instanceof Bi&&t.firestore===e.firestore&&f_(t._query,e._query)&&t.converter===e.converter}class Jue{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new aR(this,"async_queue_retry"),this.cu=()=>{const n=A0();n&&je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=A0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=A0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new ci;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,y.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!pu(n))throw n;je("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=TR.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&Dt()}verifyOperationInProgress(){}Tu(){var e=this;return(0,y.A)(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function vM(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class ece{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gr extends x_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jue,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wH(this),this._firestoreClient.terminate()}}function Vr(t){return t._firestoreClient||wH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wH(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Dae(t._databaseId,l,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hH(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;t._firestoreClient=new Uue(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function CH(t,e,n){const r=new ci;return t.asyncQueue.enqueue((0,y.A)(function*(){try{yield M0(t,n),yield uM(t,e),r.resolve()}catch(i){const o=i;if(!sH(o))throw o;Po("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function bH(t){if(t._initialized||t._terminated)throw new Ve(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(di.fromBase64String(e))}catch(n){throw new Ve(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ve(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wc{constructor(e){this._methodName=e}}class O0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const dce=/^__.*__$/;class hce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new yl(e,this.data,this.fieldMask,n,this.fieldTransforms):new bf(e,this.data,n,this.fieldTransforms)}}class AH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class k0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new k0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return V0(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(TH(this.Vu)&&dce.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class fce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||P_(e)}Cu(e,n,r,i=!1){return new k0({Vu:e,methodName:n,Du:r,path:Er.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(t){const e=t._freezeSettings(),n=P_(t._databaseId);return new fce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F0(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);AM("Data must be an object, but it was:",s,r);const a=RH(r,s);let l,u;if(o.merge)l=new No(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const m=F_(e,g,n);if(!s.contains(m))throw new Ve(fe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PH(h,m)||h.push(m)}l=new No(h),u=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=s.fieldTransforms;return new hce(new $i(a),l,u)}class k_ extends Wc{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof k_}}function DH(t,e,n){return new k0({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yM extends Wc{_toFieldTransform(e){return new __(e.path,new wf)}isEqual(e){return e instanceof yM}}class IM extends Wc{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=DH(this,e,!0),r=this.vu.map(o=>Qc(o,n)),i=new Vc(r);return new __(e.path,i)}isEqual(e){return e instanceof IM&&(0,zn.bD)(this.vu,e.vu)}}class EM extends Wc{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=DH(this,e,!0),r=this.vu.map(o=>Qc(o,n)),i=new $c(r);return new __(e.path,i)}isEqual(e){return e instanceof EM&&(0,zn.bD)(this.vu,e.vu)}}class wM extends Wc{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new Cf(e.serializer,mj(e.serializer,this.Fu));return new __(e.path,n)}isEqual(e){return e instanceof wM&&this.Fu===e.Fu}}function CM(t,e,n,r){const i=t.Cu(1,e,n);AM("Data must be an object, but it was:",i,r);const o=[],s=$i.empty();gu(r,(l,u)=>{const h=L0(e,l,n);u=(0,zn.Ku)(u);const g=i.yu(h);if(u instanceof k_)o.push(h);else{const m=Qc(u,g);null!=m&&(o.push(h),s.set(h,m))}});const a=new No(o);return new AH(s,a,i.fieldTransforms)}function bM(t,e,n,r,i,o){const s=t.Cu(1,e,n),a=[F_(e,r,n)],l=[i];if(o.length%2!=0)throw new Ve(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(F_(e,o[m])),l.push(o[m+1]);const u=[],h=$i.empty();for(let m=a.length-1;m>=0;--m)if(!PH(u,a[m])){const v=a[m];let C=l[m];C=(0,zn.Ku)(C);const A=s.yu(v);if(C instanceof k_)u.push(v);else{const R=Qc(C,A);null!=R&&(u.push(v),h.set(v,R))}}const g=new No(u);return new AH(h,g,s.fieldTransforms)}function SH(t,e,n,r=!1){return Qc(n,t.Cu(r?4:3,e))}function Qc(t,e){if(MH(t=(0,zn.Ku)(t)))return AM("Unsupported field value:",e,t),RH(t,e);if(t instanceof Wc)return function(r,i){if(!TH(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Qc(a,i.wu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,zn.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return mj(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Dr.fromDate(r);return{timestampValue:Tf(i.serializer,o)}}if(r instanceof Dr){const o=new Dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,o)}}if(r instanceof O0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:Lj(i.serializer,r._byteString)};if(r instanceof Cr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${N0(r)}`)}(t,e)}function RH(t,e){const n={};return VU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(t,(r,i)=>{const o=Qc(i,e.fu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function MH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dr||t instanceof O0||t instanceof Ma||t instanceof Cr||t instanceof Wc)}function AM(t,e,n){if(!MH(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=N0(n);throw e.Su("an object"===r?t+" a custom object":t+" "+r)}var i}function F_(t,e,n){if((e=(0,zn.Ku)(e))instanceof wl)return e._internalPath;if("string"==typeof e)return L0(t,e);throw V0("Field path arguments must be of type string or ",t,!1,void 0,n)}const pce=new RegExp("[~\\*/\\[\\]]");function L0(t,e,n){if(e.search(pce)>=0)throw V0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wl(...e.split("."))._internalPath}catch{throw V0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function V0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ve(fe.INVALID_ARGUMENT,a+t+l)}function PH(t,e){return t.some(n=>n.isEqual(e))}class L_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gce extends L_{data(){return super.data()}}function $0(t,e){return"string"==typeof e?L0(t,e):e instanceof wl?e._internalPath:e._delegate._internalPath}function NH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Ve(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TM{}class V_ extends TM{}function Su(t,e,...n){let r=[];e instanceof TM&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof qf).length,a=o.filter(l=>l instanceof $_).length;if(s>1||s>0&&a>0)throw new Ve(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $_ extends V_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $_(e,n,r)}_apply(e){const n=this._parse(e);return FH(e._query,n),new Bi(e.firestore,e.converter,TS(e._query,n))}_parse(e){const n=Kc(e.firestore);return function(o,s,a,l,u,h,g){let m;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new Ve(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){kH(g,h);const v=[];for(const C of g)v.push(OH(l,o,C));m={arrayValue:{values:v}}}else m=OH(l,o,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||kH(g,h),m=SH(a,"where",g,"in"===h||"not-in"===h);return Dn.create(u,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class qf extends TM{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)FH(s,l),s=TS(s,l)}(e._query,n),new Bi(e.firestore,e.converter,TS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class DM extends V_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new DM(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new Ve(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new d_(o,s)}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new _l(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class B0 extends V_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new B0(e,n,r)}_apply(e){return new Bi(e.firestore,e.converter,o0(e._query,this._limit,this._limitType))}}class U0 extends V_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new U0(e,n,r)}_apply(e){const n=xH(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,(o=n,new _l((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class j0 extends V_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new j0(e,n,r)}_apply(e){const n=xH(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,(o=n,new _l((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function xH(t,e,n,r){if(n[0]=(0,zn.Ku)(n[0]),n[0]instanceof L_)return function(o,s,a,l,u){if(!l)throw new Ve(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of If(o))if(g.field.isKeyField())h.push(Fc(s,l.key));else{const m=l.data.field(g.field);if(XE(m))throw new Ve(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const v=g.field.canonicalString();throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new Eu(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Kc(t.firestore);return function(s,a,l,u,h,g){const m=s.explicitOrderBy;if(h.length>m.length)throw new Ve(fe.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let C=0;C<h.length;C++){const A=h[C];if(m[C].field.isKeyField()){if("string"!=typeof A)throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof A}`);if(!AS(s)&&-1!==A.indexOf("/"))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${A}' contains a slash.`);const R=s.path.child(Tn.fromString(A));if(!pt.isDocumentKey(R))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const V=new pt(R);v.push(Fc(a,V))}else{const R=SH(l,u,A);v.push(R)}}return new Eu(v,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function OH(t,e,n){if("string"==typeof(n=(0,zn.Ku)(n))){if(""===n)throw new Ve(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(e)&&-1!==n.indexOf("/"))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tn.fromString(n));if(!pt.isDocumentKey(r))throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fc(t,new pt(r))}if(n instanceof Cr)return Fc(t,n._key);throw new Ve(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N0(n)}.`)}function kH(t,e){if(!Array.isArray(t)||0===t.length)throw new Ve(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FH(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ve(fe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SM{convertValue(e,n="none"){switch(yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new O0(Lr(e.latitude),Lr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ZE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(a_(e));default:return null}}convertTimestamp(e){const n=mu(e);return new Dr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tn.fromString(e);xt(Kj(r));const i=new _u(r.get(1),r.get(3)),o=new pt(r.popFirst(5));return i.isEqual(n)||Kr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function H0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bce extends SM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends L_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new B_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class B_ extends Cl{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new B_(this._firestore,this._userDataWriter,r.key,r,new Yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new B_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new B_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Tce(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function VH(t,e){return t instanceof Cl&&e instanceof Cl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ru&&e instanceof Ru&&t._firestore===e._firestore&&_M(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Mu extends SM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}function $H(t,e,n){t=bn(t,Cr);const r=bn(t.firestore,gr),i=H0(t.converter,e,n);return Wf(r,[F0(Kc(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Sr.none())])}function BH(t,e,n,...r){t=bn(t,Cr);const i=bn(t.firestore,gr),o=Kc(i);let s;return s="string"==typeof(e=(0,zn.Ku)(e))||e instanceof wl?bM(o,"updateDoc",t._key,e,n,r):CM(o,"updateDoc",t._key,e),Wf(i,[s.toMutation(t._key,Sr.exists(!0))])}function UH(t,...e){var n,r,i;t=(0,zn.Ku)(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||vM(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(vM(e[s])){const g=e[s];e[s]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[s+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[s+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let l,u,h;if(t instanceof Cr)u=bn(t.firestore,gr),h=yf(t._key.path),l={next:g=>{e[s]&&e[s](RM(u,t,g))},error:e[s+1],complete:e[s+2]};else{const g=bn(t,Bi);u=bn(g.firestore,gr),h=g._query;const m=new Mu(u);l={next:v=>{e[s]&&e[s](new Ru(u,m,g,v))},error:e[s+1],complete:e[s+2]},NH(t._query)}return function(m,v,C,A){const R=new R0(A),V=new xR(v,R,C);return m.asyncQueue.enqueueAndForget((0,y.A)(function*(){return DR(yield Gf(m),V)})),()=>{R.Qa(),m.asyncQueue.enqueueAndForget((0,y.A)(function*(){return RR(yield Gf(m),V)}))}}(Vr(u),h,a,l)}function Wf(t,e){return function(r,i){const o=new ci;return r.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function Eue(t,e,n){return UR.apply(this,arguments)}(yield pM(r),i,o)})),o.promise}(Vr(t),e)}function RM(t,e,n){const r=n.docs.get(e._key),i=new Mu(t);return new Cl(t,i,e._key,r,new Yc(n.hasPendingWrites,n.fromCache),e.converter)}const zce={maxAttempts:5};class jH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kc(e)}set(e,n,r){this._verifyNotCommitted();const i=Pu(e,this._firestore),o=H0(i.converter,n,r),s=F0(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Sr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Pu(e,this._firestore);let s;return s="string"==typeof(n=(0,zn.Ku)(n))||n instanceof wl?bM(this._dataReader,"WriteBatch.update",o._key,n,r,i):CM(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pu(e,this._firestore);return this._mutations=this._mutations.concat(new Af(n._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pu(t,e){if((t=(0,zn.Ku)(t)).firestore!==e)throw new Ve(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Gce extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Kc(n)}get(n){const r=Pu(n,this._firestore),i=new bce(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Dt();const s=o[0];if(s.isFoundDocument())return new L_(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new L_(this._firestore,i,r._key,null,r.converter);throw Dt()})}set(n,r,i){const o=Pu(n,this._firestore),s=H0(o.converter,r,i),a=F0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Pu(n,this._firestore);let a;return a="string"==typeof(r=(0,zn.Ku)(r))||r instanceof wl?bM(this._dataReader,"Transaction.update",s._key,r,i,o):CM(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Pu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Pu(e,this._firestore),r=new Mu(this._firestore);return super.get(e).then(i=>new Cl(this._firestore,r,n._key,i._document,new Yc(!1,!1),n.converter))}}function PM(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function qH(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function WH(){if(!function Aae(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){df=Yh.SDK_VERSION,(0,Yh._registerComponent)(new nB.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new gr(new Qse(r.getProvider("auth-internal")),new Zse(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ve(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Yh.registerVersion)(IU,"4.5.1",e),(0,Yh.registerVersion)(IU,"4.5.1","esm2017")}();class U_{constructor(e){this._delegate=e}static fromBase64String(e){return WH(),new U_(Ma.fromBase64String(e))}static fromUint8Array(e){return qH(),new U_(Ma.fromUint8Array(e))}toBase64(){return WH(),this._delegate.toBase64()}toUint8Array(){return qH(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function NM(t){return function tde(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class nde{enableIndexedDbPersistence(e,n){return function nce(t,e){bH(t=bn(t,gr));const n=Vr(t);if(n._uninitializedComponentsProvider)throw new Ve(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Hf;return CH(n,i,new aM(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function rce(t){bH(t=bn(t,gr));const e=Vr(t);if(e._uninitializedComponentsProvider)throw new Ve(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Po("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Hf;return CH(e,r,new iH(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ice(t){if(t._initialized&&!t._terminated)throw new Ve(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return t._queue.enqueueAndForgetEvenWhileRestricted((0,y.A)(function*(){try{yield(n=(0,y.A)(function*(i){if(!Es.D())return Promise.resolve();const o=i+"main";yield Es.delete(o)}),function r(i){return n.apply(this,arguments)})(YS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class KH{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _u||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Po("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function yH(t,e,n,r={}){var i;const o=(t=bn(t,x_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Ai.MOCK_USER;else{a=(0,zn.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ve(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ai(u)}t._authCredentials=new Kse(new EU(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function sce(t){return function jue(t){return t.asyncQueue.enqueue((0,y.A)(function*(){const e=yield aH(t),n=yield lH(t);return e.setNetworkEnabled(!0),function(i){const o=ht(i);return o.v_.delete(0),N_(o)}(n)}))}(Vr(t=bn(t,gr)))}(this._delegate)}disableNetwork(){return function ace(t){return function Hue(t){return t.asyncQueue.enqueue((0,y.A)(function*(){const e=yield aH(t),n=yield lH(t);return e.setNetworkEnabled(!1),(r=(0,y.A)(function*(o){const s=ht(o);s.v_.add(0),yield Of(s),s.x_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Vr(t=bn(t,gr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pH("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oce(t){return function(n){const r=new ci;return n.asyncQueue.enqueueAndForget((0,y.A)(function*(){return function Aue(t,e){return qR.apply(this,arguments)}(yield pM(n),r)})),r.promise}(Vr(t=bn(t,gr)))}(this._delegate)}onSnapshotsInSync(e){return function kce(t,e){return function que(t,e){const n=new R0(e);return t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return i=yield Gf(t),o=n,ht(i).W_.add(o),void o.next();var i,o})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return i=yield Gf(t),o=n,void ht(i).W_.delete(o);var i,o}))}}(Vr(t=bn(t,gr)),vM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kf(this,IH(this._delegate,e))}catch(n){throw vo(n,"collection()","Firestore.collection()")}}doc(e){try{return new ws(this,x0(this._delegate,e))}catch(n){throw vo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yo(this,function Zue(t,e){if(t=bn(t,x_),mM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bi(t,null,(r=e,new _l(Tn.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw vo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qce(t,e,n){t=bn(t,gr);const r=Object.assign(Object.assign({},zce),n);return function(o){if(o.maxAttempts<1)throw new Ve(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new ci;return o.asyncQueue.enqueueAndForget((0,y.A)(function*(){const u=yield function uH(t){return P0(t).then(e=>e.datastore)}(o);new Bue(o.asyncQueue,u,a,s,l).Ya()})),l.promise}(Vr(t),i=>e(new Gce(t,i)),r)}(this._delegate,n=>e(new QH(this,n)))}batch(){return Vr(this._delegate),new YH(new jH(this._delegate,e=>Wf(this._delegate,e)))}loadBundle(e){return function lce(t,e){const n=Vr(t=bn(t,gr)),r=new ece;return function Wue(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?Rj().encode(s):s,h=function(h,g){if(h instanceof Uint8Array)return oH(h,g);if(h instanceof ArrayBuffer)return oH(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Vue(h,a);var h}(n,P_(e));t.asyncQueue.enqueueAndForget((0,y.A)(function*(){!function Fue(t,e,n){const r=ht(t);var i;(i=(0,y.A)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(C,A){const R=ht(C),V=Qr(A.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",B=>R.$r.getBundleMetadata(B,A.id)).then(B=>!!B&&B.createTime.compareTo(V)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(C=u).totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}),Promise.resolve(new Set);l._updateProgress(K4(u));const h=new fue(u,s.localStore,a.serializer);let g=yield a.Ba();for(;g;){const v=yield h.sa(g);v&&l._updateProgress(v),g=yield a.Ba()}const m=yield h.complete();return yield El(s,m.aa,void 0),yield function(C,A){const R=ht(C);return R.persistence.runTransaction("Save bundle","readwrite",V=>R.$r.saveBundleMetadata(V,A))}(s.localStore,u),l._completeWith(m.progress),Promise.resolve(m._a)}catch(u){return Po("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var C}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield pM(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function uce(t,e){return function Kue(t,e){return t.asyncQueue.enqueue((0,y.A)(function*(){return function(r,i){const o=ht(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield zf(t),e)}))}(Vr(t=bn(t,gr)),e).then(n=>n?new Bi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new yo(this,n):null)}}class G0 extends SM{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(new Ma(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ws.forKey(n,this.firestore,null)}}class QH{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new G0(e)}get(e){const n=Zc(e);return this._delegate.get(n).then(r=>new j_(this._firestore,new Cl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Zc(e);return r?(PM("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Zc(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Zc(e);return this._delegate.delete(n),this}}class YH{constructor(e){this._delegate=e}set(e,n,r){const i=Zc(e);return r?(PM("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Zc(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Zc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Xc{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new B_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new H_(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Xc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Xc(e,new G0(e),n),i.set(n,o)),o}}Xc.INSTANCES=new WeakMap;class ws{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new G0(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ws(n,new Cr(n._delegate,r,new pt(e)))}static forKey(e,n,r){return new ws(n,new Cr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kf(this.firestore,IH(this._delegate,e))}catch(n){throw vo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zn.Ku)(e))instanceof Cr&&EH(this._delegate,e)}set(e,n){n=PM("DocumentReference.set",n);try{return n?$H(this._delegate,e,n):$H(this._delegate,e)}catch(r){throw vo(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?BH(this._delegate,e):BH(this._delegate,e,n,...r)}catch(i){throw vo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function xce(t){return Wf(bn(t.firestore,gr),[new Af(t._key,Sr.none())])}(this._delegate)}onSnapshot(...e){const n=XH(e),r=ZH(e,i=>new j_(this.firestore,new Cl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return UH(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Sce(t){t=bn(t,Cr);const e=bn(t.firestore,gr),n=Vr(e),r=new Mu(e);return function zue(t,e){const n=new ci;return t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return(r=(0,y.A)(function*(o,s,a){try{const l=yield function(h,g){const m=ht(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,g))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Ve(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=Vf(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield zf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new Cl(e,r,t._key,i,new Yc(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Rce(t){t=bn(t,Cr);const e=bn(t.firestore,gr);return cH(Vr(e),t._key,{source:"server"}).then(n=>RM(e,t,n))}(this._delegate):function Dce(t){t=bn(t,Cr);const e=bn(t.firestore,gr);return cH(Vr(e),t._key).then(n=>RM(e,t,n))}(this._delegate),n.then(r=>new j_(this.firestore,new Cl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function vo(t,e,n){return t.message=t.message.replace(e,n),t}function XH(t){for(const e of t)if("object"==typeof e&&!NM(e))return e;return{}}function ZH(t,e){var n,r;let i;return i=NM(t[0])?t[0]:NM(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class j_{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return VH(this._delegate,e._delegate)}}class H_ extends j_{data(e){const n=this._delegate.data(e);return this._delegate._converter||function qse(t,e){t||Dt()}(void 0!==n),n}}class yo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new G0(e)}where(e,n,r){try{return new yo(this.firestore,Su(this._delegate,function mce(t,e,n){const r=e,i=$0("where",t);return $_._create(i,r,n)}(e,n,r)))}catch(i){throw vo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new yo(this.firestore,Su(this._delegate,function _ce(t,e="asc"){const n=e,r=$0("orderBy",t);return DM._create(r,n)}(e,n)))}catch(r){throw vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yo(this.firestore,Su(this._delegate,function vce(t){return _H("limit",t),B0._create("limit",t,"F")}(e)))}catch(n){throw vo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new yo(this.firestore,Su(this._delegate,function yce(t){return _H("limitToLast",t),B0._create("limitToLast",t,"L")}(e)))}catch(n){throw vo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yo(this.firestore,Su(this._delegate,function Ice(...t){return U0._create("startAt",t,!0)}(...e)))}catch(n){throw vo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yo(this.firestore,Su(this._delegate,function Ece(...t){return U0._create("startAfter",t,!1)}(...e)))}catch(n){throw vo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yo(this.firestore,Su(this._delegate,function wce(...t){return j0._create("endBefore",t,!1)}(...e)))}catch(n){throw vo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yo(this.firestore,Su(this._delegate,function Cce(...t){return j0._create("endAt",t,!0)}(...e)))}catch(n){throw vo(n,"endAt()","Query.endAt()")}}isEqual(e){return _M(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Pce(t){t=bn(t,Bi);const e=bn(t.firestore,gr),n=Vr(e),r=new Mu(e);return function Gue(t,e){const n=new ci;return t.asyncQueue.enqueueAndForget((0,y.A)(function*(){return(r=(0,y.A)(function*(o,s,a){try{const l=yield E0(o,s,!0),u=new X4(s,l.hs),h=u.Ta(l.documents),g=u.applyChanges(h,!1);a.resolve(g.snapshot)}catch(l){const u=Vf(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield zf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Ru(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function Nce(t){t=bn(t,Bi);const e=bn(t.firestore,gr),n=Vr(e),r=new Mu(e);return dH(n,t._query,{source:"server"}).then(i=>new Ru(e,r,t,i))}(this._delegate):function Mce(t){t=bn(t,Bi);const e=bn(t.firestore,gr),n=Vr(e),r=new Mu(e);return NH(t._query),dH(n,t._query).then(i=>new Ru(e,r,t,i))}(this._delegate),n.then(r=>new xM(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=XH(e),r=ZH(e,i=>new xM(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return UH(this._delegate,n,r)}withConverter(e){return new yo(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}class ide{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new H_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xM{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new yo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new H_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new ide(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new H_(this._firestore,r))})}isEqual(e){return VH(this._delegate,e._delegate)}}class Kf extends yo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ws(this.firestore,e):null}doc(e){try{return new ws(this.firestore,void 0===e?x0(this._delegate):x0(this._delegate,e))}catch(n){throw vo(n,"doc()","CollectionReference.doc()")}}add(e){return function Oce(t,e){const n=bn(t.firestore,gr),r=x0(t),i=H0(t.converter,e);return Wf(n,[F0(Kc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ws(this.firestore,n))}isEqual(e){return EH(this._delegate,e._delegate)}withConverter(e){return new Kf(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function Zc(t){return bn(t,Cr)}class OM{constructor(...e){this._delegate=new wl(...e)}static documentId(){return new OM(Er.keyField().canonicalString())}isEqual(e){return(e=(0,zn.Ku)(e))instanceof wl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Kce(){return new yM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jc(e)}static delete(){const e=function Wce(){return new k_("deleteField")}();return e._methodName="FieldValue.delete",new Jc(e)}static arrayUnion(...e){const n=function Qce(...t){return new IM("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Jc(n)}static arrayRemove(...e){const n=function Yce(...t){return new EM("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Jc(n)}static increment(e){const n=function Xce(t){return new wM("increment",t)}(e);return n._methodName="FieldValue.increment",new Jc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ode={Firestore:KH,GeoPoint:O0,Timestamp:Dr,Blob:U_,Transaction:QH,WriteBatch:YH,DocumentReference:ws,DocumentSnapshot:j_,Query:yo,QueryDocumentSnapshot:H_,QuerySnapshot:xM,CollectionReference:Kf,FieldPath:OM,FieldValue:Jc,setLogLevel:function rde(t){!function Gse(t){hu.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function JH(t,e){return function lde(t,e=t$){return new Nn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function kM(t,e){return JH(t,e).pipe(St(n=>({payload:n,type:"query"})))}!function ade(t){(function sde(t,e){t.INTERNAL.registerComponent(new nB.uA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ode)))})(t,(e,n)=>new KH(e,n,new nde)),t.registerVersion("@firebase/firestore-compat","0.3.28")}(au.A);class ez{constructor(e,n){Mn(this,"ref",void 0),Mn(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=iz(r,n);return new rz(i,o,this.afs)}snapshotChanges(){return function ude(t,e){return JH(t,e).pipe(BI(void 0),bD(),St(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qo)}valueChanges(e={}){return this.snapshotChanges().pipe(St(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return yr(this.ref.get(e)).pipe(Qo)}}function q0(t,e){return kM(t,e).pipe(BI(void 0),bD(),St(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(g=>g.doc.ref.isEqual(a.ref)),h=null==r?void 0:r.payload.docs.find(g=>g.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function tz(t,e,n){return q0(t,n).pipe(jI((r,i)=>function cde(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function dde(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return FM(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return FM(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FM(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),x2(),St(r=>r.map(i=>({type:i.type,payload:i}))))}function FM(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function nz(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class rz{constructor(e,n,r){Mn(this,"ref",void 0),Mn(this,"query",void 0),Mn(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=q0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(St(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(BI(void 0),bD(),Wo(([r,i])=>i.length>0||!r),St(([,r])=>r),Qo)}auditTrail(e){return this.stateChanges(e).pipe(jI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=nz(e);return tz(this.query,n,this.afs.schedulers.outsideAngular).pipe(Qo)}valueChanges(e={}){return kM(this.query,this.afs.schedulers.outsideAngular).pipe(St(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Qo)}get(e){return yr(this.query.get(e)).pipe(Qo)}add(e){return this.ref.add(e)}doc(e){return new ez(this.ref.doc(e),this.afs)}}class hde{constructor(e,n){Mn(this,"query",void 0),Mn(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?q0(this.query,this.afs.schedulers.outsideAngular).pipe(St(n=>n.filter(r=>e.indexOf(r.type)>-1)),Wo(n=>n.length>0),Qo):q0(this.query,this.afs.schedulers.outsideAngular).pipe(Qo)}auditTrail(e){return this.stateChanges(e).pipe(jI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=nz(e);return tz(this.query,n,this.afs.schedulers.outsideAngular).pipe(Qo)}valueChanges(e={}){return kM(this.query,this.afs.schedulers.outsideAngular).pipe(St(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Qo)}get(e){return yr(this.query.get(e)).pipe(Qo)}}const fde=new ot("angularfire2.enableFirestorePersistence"),pde=new ot("angularfire2.firestore.persistenceSettings"),gde=new ot("angularfire2.firestore.settings"),mde=new ot("angularfire2.firestore.use-emulator");function iz(t,e=(n=>n)){return{query:e(t),ref:t}}let _de=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,C,A,R,V,B,ge){Mn(this,"schedulers",void 0),Mn(this,"firestore",void 0),Mn(this,"persistenceEnabled$",void 0),this.schedulers=u;const me=XT(r,l,i),Ge=g;m&&m$(me,l,v,A,R,V,C,B),[this.firestore,this.persistenceEnabled$]=s$(`${me.name}.firestore`,"AngularFirestore",me.name,()=>{const wt=l.runOutsideAngular(()=>me.firestore());if(s&&wt.settings(s),Ge&&wt.useEmulator(...Ge),o&&!bI(a)){const Xt=()=>{try{return yr(wt.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(In){return typeof console<"u"&&console.warn(In),jt(!1)}};return[wt,l.runOutsideAngular(Xt)]}return[wt,jt(!1)]},[s,Ge,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=iz(o,i),l=this.schedulers.ngZone.run(()=>s);return new rz(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new hde(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new ez(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,Mn(e,"\u0275fac",function(r){return new(r||t)(Xe(sE),Xe(aE,8),Xe(fde,8),Xe(gde,8),Xe(la),Xe(Re),Xe(i$),Xe(pde,8),Xe(mde,8),Xe(Jh,8),Xe(c$,8),Xe(d$,8),Xe(h$,8),Xe(f$,8),Xe(p$,8),Xe(g$,8),Xe(n$,8))}),Mn(e,"\u0275prov",Oe({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const vde=[{path:"",redirectTo:"splash",pathMatch:"full"},{path:"splash",component:xoe},{path:"home",component:Foe},{path:"log",component:Loe},{path:"login",component:Voe},{path:"register",component:(()=>{var t;class e{constructor(r,i,o){this.afAuth=r,this.router=i,this.firestore=o}register(){var r=this;return(0,y.A)(function*(){const o=document.getElementById("register-email").value,a=document.getElementById("password1").value;if(a===document.getElementById("password2").value)try{const g=(yield r.afAuth.createUserWithEmailAndPassword(o,a)).user;if(g){const m=g.uid,C=document.getElementById("name_input1").value,R=document.getElementById("username_input1").value,B=document.getElementById("phone_input1").value,ge=g.uid,me={uid:m,mail:o,name:C,username:R,phone:B};yield r.firestore.collection("users_data").doc(ge).set(me),console.log("Account registrato con successo"),r.router.navigate(["/home"])}else console.error("L'utente \xe8 null")}catch(h){alert("Errore durante la registrazione: "+h.message)}else alert("Le password inserite non corrispondono")})()}toLogin(){this.router.navigate(["/login"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Jh),E(Wr),E(_de))},t.\u0275cmp=Ke({type:t,selectors:[["app-register"]],decls:32,vars:0,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","position","fixed","display","flex","flex-direction","column","align-items","center"],["src","assets\\img\\undraw_referral_re_0aji.svg",2,"width","15rem","margin-top","2rem","margin-bottom","2rem"],[1,"card1",2,"width","92%"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["name","person-circle-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["name","mail-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","register-email","type","email","placeholder","Email",1,"field1"],["name","call-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["name","key-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","password1","type","password","placeholder","Password",1,"field1"],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center",3,"click"],[1,"div1",2,"margin-left","0rem"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-bottom","2rem"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(cn(0,"body")(1,"div",0),Gr(2,"img",1),cn(3,"div",2)(4,"h1",3),kr(5,"Il tuo nuovo account"),Cn(),cn(6,"div",4),Gr(7,"ion-icon",5)(8,"input",6),Cn(),cn(9,"div",4),Gr(10,"ion-icon",5)(11,"input",7),Cn(),cn(12,"div",4),Gr(13,"ion-icon",8)(14,"input",9),Cn(),cn(15,"div",4),Gr(16,"ion-icon",10)(17,"input",11),Cn(),cn(18,"div",4),Gr(19,"ion-icon",12)(20,"input",13),Cn(),cn(21,"div",4),Gr(22,"ion-icon",12)(23,"input",14),Cn(),cn(24,"button",15),Kn("click",function(){return i.register()}),cn(25,"div",16)(26,"p",17),kr(27,"Registrati"),Cn()()()(),cn(28,"p",18),kr(29,"Hai gi\xe0 un account?"),cn(30,"strong",19),Kn("click",function(){return i.toLogin()}),kr(31,"Accedi"),Cn()()()())},dependencies:[Tm]}),e})()}];let yde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Sn({imports:[I2.forRoot(vde,{preloadingStrategy:zJ}),I2]}),e})(),Ide=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=$o({type:t,bootstrap:[Noe]}),t.\u0275inj=Sn({providers:[{provide:pa,useClass:mF}],imports:[eL,are.forRoot(),yde,Poe,Rre.initializeApp(tB_firebaseConfig),Fre]}),e})();nY().bootstrapModule(Ide).catch(t=>console.log(t))},8996:(Fn,Ot,ae)=>{var y={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function Fe(_e){if(!ae.o(y,_e))return Promise.resolve().then(()=>{var qe=new Error("Cannot find module '"+_e+"'");throw qe.code="MODULE_NOT_FOUND",qe});var z=y[_e],bt=z[0];return Promise.all(z.slice(1).map(ae.e)).then(()=>ae(bt))}Fe.keys=()=>Object.keys(y),Fe.id=8996,Fn.exports=Fe},3345:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{A:()=>Ce});var y=ae(1076),Fe=ae(1362),_e=ae(7852),z=ae(8041);class bt{constructor(Z,G){this._delegate=Z,this.firebase=G,(0,_e._addComponent)(Z,new Fe.uA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_e.deleteApp)(this._delegate)))}_getService(Z,G=_e._DEFAULT_ENTRY_NAME){var X;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(Z);return!ke.isInitialized()&&"EXPLICIT"===(null===(X=ke.getComponent())||void 0===X?void 0:X.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:G})}_removeServiceInstance(Z,G=_e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(G)}_addComponent(Z){(0,_e._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,_e._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new y.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Ze(){const Se=function We(Se){const Z={},G={__esModule:!0,initializeApp:function Ne(S,N={}){const U=_e.initializeApp(S,N);if((0,y.gR)(Z,U.name))return Z[U.name];const T=new Se(U,G);return Z[U.name]=T,T},app:ke,registerVersion:_e.registerVersion,setLogLevel:_e.setLogLevel,onLog:_e.onLog,apps:null,SDK_VERSION:_e.SDK_VERSION,INTERNAL:{registerComponent:function Pe(S){const N=S.name,U=N.replace("-compat","");if(_e._registerComponent(S)&&"PUBLIC"===S.type){const T=(ee=ke())=>{if("function"!=typeof ee[U])throw H.create("invalid-app-argument",{appName:N});return ee[U]()};void 0!==S.serviceProps&&(0,y.zw)(T,S.serviceProps),G[U]=T,Se.prototype[U]=function(...ee){return this._getService.bind(this,N).apply(this,S.multipleInstances?ee:[])}}return"PUBLIC"===S.type?G[U]:null},removeApp:function X(S){delete Z[S]},useAsService:function Ye(S,N){return"serverAuth"===N?null:N},modularAPIs:_e}};function ke(S){if(!(0,y.gR)(Z,S=S||_e._DEFAULT_ENTRY_NAME))throw H.create("no-app",{appName:S});return Z[S]}return G.default=G,Object.defineProperty(G,"apps",{get:function Ue(){return Object.keys(Z).map(S=>Z[S])}}),ke.App=Se,G}(bt);return Se.INTERNAL=Object.assign(Object.assign({},Se.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function Z(G){(0,y.zw)(Se,G)},createSubscribe:y.tD,ErrorFactory:y.FA,deepExtend:y.zw}),Se}(),W=new z.Vy("@firebase/app-compat");if((0,y.Bd)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=te;!function ve(Se){(0,_e.registerVersion)("@firebase/app-compat","0.2.30",Se)}()},7852:(Fn,Ot,ae)=>{"use strict";ae.r(Ot),ae.d(Ot,{FirebaseError:()=>z.g,SDK_VERSION:()=>Ui,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>Rr,_addOrOverwriteComponent:()=>fi,_apps:()=>Ln,_clearComponents:()=>br,_components:()=>Br,_getProvider:()=>no,_isFirebaseApp:()=>Yr,_isFirebaseServerApp:()=>ro,_registerComponent:()=>si,_removeServiceInstance:()=>pi,_serverApps:()=>mr,deleteApp:()=>ko,getApp:()=>ns,getApps:()=>Nn,initializeApp:()=>lr,initializeServerApp:()=>Oo,onLog:()=>M,registerVersion:()=>F,setLogLevel:()=>L});var y=ae(467),Fe=ae(1362),_e=ae(8041),z=ae(1076);const bt=(ne,Q)=>Q.some(De=>ne instanceof De);let qe,H;const te=new WeakMap,W=new WeakMap,Ie=new WeakMap,ue=new WeakMap,ve=new WeakMap;let Z={get(ne,Q,De){if(ne instanceof IDBTransaction){if("done"===Q)return W.get(ne);if("objectStoreNames"===Q)return ne.objectStoreNames||Ie.get(ne);if("store"===Q)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ne(ne[Q])},set:(ne,Q,De)=>(ne[Q]=De,!0),has:(ne,Q)=>ne instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in ne};function ke(ne){return"function"==typeof ne?function X(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...Q){return ne.apply(Ue(this),Q),Ne(te.get(this))}:function(...Q){return Ne(ne.apply(Ue(this),Q))}:function(Q,...De){const st=ne.call(Ue(this),Q,...De);return Ie.set(st,Q.sort?Q.sort():[Q]),Ne(st)}}(ne):(ne instanceof IDBTransaction&&function Se(ne){if(W.has(ne))return;const Q=new Promise((De,st)=>{const Rt=()=>{ne.removeEventListener("complete",qt),ne.removeEventListener("error",vt),ne.removeEventListener("abort",vt)},qt=()=>{De(),Rt()},vt=()=>{st(ne.error||new DOMException("AbortError","AbortError")),Rt()};ne.addEventListener("complete",qt),ne.addEventListener("error",vt),ne.addEventListener("abort",vt)});W.set(ne,Q)}(ne),bt(ne,function We(){return qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Z):ne)}function Ne(ne){if(ne instanceof IDBRequest)return function Ce(ne){const Q=new Promise((De,st)=>{const Rt=()=>{ne.removeEventListener("success",qt),ne.removeEventListener("error",vt)},qt=()=>{De(Ne(ne.result)),Rt()},vt=()=>{st(ne.error),Rt()};ne.addEventListener("success",qt),ne.addEventListener("error",vt)});return Q.then(De=>{De instanceof IDBCursor&&te.set(De,ne)}).catch(()=>{}),ve.set(Q,ne),Q}(ne);if(ue.has(ne))return ue.get(ne);const Q=ke(ne);return Q!==ne&&(ue.set(ne,Q),ve.set(Q,ne)),Q}const Ue=ne=>ve.get(ne),S=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],U=new Map;function T(ne,Q){if(!(ne instanceof IDBDatabase)||Q in ne||"string"!=typeof Q)return;if(U.get(Q))return U.get(Q);const De=Q.replace(/FromIndex$/,""),st=Q!==De,Rt=N.includes(De);if(!(De in(st?IDBIndex:IDBObjectStore).prototype)||!Rt&&!S.includes(De))return;const qt=function(){var vt=(0,y.A)(function*(un,...Gn){const Ut=this.transaction(un,Rt?"readwrite":"readonly");let Vn=Ut.store;return st&&(Vn=Vn.index(Gn.shift())),(yield Promise.all([Vn[De](...Gn),Rt&&Ut.done]))[0]});return function(Gn){return vt.apply(this,arguments)}}();return U.set(Q,qt),qt}!function G(ne){Z=ne(Z)}(ne=>({...ne,get:(Q,De,st)=>T(Q,De)||ne.get(Q,De,st),has:(Q,De)=>!!T(Q,De)||ne.has(Q,De)}));class ee{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function J(ne){const Q=ne.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}(De)){const st=De.getImmediate();return`${st.library}/${st.version}`}return null}).filter(De=>De).join(" ")}}const de="@firebase/app",ze="0.10.0",It=new _e.Vy("@firebase/app"),Qt="[DEFAULT]",Qn={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ln=new Map,mr=new Map,Br=new Map;function Rr(ne,Q){try{ne.container.addComponent(Q)}catch(De){It.debug(`Component ${Q.name} failed to register with FirebaseApp ${ne.name}`,De)}}function fi(ne,Q){ne.container.addOrOverwriteComponent(Q)}function si(ne){const Q=ne.name;if(Br.has(Q))return It.debug(`There were multiple attempts to register component ${Q}.`),!1;Br.set(Q,ne);for(const De of Ln.values())Rr(De,ne);for(const De of mr.values())Rr(De,ne);return!0}function no(ne,Q){const De=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),ne.container.getProvider(Q)}function pi(ne,Q,De=Qt){no(ne,Q).clearInstance(De)}function Yr(ne){return void 0!==ne.options}function ro(ne){return void 0!==ne.settings}function br(){Br.clear()}const Ar=new z.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Io{constructor(Q,De,st){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new Fe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}class bs extends Io{constructor(Q,De,st,Rt){const qt=void 0!==De.automaticDataCollectionEnabled&&De.automaticDataCollectionEnabled,vt={name:st,automaticDataCollectionEnabled:qt};super(void 0!==Q.apiKey?Q:Q.options,vt,Rt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:qt},De),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,De.releaseOnDeref=void 0,F(de,ze,"serverapp")}get refCount(){return this._refCount}incRefCount(Q){this.isDeleted||(this._refCount++,void 0!==Q&&this._finalizationRegistry.register(Q,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ko(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ar.create("server-app-deleted")}}const Ui="10.10.0";function lr(ne,Q={}){let De=ne;"object"!=typeof Q&&(Q={name:Q});const st=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},Q),Rt=st.name;if("string"!=typeof Rt||!Rt)throw Ar.create("bad-app-name",{appName:String(Rt)});if(De||(De=(0,z.T9)()),!De)throw Ar.create("no-options");const qt=Ln.get(Rt);if(qt){if((0,z.bD)(De,qt.options)&&(0,z.bD)(st,qt.config))return qt;throw Ar.create("duplicate-app",{appName:Rt})}const vt=new Fe.h1(Rt);for(const Gn of Br.values())vt.addComponent(Gn);const un=new Io(De,st,vt);return Ln.set(Rt,un),un}function Oo(ne,Q){if((0,z.Bd)())throw Ar.create("invalid-server-app-environment");let De;void 0===Q.automaticDataCollectionEnabled&&(Q.automaticDataCollectionEnabled=!1),De=Yr(ne)?ne.options:ne;const st=Object.assign(Object.assign({},Q),De);if(void 0!==st.releaseOnDeref&&delete st.releaseOnDeref,void 0!==Q.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ar.create("finalization-registry-not-supported",{});const qt=""+(Ut=JSON.stringify(st),[...Ut].reduce((Vn,Lt)=>Math.imul(31,Vn)+Lt.charCodeAt(0)|0,0)),vt=mr.get(qt);var Ut;if(vt)return vt.incRefCount(Q.releaseOnDeref),vt;const un=new Fe.h1(qt);for(const Ut of Br.values())un.addComponent(Ut);const Gn=new bs(De,Q,qt,un);return mr.set(qt,Gn),Gn}function ns(ne=Qt){const Q=Ln.get(ne);if(!Q&&ne===Qt&&(0,z.T9)())return lr();if(!Q)throw Ar.create("no-app",{appName:ne});return Q}function Nn(){return Array.from(Ln.values())}function ko(ne){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,y.A)(function*(ne){let Q=!1;const De=ne.name;Ln.has(De)?(Q=!0,Ln.delete(De)):mr.has(De)&&ne.decRefCount()<=0&&(mr.delete(De),Q=!0),Q&&(yield Promise.all(ne.container.getProviders().map(st=>st.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function F(ne,Q,De){var st;let Rt=null!==(st=Qn[ne])&&void 0!==st?st:ne;De&&(Rt+=`-${De}`);const qt=Rt.match(/\s|\//),vt=Q.match(/\s|\//);if(qt||vt){const un=[`Unable to register library "${Rt}" with version "${Q}":`];return qt&&un.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),qt&&vt&&un.push("and"),vt&&un.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void It.warn(un.join(" "))}si(new Fe.uA(`${Rt}-version`,()=>({library:Rt,version:Q}),"VERSION"))}function M(ne,Q){if(null!==ne&&"function"!=typeof ne)throw Ar.create("invalid-log-argument");(0,_e.Ey)(ne,Q)}function L(ne){(0,_e.He)(ne)}const we="firebase-heartbeat-database",K=1,rt="firebase-heartbeat-store";let ut=null;function Gt(){return ut||(ut=function Pe(ne,Q,{blocked:De,upgrade:st,blocking:Rt,terminated:qt}={}){const vt=indexedDB.open(ne,Q),un=Ne(vt);return st&&vt.addEventListener("upgradeneeded",Gn=>{st(Ne(vt.result),Gn.oldVersion,Gn.newVersion,Ne(vt.transaction),Gn)}),De&&vt.addEventListener("blocked",Gn=>De(Gn.oldVersion,Gn.newVersion,Gn)),un.then(Gn=>{qt&&Gn.addEventListener("close",()=>qt()),Rt&&Gn.addEventListener("versionchange",Ut=>Rt(Ut.oldVersion,Ut.newVersion,Ut))}).catch(()=>{}),un}(we,K,{upgrade:(ne,Q)=>{if(0===Q)try{ne.createObjectStore(rt)}catch(De){console.warn(De)}}}).catch(ne=>{throw Ar.create("idb-open",{originalErrorMessage:ne.message})})),ut}function St(){return(St=(0,y.A)(function*(ne){try{const De=(yield Gt()).transaction(rt),st=yield De.objectStore(rt).get(ie(ne));return yield De.done,st}catch(Q){if(Q instanceof z.g)It.warn(Q.message);else{const De=Ar.create("idb-get",{originalErrorMessage:null==Q?void 0:Q.message});It.warn(De.message)}}})).apply(this,arguments)}function Mr(ne,Q){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,y.A)(function*(ne,Q){try{const st=(yield Gt()).transaction(rt,"readwrite");yield st.objectStore(rt).put(Q,ie(ne)),yield st.done}catch(De){if(De instanceof z.g)It.warn(De.message);else{const st=Ar.create("idb-set",{originalErrorMessage:null==De?void 0:De.message});It.warn(st.message)}}})).apply(this,arguments)}function ie(ne){return`${ne.name}!${ne.options.appId}`}class Fo{constructor(Q){this.container=Q,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new wo(De),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var Q=this;return(0,y.A)(function*(){var De,st;const qt=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=js();if((null!=(null===(De=Q._heartbeatsCache)||void 0===De?void 0:De.heartbeats)||(Q._heartbeatsCache=yield Q._heartbeatsCachePromise,null!=(null===(st=Q._heartbeatsCache)||void 0===st?void 0:st.heartbeats)))&&Q._heartbeatsCache.lastSentHeartbeatDate!==vt&&!Q._heartbeatsCache.heartbeats.some(un=>un.date===vt))return Q._heartbeatsCache.heartbeats.push({date:vt,agent:qt}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(un=>{const Gn=new Date(un.date).valueOf();return Date.now()-Gn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,y.A)(function*(){var De;if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null==(null===(De=Q._heartbeatsCache)||void 0===De?void 0:De.heartbeats)||0===Q._heartbeatsCache.heartbeats.length)return"";const st=js(),{heartbeatsToSend:Rt,unsentEntries:qt}=function Na(ne,Q=1024){const De=[];let st=ne.slice();for(const Rt of ne){const qt=De.find(vt=>vt.agent===Rt.agent);if(qt){if(qt.dates.push(Rt.date),gi(De)>Q){qt.dates.pop();break}}else if(De.push({agent:Rt.agent,dates:[Rt.date]}),gi(De)>Q){De.pop();break}st=st.slice(1)}return{heartbeatsToSend:De,unsentEntries:st}}(Q._heartbeatsCache.heartbeats),vt=(0,z.Uj)(JSON.stringify({version:2,heartbeats:Rt}));return Q._heartbeatsCache.lastSentHeartbeatDate=st,qt.length>0?(Q._heartbeatsCache.heartbeats=qt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),vt})()}}function js(){return(new Date).toISOString().substring(0,10)}class wo{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.A)(function*(){return!!(0,z.zW)()&&(0,z.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,y.A)(function*(){if(yield Q._canUseIndexedDBPromise){const st=yield function xn(ne){return St.apply(this,arguments)}(Q.app);return null!=st&&st.heartbeats?st:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Q){var De=this;return(0,y.A)(function*(){var st;if(yield De._canUseIndexedDBPromise){const qt=yield De.read();return Mr(De.app,{lastSentHeartbeatDate:null!==(st=Q.lastSentHeartbeatDate)&&void 0!==st?st:qt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var De=this;return(0,y.A)(function*(){var st;if(yield De._canUseIndexedDBPromise){const qt=yield De.read();return Mr(De.app,{lastSentHeartbeatDate:null!==(st=Q.lastSentHeartbeatDate)&&void 0!==st?st:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Q.heartbeats]})}})()}}function gi(ne){return(0,z.Uj)(JSON.stringify({version:2,heartbeats:ne})).length}!function Si(ne){si(new Fe.uA("platform-logger",Q=>new ee(Q),"PRIVATE")),si(new Fe.uA("heartbeat",Q=>new Fo(Q),"PRIVATE")),F(de,ze,ne),F(de,ze,"esm2017"),F("fire-js","")}("")},1362:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{h1:()=>We,uA:()=>_e});var y=ae(467),Fe=ae(1076);class _e{constructor(te,W,Ie){this.name=te,this.instanceFactory=W,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const z="[DEFAULT]";class bt{constructor(te,W){this.name=te,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const W=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(W)){const Ie=new Fe.cY;if(this.instancesDeferred.set(W,Ie),this.isInitialized(W)||this.shouldAutoInitialize())try{const ue=this.getOrInitializeService({instanceIdentifier:W});ue&&Ie.resolve(ue)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(te){var W;const Ie=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),ue=null!==(W=null==te?void 0:te.optional)&&void 0!==W&&W;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(ve){if(ue)return null;throw ve}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function H(Ze){return"EAGER"===Ze.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[W,Ie]of this.instancesDeferred.entries()){const ue=this.normalizeInstanceIdentifier(W);try{const ve=this.getOrInitializeService({instanceIdentifier:ue});Ie.resolve(ve)}catch{}}}}clearInstance(te=z){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,y.A)(function*(){const W=Array.from(te.instances.values());yield Promise.all([...W.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...W.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=z){return this.instances.has(te)}getOptions(te=z){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:W={}}=te,Ie=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ue=this.getOrInitializeService({instanceIdentifier:Ie,options:W});for(const[ve,Ce]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(ve)&&Ce.resolve(ue);return ue}onInit(te,W){var Ie;const ue=this.normalizeInstanceIdentifier(W),ve=null!==(Ie=this.onInitCallbacks.get(ue))&&void 0!==Ie?Ie:new Set;ve.add(te),this.onInitCallbacks.set(ue,ve);const Ce=this.instances.get(ue);return Ce&&te(Ce,ue),()=>{ve.delete(te)}}invokeOnInitCallbacks(te,W){const Ie=this.onInitCallbacks.get(W);if(Ie)for(const ue of Ie)try{ue(te,W)}catch{}}getOrInitializeService({instanceIdentifier:te,options:W={}}){let Ie=this.instances.get(te);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=te,Ze===z?void 0:Ze),options:W}),this.instances.set(te,Ie),this.instancesOptions.set(te,W),this.invokeOnInitCallbacks(Ie,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Ie)}catch{}var Ze;return Ie||null}normalizeInstanceIdentifier(te=z){return this.component?this.component.multipleInstances?te:z:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const W=this.getProvider(te.name);if(W.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);W.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const W=new bt(te,this);return this.providers.set(te,W),W}getProviders(){return Array.from(this.providers.values())}}},8041:(Fn,Ot,ae)=>{"use strict";ae.d(Ot,{$b:()=>Fe,Ey:()=>Ze,He:()=>We,Vy:()=>H});const y=[];var Fe=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(Fe||{});const _e={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},z=Fe.INFO,bt={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},qe=(te,W,...Ie)=>{if(W<te.logLevel)return;const ue=(new Date).toISOString(),ve=bt[W];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ve](`[${ue}]  ${te.name}:`,...Ie)};class H{constructor(W){this.name=W,this._logLevel=z,this._logHandler=qe,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in Fe))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?_e[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...W),this._logHandler(this,Fe.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...W),this._logHandler(this,Fe.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...W),this._logHandler(this,Fe.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...W),this._logHandler(this,Fe.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...W),this._logHandler(this,Fe.ERROR,...W)}}function We(te){y.forEach(W=>{W.setLogLevel(te)})}function Ze(te,W){for(const Ie of y){let ue=null;W&&W.level&&(ue=_e[W.level]),Ie.userLogHandler=null===te?null:(ve,Ce,...Se)=>{const Z=Se.map(G=>{if(null==G)return null;if("string"==typeof G)return G;if("number"==typeof G||"boolean"==typeof G)return G.toString();if(G instanceof Error)return G.message;try{return JSON.stringify(G)}catch{return null}}).filter(G=>G).join(" ");Ce>=(null!=ue?ue:ve.logLevel)&&te({level:Fe[Ce].toLowerCase(),message:Z,args:Se,type:ve.name})}}}},3371:(Fn,Ot,ae)=>{"use strict";ae.r(Ot);var y=ae(467),Fe=ae(3345),_e=ae(7852),z=ae(1076),bt=ae(8041),qe=ae(1635),H=ae(1362);const Ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ce=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Se=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Z=new z.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),X=new bt.Vy("@firebase/auth");function Ne(f,...c){X.logLevel<=bt.$b.ERROR&&X.error(`Auth (${_e.SDK_VERSION}): ${f}`,...c)}function Ue(f,...c){throw U(f,...c)}function Pe(f,...c){return U(f,...c)}function Ye(f,c,d){const p=Object.assign(Object.assign({},Se()),{[c]:d});return new z.FA("auth","Firebase",p).create(c,{appName:f.name})}function S(f){return Ye(f,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&Ue(f,"argument-error"),Ye(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return Z.create(f,...c)}function T(f,c,...d){if(!f)throw U(c,...d)}function ee(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Ne(c),new Error(c)}function J(f,c){f||ee(c)}function de(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function ze(){return"http:"===It()||"https:"===It()}function It(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class O{constructor(c,d){this.shortDelay=c,this.longDelay=d,J(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,z.jZ)()||(0,z.lV)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ze()||(0,z.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function D(f,c){J(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class x{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new O(3e4,6e4);function q(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function Me(f,c,d,p){return at.apply(this,arguments)}function at(){return(at=(0,y.A)(function*(f,c,d,p,_={}){return Je(f,_,(0,y.A)(function*(){let w={},P={};p&&("GET"===c?P=p:w={body:JSON.stringify(p)});const Y=(0,z.Am)(Object.assign({key:f.config.apiKey},P)).slice(1),Ae=yield f._getAdditionalHeaders();return Ae["Content-Type"]="application/json",f.languageCode&&(Ae["X-Firebase-Locale"]=f.languageCode),x.fetch()(gt(f,f.config.apiHost,d,Y),Object.assign({method:c,headers:Ae,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function Je(f,c,d){return Et.apply(this,arguments)}function Et(){return(Et=(0,y.A)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},j),c);try{const _=new Ht(f),w=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const P=yield w.json();if("needConfirmation"in P)throw Ee(f,"account-exists-with-different-credential",P);if(w.ok&&!("errorMessage"in P))return P;{const Y=w.ok?P.errorMessage:P.error.message,[Ae,lt]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Ee(f,"credential-already-in-use",P);if("EMAIL_EXISTS"===Ae)throw Ee(f,"email-already-in-use",P);if("USER_DISABLED"===Ae)throw Ee(f,"user-disabled",P);const Qe=p[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Ye(f,Qe,lt);Ue(f,Qe)}}catch(_){if(_ instanceof z.g)throw _;Ue(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Mt(f,c,d,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,y.A)(function*(f,c,d,p,_={}){const w=yield Me(f,c,d,p,_);return"mfaPendingCredential"in w&&Ue(f,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function gt(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?D(f.config,_):`${f.config.apiScheme}://${_}`}function fn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ht{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Pe(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ee(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Pe(f,c,p);return _.customData._tokenResponse=d,_}function le(f){return void 0!==f&&void 0!==f.getResponse}function pe(f){return void 0!==f&&void 0!==f.enterprise}class mt{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return fn(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function pn(){return(pn=(0,y.A)(function*(f){return(yield Me(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rn(f,c){return vn.apply(this,arguments)}function vn(){return(vn=(0,y.A)(function*(f,c){return Me(f,"GET","/v2/recaptchaConfig",q(f,c))})).apply(this,arguments)}function Qn(){return(Qn=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function mr(){return(mr=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Br(f,c){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function fi(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function pi(){return(pi=(0,y.A)(function*(f,c=!1){const d=(0,z.Ku)(f),p=yield d.getIdToken(c),_=ro(p);T(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,P=null==w?void 0:w.sign_in_provider;return{claims:_,token:p,authTime:fi(Yr(_.auth_time)),issuedAtTime:fi(Yr(_.iat)),expirationTime:fi(Yr(_.exp)),signInProvider:P||null,signInSecondFactor:(null==w?void 0:w.sign_in_second_factor)||null}})).apply(this,arguments)}function Yr(f){return 1e3*Number(f)}function ro(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,z.u)(d);return _?JSON.parse(_):(Ne("Failed to decode base64 JWT payload"),null)}catch(_){return Ne("Caught error parsing JWT payload as JSON",null==_?void 0:_.toString()),null}}function br(f){const c=ro(f);return T(c,"internal-error"),T(typeof c.exp<"u","internal-error"),T(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function xr(f,c){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,y.A)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof z.g&&function Io({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class bs{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,y.A)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,y.A)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===(null==d?void 0:d.code)&&c.schedule(!0))}c.schedule()})()}}class Ui{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,y.A)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield xr(f,Br(d,{idToken:p}));T(null==_?void 0:_.users.length,d,"internal-error");const w=_.users[0];f._notifyReloadListener(w);const P=null!==(c=w.providerUserInfo)&&void 0!==c&&c.length?Eo(w.providerUserInfo):[],Y=function ko(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,P),Qe=!!f.isAnonymous&&!(f.email&&w.passwordHash||null!=Y&&Y.length),Tt={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:Y,metadata:new Ui(w.createdAt,w.lastLoginAt),isAnonymous:Qe};Object.assign(f,Tt)})).apply(this,arguments)}function Nn(){return(Nn=(0,y.A)(function*(f){const c=(0,z.Ku)(f);yield lr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Eo(f){return f.map(c=>{var{providerId:d}=c,p=(0,qe.Tt)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function M(){return(M=(0,y.A)(function*(f,c){const d=yield Je(f,{},(0,y.A)(function*(){const p=(0,z.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:w}=f.config,P=gt(f,_,"/v1/token",`key=${w}`),Y=yield f._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",x.fetch()(P,{method:"POST",headers:Y,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function we(){return(we=(0,y.A)(function*(f,c){return Me(f,"POST","/v2/accounts:revokeToken",q(f,c))})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){T(c.idToken,"internal-error"),T(typeof c.idToken<"u","internal-error"),T(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):br(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}updateFromIdToken(c){T(0!==c.length,"internal-error");const d=br(c);this.updateTokensAndExpiration(c,null,d)}getToken(c,d=!1){var p=this;return(0,y.A)(function*(){return d||!p.accessToken||p.isExpired?(T(p.refreshToken,c,"user-token-expired"),p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,y.A)(function*(){const{accessToken:_,refreshToken:w,expiresIn:P}=yield function F(f,c){return M.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,w,Number(P))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:w}=d,P=new K;return p&&(T("string"==typeof p,"internal-error",{appName:c}),P.refreshToken=p),_&&(T("string"==typeof _,"internal-error",{appName:c}),P.accessToken=_),w&&(T("number"==typeof w,"internal-error",{appName:c}),P.expirationTime=w),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return ee("not implemented")}}function rt(f,c){T("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class ut{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,w=(0,qe.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new Ui(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,y.A)(function*(){const p=yield xr(d,d.stsTokenManager.getToken(d.auth,c));return T(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function no(f){return pi.apply(this,arguments)}(this,c)}reload(){return function ns(f){return Nn.apply(this,arguments)}(this)}_assign(c){this!==c&&(T(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new ut(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,y.A)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield lr(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,y.A)(function*(){if((0,_e._isFirebaseServerApp)(c.auth.app))return Promise.reject(S(c.auth));const d=yield c.getIdToken();return yield xr(c,function Qt(f,c){return Qn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,w,P,Y,Ae,lt,Qe;const Tt=null!==(p=d.displayName)&&void 0!==p?p:void 0,cr=null!==(_=d.email)&&void 0!==_?_:void 0,fs=null!==(w=d.phoneNumber)&&void 0!==w?w:void 0,zl=null!==(P=d.photoURL)&&void 0!==P?P:void 0,Ho=null!==(Y=d.tenantId)&&void 0!==Y?Y:void 0,Gd=null!==(Ae=d._redirectEventId)&&void 0!==Ae?Ae:void 0,Za=null!==(lt=d.createdAt)&&void 0!==lt?lt:void 0,Qv=null!==(Qe=d.lastLoginAt)&&void 0!==Qe?Qe:void 0,{uid:tg,emailVerified:ng,isAnonymous:Kw,providerData:Yv,stsTokenManager:Qw}=d;T(tg&&Qw,c,"internal-error");const iP=K.fromJSON(this.name,Qw);T("string"==typeof tg,c,"internal-error"),rt(Tt,c.name),rt(cr,c.name),T("boolean"==typeof ng,c,"internal-error"),T("boolean"==typeof Kw,c,"internal-error"),rt(fs,c.name),rt(zl,c.name),rt(Ho,c.name),rt(Gd,c.name),rt(Za,c.name),rt(Qv,c.name);const Xv=new ut({uid:tg,auth:c,email:cr,emailVerified:ng,displayName:Tt,isAnonymous:Kw,photoURL:zl,phoneNumber:fs,tenantId:Ho,stsTokenManager:iP,createdAt:Za,lastLoginAt:Qv});return Yv&&Array.isArray(Yv)&&(Xv.providerData=Yv.map(Yw=>Object.assign({},Yw))),Gd&&(Xv._redirectEventId=Gd),Xv}static _fromIdTokenResponse(c,d,p=!1){return(0,y.A)(function*(){const _=new K;_.updateFromServerResponse(d);const w=new ut({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield lr(w),w})()}static _fromGetAccountInfoResponse(c,d,p){return(0,y.A)(function*(){const _=d.users[0];T(void 0!==_.localId,"internal-error");const w=void 0!==_.providerUserInfo?Eo(_.providerUserInfo):[],P=!(_.email&&_.passwordHash||null!=w&&w.length),Y=new K;Y.updateFromIdToken(p);const Ae=new ut({uid:_.localId,auth:c,stsTokenManager:Y,isAnonymous:P}),lt={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:w,metadata:new Ui(_.createdAt,_.lastLoginAt),isAnonymous:!(_.email&&_.passwordHash||null!=w&&w.length)};return Object.assign(Ae,lt),Ae})()}}const Gt=new Map;function xn(f){J(f instanceof Function,"Expected a class definition");let c=Gt.get(f);return c?(J(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,Gt.set(f,c),c)}const Mr=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.A)(function*(){return!0})()}_set(d,p){var _=this;return(0,y.A)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,y.A)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,y.A)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Jt(f,c,d){return`firebase:${f}:${c}:${d}`}class ie{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=Jt(this.userKey,_.apiKey,w),this.fullPersistenceKey=Jt("persistence",_.apiKey,w),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,y.A)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?ut._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,y.A)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,y.A)(function*(){if(!d.length)return new ie(xn(Mr),c,p);const _=(yield Promise.all(d.map(function(){var lt=(0,y.A)(function*(Qe){if(yield Qe._isAvailable())return Qe});return function(Qe){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let w=_[0]||xn(Mr);const P=Jt(p,c.config.apiKey,c.name);let Y=null;for(const lt of d)try{const Qe=yield lt._get(P);if(Qe){const Tt=ut._fromJSON(c,Qe);lt!==w&&(Y=Tt),w=lt;break}}catch{}const Ae=_.filter(lt=>lt._shouldAllowMigration);return w._shouldAllowMigration&&Ae.length?(w=Ae[0],Y&&(yield w._set(P,Y.toJSON())),yield Promise.all(d.map(function(){var lt=(0,y.A)(function*(Qe){if(Qe!==w)try{yield Qe._remove(P)}catch{}});return function(Qe){return lt.apply(this,arguments)}}())),new ie(w,c,p)):new ie(w,c,p)})()}}function Xr(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Na(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(io(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(gi(c))return"Blackberry";if(Si(c))return"Webos";if(Fo(c))return"Safari";if((c.includes("chrome/")||js(c))&&!c.includes("edge/"))return"Chrome";if(wo(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==p?void 0:p.length))return p[1]}return"Other"}function io(f=(0,z.ZQ)()){return/firefox\//i.test(f)}function Fo(f=(0,z.ZQ)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function js(f=(0,z.ZQ)()){return/crios\//i.test(f)}function Na(f=(0,z.ZQ)()){return/iemobile/i.test(f)}function wo(f=(0,z.ZQ)()){return/android/i.test(f)}function gi(f=(0,z.ZQ)()){return/blackberry/i.test(f)}function Si(f=(0,z.ZQ)()){return/webos/i.test(f)}function ne(f=(0,z.ZQ)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Rt(f=(0,z.ZQ)()){return ne(f)||wo(f)||Si(f)||gi(f)||/windows phone/i.test(f)||Na(f)}function vt(f,c=[]){let d;switch(f){case"Browser":d=Xr((0,z.ZQ)());break;case"Worker":d=`${Xr((0,z.ZQ)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${_e.SDK_VERSION}/${p}`}class un{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=w=>new Promise((P,Y)=>{try{P(c(w))}catch(Ae){Y(Ae)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,y.A)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:null==_?void 0:_.message})}})()}}function Ut(){return(Ut=(0,y.A)(function*(f,c={}){return Me(f,"GET","/v2/passwordPolicy",q(f,c))})).apply(this,arguments)}class Lt{constructor(c){var d,p,_,w;const P=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=P.minPasswordLength)&&void 0!==d?d:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=c.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,w,P,Y;const Ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Ae),this.validatePasswordCharacterOptions(c,Ae),Ae.isValid&&(Ae.isValid=null===(d=Ae.meetsMinPasswordLength)||void 0===d||d),Ae.isValid&&(Ae.isValid=null===(p=Ae.meetsMaxPasswordLength)||void 0===p||p),Ae.isValid&&(Ae.isValid=null===(_=Ae.containsLowercaseLetter)||void 0===_||_),Ae.isValid&&(Ae.isValid=null===(w=Ae.containsUppercaseLetter)||void 0===w||w),Ae.isValid&&(Ae.isValid=null===(P=Ae.containsNumericCharacter)||void 0===P||P),Ae.isValid&&(Ae.isValid=null===(Y=Ae.containsNonAlphanumericCharacter)||void 0===Y||Y),Ae}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=w))}}class xa{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hs(this),this.idTokenSubscription=new Hs(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=xn(d)),this._initializationPromise=this.queue((0,y.A)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield ie.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,y.A)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(c){var d=this;return(0,y.A)(function*(){try{const p=yield Br(d,{idToken:c}),_=yield ut._fromGetAccountInfoResponse(d,p,c);yield d.directlySetCurrentUser(_)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var d=this;return(0,y.A)(function*(){var p;if((0,_e._isFirebaseServerApp)(d.app)){const Y=d.app.settings.authIdToken;return Y?new Promise(Ae=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(Y).then(Ae,Ae))}):d.directlySetCurrentUser(null)}const _=yield d.assertedPersistence.getCurrentUser();let w=_,P=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Y=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,Ae=null==w?void 0:w._redirectEventId,lt=yield d.tryRedirectSignIn(c);(!Y||Y===Ae)&&null!=lt&&lt.user&&(w=lt.user,P=!0)}if(!w)return d.directlySetCurrentUser(null);if(!w._redirectEventId){if(P)try{yield d.beforeStateQueue.runMiddleware(w)}catch(Y){w=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Y))}return w?d.reloadAndSetCurrentUserOrClear(w):d.directlySetCurrentUser(null)}return T(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===w._redirectEventId?d.directlySetCurrentUser(w):d.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(c){var d=this;return(0,y.A)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,y.A)(function*(){try{yield lr(c)}catch(p){if("auth/network-request-failed"!==(null==p?void 0:p.code))return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Te(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,y.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,y.A)(function*(){if((0,_e._isFirebaseServerApp)(d.app))return Promise.reject(S(d));const p=c?(0,z.Ku)(c):null;return p&&T(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,y.A)(function*(){if(!p._deleted)return c&&T(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,y.A)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,y.A)(function*(){return(0,_e._isFirebaseServerApp)(c.app)?Promise.reject(S(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var d=this;return(0,_e._isFirebaseServerApp)(this.app)?Promise.reject(S(this)):this.queue((0,y.A)(function*(){yield d.assertedPersistence.setPersistence(xn(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,y.A)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,y.A)(function*(){const d=yield function Gn(f){return Ut.apply(this,arguments)}(c),p=new Lt(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new z.FA("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,y.A)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function L(f,c){return we.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,y.A)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,y.A)(function*(){if(!d.redirectPersistenceManager){const p=c&&xn(c)||d._popupRedirectResolver;T(p,d,"argument-error"),d.redirectPersistenceManager=yield ie.create(d,[xn(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,y.A)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,y.A)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,y.A)(function*(){if(c===d.currentUser)return d.queue((0,y.A)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const w="function"==typeof d?d:d.next.bind(d);let P=!1;const Y=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(Y,this,"internal-error"),Y.then(()=>{P||w(this.currentUser)}),"function"==typeof d){const Ae=c.addObserver(d,p,_);return()=>{P=!0,Ae()}}{const Ae=c.addObserver(d);return()=>{P=!0,Ae()}}}directlySetCurrentUser(c){var d=this;return(0,y.A)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,y.A)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield c._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var c=this;return(0,y.A)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return null!=p&&p.error&&function ke(f,...c){X.logLevel<=bt.$b.WARN&&X.warn(`Auth (${_e.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),null==p?void 0:p.token})()}}function qn(f){return(0,z.Ku)(f)}class Hs{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,z.tD)(d=>this.observer=d)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let En={loadJS:()=>(0,y.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Co(f){return En.loadJS(f)}function zs(f){return`__${f}${Math.floor(1e6*Math.random())}`}class ce{constructor(c){this.type="recaptcha-enterprise",this.auth=qn(c)}verify(c="verify",d=!1){var p=this;return(0,y.A)(function*(){function w(){return w=(0,y.A)(function*(Y){if(!d){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Ae=(0,y.A)(function*(lt,Qe){rn(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tt=>{if(void 0!==Tt.recaptchaKey){const cr=new mt(Tt);return null==Y.tenantId?Y._agentRecaptchaConfig=cr:Y._tenantRecaptchaConfigs[Y.tenantId]=cr,lt(cr.siteKey)}Qe(new Error("recaptcha Enterprise site key undefined"))}).catch(Tt=>{Qe(Tt)})});return function(lt,Qe){return Ae.apply(this,arguments)}}())}),w.apply(this,arguments)}function P(Y,Ae,lt){const Qe=window.grecaptcha;pe(Qe)?Qe.enterprise.ready(()=>{Qe.enterprise.execute(Y,{action:c}).then(Tt=>{Ae(Tt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):lt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Ae)=>{(function _(Y){return w.apply(this,arguments)})(p.auth).then(lt=>{if(!d&&pe(window.grecaptcha))P(lt,Y,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));let Qe=function bl(){return En.recaptchaEnterpriseScript}();0!==Qe.length&&(Qe+=lt),Co(Qe).then(()=>{P(lt,Y,Ae)}).catch(Tt=>{Ae(Tt)})}}).catch(lt=>{Ae(lt)})})})()}}function I(f,c,d){return b.apply(this,arguments)}function b(){return(b=(0,y.A)(function*(f,c,d,p=!1){const _=new ce(f);let w;try{w=yield _.verify(d)}catch{w=yield _.verify(d,!0)}const P=Object.assign({},c);return Object.assign(P,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function k(f,c,d,p){return $.apply(this,arguments)}function $(){return $=(0,y.A)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield I(f,c,d,"getOobCode"===d);return p(f,w)}return p(f,c).catch(function(){var w=(0,y.A)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Y=yield I(f,c,d,"getOobCode"===d);return p(f,Y)}return Promise.reject(P)});return function(P){return w.apply(this,arguments)}}())}),$.apply(this,arguments)}function $e(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Ct(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Oe{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return ee("not implemented")}_getIdTokenResponse(c){return ee("not implemented")}_linkToIdToken(c,d){return ee("not implemented")}_getReauthenticationResolver(c){return ee("not implemented")}}function rr(f,c){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:resetPassword",q(f,c))})).apply(this,arguments)}function Or(){return(Or=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Tl(f,c){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Gs(){return(Gs=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:update",q(f,c))})).apply(this,arguments)}function qs(f,c){return rd.apply(this,arguments)}function rd(){return(rd=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithPassword",q(f,c))})).apply(this,arguments)}function id(f,c){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:sendOobCode",q(f,c))})).apply(this,arguments)}function xu(){return(xu=(0,y.A)(function*(f,c){return id(f,c)})).apply(this,arguments)}function z_(f,c){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,y.A)(function*(f,c){return id(f,c)})).apply(this,arguments)}function Q0(f,c){return ku.apply(this,arguments)}function ku(){return(ku=(0,y.A)(function*(f,c){return id(f,c)})).apply(this,arguments)}function G_(){return(G_=(0,y.A)(function*(f,c){return id(f,c)})).apply(this,arguments)}function q_(){return(q_=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithEmailLink",q(f,c))})).apply(this,arguments)}function Oa(){return(Oa=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithEmailLink",q(f,c))})).apply(this,arguments)}class ka extends Oe{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new ka(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new ka(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(null!=d&&d.email&&null!=d&&d.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,y.A)(function*(){switch(d.signInMethod){case"password":return k(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qs);case"emailLink":return function $M(f,c){return q_.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:Ue(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,y.A)(function*(){switch(p.signInMethod){case"password":return k(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tl);case"emailLink":return function Xf(f,c){return Oa.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:Ue(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Lo(f,c){return od.apply(this,arguments)}function od(){return(od=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithIdp",q(f,c))})).apply(this,arguments)}class ji extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new ji(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):Ue("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,w=(0,qe.Tt)(d,["providerId","signInMethod"]);if(!p||!_)return null;const P=new ji(p,_);return P.idToken=w.idToken||void 0,P.accessToken=w.accessToken||void 0,P.secret=w.secret,P.nonce=w.nonce,P.pendingToken=w.pendingToken||null,P}_getIdTokenResponse(c){return Lo(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,Lo(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Lo(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,z.Am)(d)}return c}}function Yt(){return(Yt=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:sendVerificationCode",q(f,c))})).apply(this,arguments)}function K_(){return(K_=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithPhoneNumber",q(f,c))})).apply(this,arguments)}function Zf(){return(Zf=(0,y.A)(function*(f,c){const d=yield Mt(f,"POST","/v1/accounts:signInWithPhoneNumber",q(f,c));if(d.temporaryProof)throw Ee(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const BM={USER_NOT_FOUND:"user-not-found"};function Fu(){return(Fu=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithPhoneNumber",q(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),BM)})).apply(this,arguments)}class on extends Oe{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new on({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new on({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function On(f,c){return K_.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Y0(f,c){return Zf.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function X0(f,c){return Fu.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}=c;return p||d||_||w?new on({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class Jr{constructor(c){var d,p,_,w,P,Y;const Ae=(0,z.I9)((0,z.hp)(c)),lt=null!==(d=Ae.apiKey)&&void 0!==d?d:null,Qe=null!==(p=Ae.oobCode)&&void 0!==p?p:null,Tt=function Jf(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Ae.mode)&&void 0!==_?_:null);T(lt&&Qe&&Tt,"argument-error"),this.apiKey=lt,this.operation=Tt,this.code=Qe,this.continueUrl=null!==(w=Ae.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(P=Ae.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(Y=Ae.tenantId)&&void 0!==Y?Y:null}static parseLink(c){const d=function Q_(f){const c=(0,z.I9)((0,z.hp)(f)).link,d=c?(0,z.I9)((0,z.hp)(c)).deep_link_id:null,p=(0,z.I9)((0,z.hp)(f)).deep_link_id;return(p?(0,z.I9)((0,z.hp)(p)).link:null)||p||d||c||f}(c);try{return new Jr(d)}catch{return null}}}let Y_=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return ka._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Jr.parseLink(p);return T(_,"argument-error"),ka._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Ws{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class rs extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ks extends rs{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return T("providerId"in d&&"signInMethod"in d,"argument-error"),ji._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return T(c.idToken||c.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ks.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ks.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:P,providerId:Y}=c;if(!p&&!_&&!d&&!w||!Y)return null;try{return new Ks(Y)._credential({idToken:d,accessToken:p,nonce:P,pendingToken:w})}catch{return null}}}let Lu=(()=>{class f extends rs{constructor(){super("facebook.com")}static credential(d){return ji._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),X_=(()=>{class f extends rs{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return ji._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Z_=(()=>{class f extends rs{constructor(){super("github.com")}static credential(d){return ji._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Fa extends Oe{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return Lo(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,Lo(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Lo(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:w}=d;return p&&_&&w&&p===_?new Fa(p,w):null}static _create(c,d){return new Fa(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sd extends Ws{constructor(c){T(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return sd.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return sd.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=Fa.fromJSON(c);return T(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return Fa._create(p,d)}catch{return null}}}let Ds=(()=>{class f extends rs{constructor(){super("twitter.com")}static credential(d,p){return ji._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function J_(f,c){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signUp",q(f,c))})).apply(this,arguments)}class so{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,y.A)(function*(){const w=yield ut._fromIdTokenResponse(c,p,_),P=Le(p);return new so({user:w,providerId:P,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,y.A)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Le(p);return new so({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Le(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Vu(){return(Vu=(0,y.A)(function*(f){var c;if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const d=qn(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new so({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield J_(d,{returnSecureToken:!0}),_=yield so._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Qs extends z.g{constructor(c,d,p,_){var w;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Qs.prototype),this.customData={appName:c.name,tenantId:null!==(w=c.tenantId)&&void 0!==w?w:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new Qs(c,d,p,_)}}function ev(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?Qs._fromErrorAndOperation(f,w,c,p):w})}function tv(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function ep(){return ep=(0,y.A)(function*(f,c){const d=(0,z.Ku)(f);yield Va(!0,d,c);const{providerUserInfo:p}=yield function Ln(f,c){return mr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=tv(p||[]);return d.providerData=d.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),ep.apply(this,arguments)}function La(f,c){return tp.apply(this,arguments)}function tp(){return(tp=(0,y.A)(function*(f,c,d=!1){const p=yield xr(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return so._forOperation(f,"link",p)})).apply(this,arguments)}function Va(f,c,d){return np.apply(this,arguments)}function np(){return(np=(0,y.A)(function*(f,c,d){yield lr(c);const _=!1===f?"provider-already-linked":"no-such-provider";T(tv(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function Ys(f,c){return rp.apply(this,arguments)}function rp(){return(rp=(0,y.A)(function*(f,c,d=!1){const{auth:p}=f;if((0,_e._isFirebaseServerApp)(p.app))return Promise.reject(S(p));const _="reauthenticate";try{const w=yield xr(f,ev(p,_,c,f),d);T(w.idToken,p,"internal-error");const P=ro(w.idToken);T(P,p,"internal-error");const{sub:Y}=P;return T(f.uid===Y,p,"user-mismatch"),so._forOperation(f,_,w)}catch(w){throw"auth/user-not-found"===(null==w?void 0:w.code)&&Ue(p,"user-mismatch"),w}})).apply(this,arguments)}function Mi(f,c){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,y.A)(function*(f,c,d=!1){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const p="signIn",_=yield ev(f,p,c),w=yield so._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(w.user)),w})).apply(this,arguments)}function $u(f,c){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,y.A)(function*(f,c){return Mi(qn(f),c)})).apply(this,arguments)}function Bu(f,c){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,y.A)(function*(f,c){const d=(0,z.Ku)(f);return yield Va(!1,d,c.providerId),La(d,c)})).apply(this,arguments)}function tw(f,c){return ld.apply(this,arguments)}function ld(){return(ld=(0,y.A)(function*(f,c){return Ys((0,z.Ku)(f),c)})).apply(this,arguments)}function Pi(){return(Pi=(0,y.A)(function*(f,c){return Mt(f,"POST","/v1/accounts:signInWithCustomToken",q(f,c))})).apply(this,arguments)}function Zs(){return Zs=(0,y.A)(function*(f,c){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const d=qn(f),p=yield function UM(f,c){return Pi.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield so._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),Zs.apply(this,arguments)}class ud{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?cd._fromServerResponse(c,d):"totpInfo"in d?bo._fromServerResponse(c,d):Ue(c,"internal-error")}}class cd extends ud{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new cd(d)}}class bo extends ud{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new bo(d)}}function wn(f,c,d){var p;T((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),T(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(T(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(T(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function Ss(f){return dd.apply(this,arguments)}function dd(){return(dd=(0,y.A)(function*(f){const c=qn(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Rl(){return(Rl=(0,y.A)(function*(f,c,d){const p=qn(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&wn(p,_,d),yield k(p,_,"getOobCode",z_)})).apply(this,arguments)}function Hi(){return Hi=(0,y.A)(function*(f,c,d){yield rr((0,z.Ku)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,y.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Ss(f),_});return function(_){return p.apply(this,arguments)}}())}),Hi.apply(this,arguments)}function sp(){return sp=(0,y.A)(function*(f,c){yield function As(f,c){return Gs.apply(this,arguments)}((0,z.Ku)(f),{oobCode:c})}),sp.apply(this,arguments)}function fd(f,c){return pd.apply(this,arguments)}function pd(){return(pd=(0,y.A)(function*(f,c){const d=(0,z.Ku)(f),p=yield rr(d,{oobCode:c}),_=p.requestType;switch(T(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":T(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":T(p.mfaInfo,d,"internal-error");default:T(p.email,d,"internal-error")}let w=null;return p.mfaInfo&&(w=ud._fromServerResponse(qn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function $a(){return($a=(0,y.A)(function*(f,c){const{data:d}=yield fd((0,z.Ku)(f),c);return d.email})).apply(this,arguments)}function gd(){return(gd=(0,y.A)(function*(f,c,d){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const p=qn(f),P=yield k(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J_).catch(Ae=>{throw"auth/password-does-not-meet-requirements"===Ae.code&&Ss(f),Ae}),Y=yield so._fromIdTokenResponse(p,"signIn",P);return yield p._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function lp(){return(lp=(0,y.A)(function*(f,c,d){const p=qn(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function w(P,Y){T(Y.handleCodeInApp,p,"argument-error"),Y&&wn(p,P,Y)})(_,d),yield k(p,_,"getOobCode",Q0)})).apply(this,arguments)}function up(){return(up=(0,y.A)(function*(f,c,d){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const p=(0,z.Ku)(f),_=Y_.credentialWithLink(c,d||de());return T(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),$u(p,_)})).apply(this,arguments)}function cp(){return(cp=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:createAuthUri",q(f,c))})).apply(this,arguments)}function dp(){return dp=(0,y.A)(function*(f,c){const p={identifier:c,continueUri:ze()?de():"http://localhost"},{signinMethods:_}=yield function iv(f,c){return cp.apply(this,arguments)}((0,z.Ku)(f),p);return _||[]}),dp.apply(this,arguments)}function md(){return md=(0,y.A)(function*(f,c){const d=(0,z.Ku)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&wn(d.auth,_,c);const{email:w}=yield function Yf(f,c){return xu.apply(this,arguments)}(d.auth,_);w!==f.email&&(yield f.reload())}),md.apply(this,arguments)}function hp(){return hp=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&wn(p.auth,w,d);const{email:P}=yield function VM(f,c){return G_.apply(this,arguments)}(p.auth,w);P!==f.email&&(yield f.reload())}),hp.apply(this,arguments)}function Ke(){return(Ke=(0,y.A)(function*(f,c){return Me(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function fp(){return fp=(0,y.A)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,z.Ku)(f),w={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},P=yield xr(p,function aw(f,c){return Ke.apply(this,arguments)}(p.auth,w));p.displayName=P.displayName||null,p.photoURL=P.photoUrl||null;const Y=p.providerData.find(({providerId:Ae})=>"password"===Ae);Y&&(Y.displayName=p.displayName,Y.photoURL=p.photoURL),yield p._updateTokensIfNecessary(P)}),fp.apply(this,arguments)}function At(f,c,d){return mi.apply(this,arguments)}function mi(){return mi=(0,y.A)(function*(f,c,d){const{auth:p}=f,w={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(w.email=c),d&&(w.password=d);const P=yield xr(f,function ir(f,c){return Or.apply(this,arguments)}(p,w));yield f._updateTokensIfNecessary(P,!0)}),mi.apply(this,arguments)}class ur{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class ei extends ur{constructor(c,d,p,_){super(c,d,p),this.username=_}}class Js extends ur{constructor(c,d){super(c,"facebook.com",d)}}class _i extends ei{constructor(c,d){super(c,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class sv extends ur{constructor(c,d){super(c,"google.com",d)}}class av extends ei{constructor(c,d,p){super(c,"twitter.com",d,p)}}function _d(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function mn(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},w=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&null!=f&&f.idToken){const P=null===(d=null===(c=ro(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(P)return new ur(w,"anonymous"!==P&&"custom"!==P?P:null)}if(!p)return null;switch(p){case"facebook.com":return new Js(w,_);case"github.com":return new _i(w,_);case"google.com":return new sv(w,_);case"twitter.com":return new av(w,_,f.screenName||null);case"custom":case"anonymous":return new ur(w,null);default:return new ur(w,p,_)}}(d)}class ao{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new ao("enroll",c,d)}static _fromMfaPendingCredential(c){return new ao("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(null!=c&&c.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ao._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return ao._fromIdtoken(c.multiFactorSession.idToken)}return null}}class vp{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=qn(c),_=d.customData._serverResponse,w=(_.mfaInfo||[]).map(Y=>ud._fromServerResponse(p,Y));T(_.mfaPendingCredential,p,"internal-error");const P=ao._fromMfaPendingCredential(_.mfaPendingCredential);return new vp(P,w,function(){var Y=(0,y.A)(function*(Ae){const lt=yield Ae._process(p,P);delete _.mfaInfo,delete _.mfaPendingCredential;const Qe=Object.assign(Object.assign({},_),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(d.operationType){case"signIn":const Tt=yield so._fromIdTokenResponse(p,d.operationType,Qe);return yield p._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return T(d.user,p,"internal-error"),so._forOperation(d.user,d.operationType,Qe);default:Ue(p,"internal-error")}});return function(Ae){return Y.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,y.A)(function*(){return d.signInResolver(c)})()}}class ea{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>ud._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new ea(c)}getSession(){var c=this;return(0,y.A)(function*(){return ao._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,y.A)(function*(){const _=c,w=yield p.getSession(),P=yield xr(p.user,_._process(p.user.auth,w,d));return yield p.user._updateTokensIfNecessary(P),p.user.reload()})()}unenroll(c){var d=this;return(0,y.A)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const w=yield xr(d.user,function ti(f,c){return Me(f,"POST","/v2/accounts/mfaEnrollment:withdraw",q(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:P})=>P!==p),yield d.user._updateTokensIfNecessary(w),yield d.user.reload()}catch(w){throw w}})()}}const ju=new WeakMap,Ed="__sak";class Ip{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pl=(()=>{class f extends Ip{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ml(){const f=(0,z.ZQ)();return Fo(f)||ne(f)}()&&function qt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rt(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&d(p,w,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((Y,Ae,lt)=>{this.notifyListeners(Y,lt)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(_);if(d.newValue!==Y)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const w=()=>{const Y=this.storage.getItem(_);!p&&this.localCache[_]===Y||this.notifyListeners(_,Y)},P=this.storage.getItem(_);!function st(){return(0,z.lT)()&&10===document.documentMode}()||P===d.newValue||d.newValue===d.oldValue?w():setTimeout(w,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,w=this;return(0,y.A)(function*(){yield _().call(w,d,p),w.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,y.A)(function*(){const w=yield p().call(_,d);return _.localCache[d]=JSON.stringify(w),w})()}_remove(d){var p=()=>super._remove,_=this;return(0,y.A)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Rs=(()=>{class f extends Ip{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let Nl=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(w=>w.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,y.A)(function*(){const _=d,{eventId:w,eventType:P,data:Y}=_.data,Ae=p.handlersMap[P];if(null==Ae||!Ae.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:P});const lt=Array.from(Ae).map(function(){var Tt=(0,y.A)(function*(cr){return cr(_.origin,Y)});return function(cr){return Tt.apply(this,arguments)}}()),Qe=yield function wd(f){return Promise.all(f.map(function(){var c=(0,y.A)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(lt);_.ports[0].postMessage({status:"done",eventId:w,eventType:P,response:Qe})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Hu(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class pw{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,y.A)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let P,Y;return new Promise((Ae,lt)=>{const Qe=Hu("",20);w.port1.start();const Tt=setTimeout(()=>{lt(new Error("unsupported_event"))},p);Y={messageChannel:w,onMessage(cr){const fs=cr;if(fs.data.eventId===Qe)switch(fs.data.status){case"ack":clearTimeout(Tt),P=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),Ae(fs.data.response);break;default:clearTimeout(Tt),clearTimeout(P),lt(new Error("invalid_response"))}}},_.handlers.add(Y),w.port1.addEventListener("message",Y.onMessage),_.target.postMessage({eventType:c,eventId:Qe,data:d},[w.port2])}).finally(()=>{Y&&_.removeMessageHandler(Y)})})()}}function _n(){return window}function Ep(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function wp(){return(wp=(0,y.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fv="firebaseLocalStorageDb",Cd="firebaseLocalStorage",bd="fbase_key";class na{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Yn(f,c){return f.transaction([Cd],c?"readwrite":"readonly").objectStore(Cd)}function kt(){const f=indexedDB.open(fv,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Cd,{keyPath:bd})}catch(_){d(_)}}),f.addEventListener("success",(0,y.A)(function*(){const p=f.result;p.objectStoreNames.contains(Cd)?c(p):(p.close(),yield function et(){const f=indexedDB.deleteDatabase(fv);return new na(f).toPromise()}(),c(yield kt()))}))})}function Tr(f,c,d){return lo.apply(this,arguments)}function lo(){return(lo=(0,y.A)(function*(f,c,d){const p=Yn(f,!0).put({[bd]:c,value:d});return new na(p).toPromise()})).apply(this,arguments)}function Ni(){return(Ni=(0,y.A)(function*(f,c){const d=Yn(f,!1).get(c),p=yield new na(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Ba(f,c){const d=Yn(f,!0).delete(c);return new na(d).toPromise()}const $t=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,y.A)(function*(){return d.db||(d.db=yield kt()),d.db})()}_withRetries(d){var p=this;return(0,y.A)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield d(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,y.A)(function*(){return Ep()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,y.A)(function*(){d.receiver=Nl._getInstance(function mw(){return Ep()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,y.A)(function*(_,w){return{keyProcessed:(yield d._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,y.A)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,y.A)(function*(){var p,_;if(d.activeServiceWorker=yield function zu(){return wp.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new pw(d.activeServiceWorker);const w=yield d.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,y.A)(function*(){if(p.sender&&p.activeServiceWorker&&function gw(){var f;return(null===(f=null==navigator?void 0:navigator.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.A)(function*(){try{if(!indexedDB)return!1;const d=yield kt();return yield Tr(d,Ed,"1"),yield Ba(d,Ed),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,y.A)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,y.A)(function*(){return _._withPendingWrite((0,y.A)(function*(){return yield _._withRetries(w=>Tr(w,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,y.A)(function*(){const _=yield p._withRetries(w=>function vi(f,c){return Ni.apply(this,arguments)}(w,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,y.A)(function*(){return p._withPendingWrite((0,y.A)(function*(){return yield p._withRetries(_=>Ba(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,y.A)(function*(){const p=yield d._withRetries(P=>{const Y=Yn(P,!1).getAll();return new na(Y).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:P,value:Y}of p)w.add(P),JSON.stringify(d.localCache[P])!==JSON.stringify(Y)&&(d.notifyListeners(P,Y),_.push(P));for(const P of Object.keys(d.localCache))d.localCache[P]&&!w.has(P)&&(d.notifyListeners(P,null),_.push(P));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,y.A)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Ms=1e12;class os{constructor(c){this.auth=c,this.counter=Ms,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new Wu(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||Ms;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||Ms))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,y.A)(function*(){var p;return null===(p=d._widgets.get(c||Ms))||void 0===p||p.execute(),""})()}}class Wu{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;T(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gv(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ss=zs("rcb"),Ku=new O(3e4,6e4);class Ua{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=_n().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return T(function en(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&le(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((p,_)=>{const w=_n().setTimeout(()=>{_(Pe(c,"network-request-failed"))},Ku.get());_n()[ss]=()=>{_n().clearTimeout(w),delete _n()[ss];const Y=_n().grecaptcha;if(!Y||!le(Y))return void _(Pe(c,"internal-error"));const Ae=Y.render;Y.render=(lt,Qe)=>{const Tt=Ae(lt,Qe);return this.counter++,Tt},this.hostLanguage=d,p(Y)},Co(`${function Zr(){return En.recaptchaV2Script}()}?${(0,z.Am)({onload:ss,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(w),_(Pe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=_n().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cp{load(c){return(0,y.A)(function*(){return new os(c)})()}clearedOneInstance(){}}const Ol="recaptcha",as={theme:"light",type:"image"};class Ad{constructor(c,d,p=Object.assign({},as)){this.parameters=p,this.type=Ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(c),this.isInvisible="invisible"===this.parameters.size,T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;T(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cp:new Ua,this.validateStartingState()}verify(){var c=this;return(0,y.A)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(w=>{const P=Y=>{Y&&(c.tokenChangeListeners.delete(P),w(Y))};c.tokenChangeListeners.add(P),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=_n()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,y.A)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,y.A)(function*(){T(ze()&&!Ep(),c.auth,"internal-error"),yield function kl(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function zt(f){return pn.apply(this,arguments)}(c.auth);T(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vr{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=on._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function ni(){return(ni=(0,y.A)(function*(f,c,d){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const p=qn(f),_=yield zi(p,c,(0,z.Ku)(d));return new vr(_,w=>$u(p,w))})).apply(this,arguments)}function Qu(){return(Qu=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f);yield Va(!1,p,"phone");const _=yield zi(p.auth,c,(0,z.Ku)(d));return new vr(_,w=>Bu(p,w))})).apply(this,arguments)}function Fl(){return(Fl=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f);if((0,_e._isFirebaseServerApp)(p.auth.app))return Promise.reject(S(p.auth));const _=yield zi(p.auth,c,(0,z.Ku)(d));return new vr(_,w=>tw(p,w))})).apply(this,arguments)}function zi(f,c,d){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,y.A)(function*(f,c,d){var p;const _=yield d.verify();try{let w;if(T("string"==typeof _,f,"argument-error"),T(d.type===Ol,f,"argument-error"),w="string"==typeof c?{phoneNumber:c}:c,"session"in w){const P=w.session;if("phoneNumber"in w)return T("enroll"===P.type,f,"internal-error"),(yield function yd(f,c){return Me(f,"POST","/v2/accounts/mfaEnrollment:start",q(f,c))}(f,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{T("signin"===P.type,f,"internal-error");const Y=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return T(Y,f,"missing-multi-factor-info"),(yield function Gu(f,c){return Me(f,"POST","/v2/accounts/mfaSignIn:start",q(f,c))}(f,{mfaPendingCredential:P.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function W_(f,c){return Yt.apply(this,arguments)}(f,{phoneNumber:w.phoneNumber,recaptchaToken:_});return P}}finally{d._reset()}}),Yu.apply(this,arguments)}function Ap(){return(Ap=(0,y.A)(function*(f,c){const d=(0,z.Ku)(f);if((0,_e._isFirebaseServerApp)(d.auth.app))return Promise.reject(S(d.auth));yield La(d,c)})).apply(this,arguments)}let Ha=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=qn(d)}verifyPhoneNumber(d,p){return zi(this.auth,d,(0,z.Ku)(p))}static credential(d,p){return on._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?on._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function ra(f,c){return c?xn(c):(T(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Tp extends Oe{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Lo(c,this._buildIdpRequest())}_linkToIdToken(c,d){return Lo(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return Lo(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Dp(f){return Mi(f.auth,new Tp(f),f.bypassAuthState)}function qM(f){const{auth:c,user:d}=f;return T(d,c,"internal-error"),Ys(d,new Tp(f),f.bypassAuthState)}function WM(f){return mv.apply(this,arguments)}function mv(){return(mv=(0,y.A)(function*(f){const{auth:c,user:d}=f;return T(d,c,"internal-error"),La(d,new Tp(f),f.bypassAuthState)})).apply(this,arguments)}class yw{constructor(c,d,p,_,w=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,y.A)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(w){c.reject(w)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,y.A)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:P,error:Y,type:Ae}=c;if(Y)return void d.reject(Y);const lt={auth:d.auth,requestUri:p,sessionId:_,tenantId:P||void 0,postBody:w||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ae)(lt))}catch(Qe){d.reject(Qe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Dp;case"linkViaPopup":case"linkViaRedirect":return WM;case"reauthViaPopup":case"reauthViaRedirect":return qM;default:Ue(this.auth,"internal-error")}}resolve(c){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){J(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KM=new O(2e3,1e4);function _v(){return(_v=(0,y.A)(function*(f,c,d){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(Pe(f,"operation-not-supported-in-this-environment"));const p=qn(f);N(f,c,Ws);const _=ra(p,d);return new Iv(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function vv(){return(vv=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f);if((0,_e._isFirebaseServerApp)(p.auth.app))return Promise.reject(Pe(p.auth,"operation-not-supported-in-this-environment"));N(p.auth,c,Ws);const _=ra(p.auth,d);return new Iv(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function yv(){return(yv=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f);N(p.auth,c,Ws);const _=ra(p.auth,d);return new Iv(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let Iv=(()=>{class f extends yw{constructor(d,p,_,w,P){super(d,p,w,P),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,y.A)(function*(){const p=yield d.execute();return T(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,y.A)(function*(){J(1===d.filter.length,"Popup operations only handle one event");const p=Hu();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Pe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,KM.get())};d()}}return f.currentPopupAction=null,f})();const Ev="pendingRedirect",Ll=new Map;class ZM extends yw{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,y.A)(function*(){let p=Ll.get(d.auth._key());if(!p){try{const w=(yield function JM(f,c){return wv.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}Ll.set(d.auth._key(),p)}return d.bypassAuthState||Ll.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,y.A)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,y.A)(function*(){})()}cleanUp(){}}function wv(){return(wv=(0,y.A)(function*(f,c){const d=Av(c),p=Rp(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Cv(f,c){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,y.A)(function*(f,c){return Rp(f)._set(Av(c),"true")})).apply(this,arguments)}function Ii(f,c){Ll.set(f._key(),c)}function Rp(f){return xn(f._redirectPersistence)}function Av(f){return Jt(Ev,f.config.apiKey,f.name)}function Iw(f,c,d){return function Tv(f,c,d){return Td.apply(this,arguments)}(f,c,d)}function Td(){return(Td=(0,y.A)(function*(f,c,d){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const p=qn(f);N(f,c,Ws),yield p._initializationPromise;const _=ra(p,d);return yield Cv(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function Ew(f,c,d){return function Mp(f,c,d){return Pp.apply(this,arguments)}(f,c,d)}function Pp(){return(Pp=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f);if(N(p.auth,c,Ws),(0,_e._isFirebaseServerApp)(p.auth.app))return Promise.reject(S(p.auth));yield p.auth._initializationPromise;const _=ra(p.auth,d);yield Cv(_,p.auth);const w=yield Sd(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",w)})).apply(this,arguments)}function ls(f,c,d){return function Dv(f,c,d){return Dd.apply(this,arguments)}(f,c,d)}function Dd(){return(Dd=(0,y.A)(function*(f,c,d){const p=(0,z.Ku)(f);N(p.auth,c,Ws),yield p.auth._initializationPromise;const _=ra(p.auth,d);yield Va(!1,p,c.providerId),yield Cv(_,p.auth);const w=yield Sd(p);return _._openRedirect(p.auth,c,"linkViaRedirect",w)})).apply(this,arguments)}function Np(){return(Np=(0,y.A)(function*(f,c){return yield qn(f)._initializationPromise,xp(f,c,!1)})).apply(this,arguments)}function xp(f,c){return kn.apply(this,arguments)}function kn(){return(kn=(0,y.A)(function*(f,c,d=!1){if((0,_e._isFirebaseServerApp)(f.app))return Promise.reject(S(f));const p=qn(f),_=ra(p,c),P=yield new ZM(p,_,d).execute();return P&&!d&&(delete P.user._redirectEventId,yield p._persistUserIfCurrent(P.user),yield p._setRedirectUser(null,c)),P})).apply(this,arguments)}function Sd(f){return za.apply(this,arguments)}function za(){return(za=(0,y.A)(function*(f){const c=Hu(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class Rv{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function uo(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ga(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!Ga(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Pe(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vl(c))}saveEventToCache(c){this.cachedEventUids.add(Vl(c)),this.lastProcessedEventTime=Date.now()}}function Vl(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function Ga({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Mv(f){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,y.A)(function*(f,c={}){return Me(f,"GET","/v1/projects",c)})).apply(this,arguments)}const ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,us=/^https?/;function Op(){return(Op=(0,y.A)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield Mv(f);for(const d of c)try{if(Nv(d))return}catch{}Ue(f,"unauthorized-domain")})).apply(this,arguments)}function Nv(f){const c=de(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const P=new URL(f);return""===P.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&P.hostname===p}if(!us.test(d))return!1;if(ww.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const kp=new O(3e4,6e4);function Rd(){const f=_n().___jsl;if(null!=f&&f.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let qa=null;const Wa=new O(5e3,15e3),Kt="__/auth/iframe",xv="emulator/auth/iframe",eP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bw(f){const c=f.config;T(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?D(c,xv):`https://${f.config.authDomain}/${Kt}`,p={apiKey:c.apiKey,appName:f.name,v:_e.SDK_VERSION},_=Cw.get(f.config.apiHost);_&&(p.eid=_);const w=f._getFrameworks();return w.length&&(p.fw=w.join(",")),`${d}?${(0,z.Am)(p).slice(1)}`}function Md(){return Md=(0,y.A)(function*(f){const c=yield function Fp(f){return qa=qa||function Zu(f){return new Promise((c,d)=>{var p,_,w;function P(){Rd(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Rd(),d(Pe(f,"network-request-failed"))},timeout:kp.get()})}if(null!==(_=null===(p=_n().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(w=_n().gapi)||void 0===w||!w.load){const Y=zs("iframefcb");return _n()[Y]=()=>{gapi.load?P():d(Pe(f,"network-request-failed"))},Co(`${function Al(){return En.gapiScript}()}?onload=${Y}`).catch(Ae=>d(Ae))}P()}}).catch(c=>{throw qa=null,c})}(f),qa}(f),d=_n().gapi;return T(d,f,"internal-error"),c.open({where:document.body,url:bw(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eP,dontclear:!0},p=>new Promise(function(){var _=(0,y.A)(function*(w,P){yield p.restyle({setHideOnLeave:!1});const Y=Pe(f,"network-request-failed"),Ae=_n().setTimeout(()=>{P(Y)},Wa.get());function lt(){_n().clearTimeout(Ae),w(p)}p.ping(lt).then(lt,()=>{P(Y)})});return function(w,P){return _.apply(this,arguments)}}()))}),Md.apply(this,arguments)}const $l={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ov{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bl="__/auth/handler",Ul="emulator/auth/handler",$n=encodeURIComponent("fac");function Pd(f,c,d,p,_,w){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,y.A)(function*(f,c,d,p,_,w){T(f.config.authDomain,f,"auth-domain-config-required"),T(f.config.apiKey,f,"invalid-api-key");const P={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:_e.SDK_VERSION,eventId:_};if(c instanceof Ws){c.setDefaultLanguage(f.languageCode),P.providerId=c.providerId||"",(0,z.Im)(c.getCustomParameters())||(P.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Qe,Tt]of Object.entries(w||{}))P[Qe]=Tt}if(c instanceof rs){const Qe=c.getScopes().filter(Tt=>""!==Tt);Qe.length>0&&(P.scopes=Qe.join(","))}f.tenantId&&(P.tid=f.tenantId);const Y=P;for(const Qe of Object.keys(Y))void 0===Y[Qe]&&delete Y[Qe];const Ae=yield f._getAppCheckToken(),lt=Ae?`#${$n}=${encodeURIComponent(Ae)}`:"";return`${function cs({config:f}){return f.emulator?D(f,Ul):`https://${f.authDomain}/${Bl}`}(f)}?${(0,z.Am)(Y).slice(1)}${lt}`})).apply(this,arguments)}const Ju="webStorageSupport",kv=class Lp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rs,this._completeRedirectFn=xp,this._overrideRedirectResult=Ii}_openPopup(c,d,p,_){var w=this;return(0,y.A)(function*(){var P;J(null===(P=w.eventManagers[c._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const Y=yield Pd(c,d,p,de(),_);return function be(f,c,d,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),P=Math.max((window.screen.availWidth-p)/2,0).toString();let Y="";const Ae=Object.assign(Object.assign({},$l),{width:p.toString(),height:_.toString(),top:w,left:P}),lt=(0,z.ZQ)().toLowerCase();d&&(Y=js(lt)?"_blank":d),io(lt)&&(c=c||"http://localhost",Ae.scrollbars="yes");const Qe=Object.entries(Ae).reduce((cr,[fs,zl])=>`${cr}${fs}=${zl},`,"");if(function De(f=(0,z.ZQ)()){var c;return ne(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(lt)&&"_self"!==Y)return function yn(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",Y),new Ov(null);const Tt=window.open(c||"",Y,Qe);T(Tt,f,"popup-blocked");try{Tt.focus()}catch{}return new Ov(Tt)}(c,Y,Hu())})()}_openRedirect(c,d,p,_){var w=this;return(0,y.A)(function*(){return yield w._originValidation(c),function hv(f){_n().location.href=f}(yield Pd(c,d,p,de(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:w}=this.eventManagers[d];return _?Promise.resolve(_):(J(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,y.A)(function*(){const p=yield function Aw(f){return Md.apply(this,arguments)}(c),_=new Rv(c);return p.register("authEvent",w=>(T(null==w?void 0:w.authEvent,c,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Ju,{type:Ju},_=>{var w;const P=null===(w=null==_?void 0:_[0])||void 0===w?void 0:w[Ju];void 0!==P&&d(!!P),Ue(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Pv(f){return Op.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Rt()||Fo()||ne()}};class Mw{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return ee("unexpected MultiFactorSessionType")}}}class Nd extends Mw{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Nd(c)}_finalizeEnroll(c,d,p){return function cw(f,c){return Me(f,"POST","/v2/accounts/mfaEnrollment:finalize",q(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function pv(f,c){return Me(f,"POST","/v2/accounts/mfaSignIn:finalize",q(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oi=(()=>{class f{constructor(){}static assertion(d){return Nd._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Fv="@firebase/auth";class Pw{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,y.A)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c((null==p?void 0:p.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oa(){return window}(0,z.XA)("authIdTokenMaxAge"),function Vt(f){En=f}({loadJS:f=>new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const w=Pe("internal-error");w.customData=_,d(w)},p.type="text/javascript",p.charset="UTF-8",function jp(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $p(f){(0,_e._registerComponent)(new H.uA("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),w=c.getProvider("app-check-internal"),{apiKey:P,authDomain:Y}=p.options;T(P&&!P.includes(":"),"invalid-api-key",{appName:p.name});const Ae={apiKey:P,authDomain:Y,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vt(f)},lt=new xa(p,_,w,Ae);return function se(f,c){const d=(null==c?void 0:c.persistence)||[],p=(Array.isArray(d)?d:[d]).map(xn);null!=c&&c.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,null==c?void 0:c.popupRedirectResolver)}(lt,d),lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new H.uA("auth-internal",c=>{const d=qn(c.getProvider("auth").getImmediate());return new Pw(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Fv,"1.7.0",function Nw(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,_e.registerVersion)(Fv,"1.7.0","esm2017")}("Browser");function Od(){return Od=(0,y.A)(function*(f,c,d){var p;const{BuildInfo:_}=oa();J(c.sessionId,"AuthEvent did not contain a session ID");const w=yield function Fw(f){return Gp.apply(this,arguments)}(c.sessionId),P={};return ne()?P.ibi=_.packageName:wo()?P.apn=_.packageName:Ue(f,"operation-not-supported-in-this-environment"),_.displayName&&(P.appDisplayName=_.displayName),P.sessionId=w,Pd(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,P)}),Od.apply(this,arguments)}function zp(){return(zp=(0,y.A)(function*(f){const{BuildInfo:c}=oa(),d={};ne()?d.iosBundleId=c.packageName:wo()?d.androidPackageName=c.packageName:Ue(f,"operation-not-supported-in-this-environment"),yield Mv(f,d)})).apply(this,arguments)}function Wn(){return(Wn=(0,y.A)(function*(f,c,d){const{cordova:p}=oa();let _=()=>{};try{yield new Promise((w,P)=>{let Y=null;function Ae(){var Tt;w();const cr=null===(Tt=p.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof cr&&cr(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function lt(){Y||(Y=window.setTimeout(()=>{P(Pe(f,"redirect-cancelled-by-user"))},2e3))}function Qe(){"visible"===(null==document?void 0:document.visibilityState)&&lt()}c.addPassiveListener(Ae),document.addEventListener("resume",lt,!1),wo()&&document.addEventListener("visibilitychange",Qe,!1),_=()=>{c.removePassiveListener(Ae),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",Qe,!1),Y&&window.clearTimeout(Y)}})}finally{_()}})).apply(this,arguments)}function Gp(){return(Gp=(0,y.A)(function*(f){const c=function Lw(f){if(J(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Bv extends Rv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,y.A)(function*(){yield c.initPromise})()}}function Uv(f){return jl.apply(this,arguments)}function jl(){return(jl=(0,y.A)(function*(f){const c=yield nc()._get(Ld(f));return c&&(yield nc()._remove(Ld(f))),c})).apply(this,arguments)}function Fd(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function nc(){return xn(Pl)}function Ld(f){return Jt("authEvent",f.config.apiKey,f.name)}function Ps(f){if(null==f||!f.includes("?"))return{};const[c,...d]=f.split("?");return(0,z.I9)(d.join("?"))}const qp=class $w{constructor(){this._redirectPersistence=Rs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xp,this._overrideRedirectResult=Ii}_initialize(c){var d=this;return(0,y.A)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new Bv(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){Ue(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var w=this;return(0,y.A)(function*(){!function kw(f){var c,d,p,_,w,P,Y,Ae,lt,Qe;const Tt=oa();T("function"==typeof(null===(c=null==Tt?void 0:Tt.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),T(typeof(null===(d=null==Tt?void 0:Tt.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),T("function"==typeof(null===(w=null===(_=null===(p=null==Tt?void 0:Tt.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===w?void 0:w.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),T("function"==typeof(null===(Ae=null===(Y=null===(P=null==Tt?void 0:Tt.cordova)||void 0===P?void 0:P.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Ae?void 0:Ae.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),T("function"==typeof(null===(Qe=null===(lt=null==Tt?void 0:Tt.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===Qe?void 0:Qe.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const P=yield w._initialize(c);yield P.initialized(),P.resetRedirect(),function bv(){Ll.clear()}(),yield w._originValidation(c);const Y=function tc(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:Fd(),postBody:null,tenantId:f.tenantId,error:Pe(f,"no-auth-event")}}(c,p,_);yield function ds(f,c){return nc()._set(Ld(f),c)}(c,Y);const Ae=yield function Vv(f,c,d){return Od.apply(this,arguments)}(c,Y,d),lt=yield function Ei(f){const{cordova:c}=oa();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function Q(f=(0,z.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(Ae);return function Qa(f,c,d){return Wn.apply(this,arguments)}(c,P,lt)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Hp(f){return zp.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:w}=oa(),P=setTimeout((0,y.A)(function*(){yield Uv(c),d.onEvent(Hv())}),500),Y=function(){var Qe=(0,y.A)(function*(Tt){clearTimeout(P);const cr=yield Uv(c);let fs=null;cr&&null!=Tt&&Tt.url&&(fs=function kd(f,c){var d,p;const _=function Vw(f){const c=Ps(f),d=c.link?decodeURIComponent(c.link):void 0,p=Ps(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Ps(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const w=Ps(_),P=w.firebaseError?function jv(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,Y=null===(p=null===(d=null==P?void 0:P.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],Ae=Y?Pe(Y):null;return Ae?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(cr,Tt.url)),d.onEvent(fs||Hv())});return function(cr){return Qe.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,Y);const Ae=_,lt=`${w.packageName.toLowerCase()}://`;oa().handleOpenURL=function(){var Qe=(0,y.A)(function*(Tt){if(Tt.toLowerCase().startsWith(lt)&&Y({url:Tt}),"function"==typeof Ae)try{Ae(Tt)}catch(cr){console.error(cr)}});return function(Tt){return Qe.apply(this,arguments)}}()}};function Hv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}function Ya(){var f;return(null===(f=null==self?void 0:self.location)||void 0===f?void 0:f.protocol)||null}function zv(f=(0,z.ZQ)()){return!("file:"!==Ya()&&"ionic:"!==Ya()&&"capacitor:"!==Ya()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kp(){try{const f=self.localStorage,c=Hu();if(f)return f.setItem(c,"1"),f.removeItem(c),!function rP(f=(0,z.ZQ)()){return function Wp(){return(0,z.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Vd(f=(0,z.ZQ)()){return/Edge\/\d+/.test(f)}(f)}()||(0,z.zW)()}catch{return $d()&&(0,z.zW)()}return!1}function $d(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qp(){return(function ic(){return"http:"===Ya()||"https:"===Ya()}()||(0,z.sr)()||zv())&&!function oc(){return(0,z.lV)()||(0,z.Ll)()}()&&Kp()&&!$d()}function Bo(){return zv()&&typeof document<"u"}function Hl(){return(Hl=(0,y.A)(function*(){return!!Bo()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const Gi={LOCAL:"local",NONE:"none",SESSION:"session"},sa=T,Bd="persistence";function Ud(f){return jd.apply(this,arguments)}function jd(){return(jd=(0,y.A)(function*(f){yield f._initializationPromise;const c=Xp(),d=Jt(Bd,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function Xp(){var f;try{return(null===(f=function Yp(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const zw=T;class Uo{constructor(){this.browserResolver=xn(kv),this.cordovaResolver=xn(qp),this.underlyingResolver=null,this._redirectPersistence=Rs,this._completeRedirectFn=xp,this._overrideRedirectResult=Ii}_initialize(c){var d=this;return(0,y.A)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var w=this;return(0,y.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var w=this;return(0,y.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Bo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zw(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,y.A)(function*(){if(c.underlyingResolver)return;const d=yield function jw(){return Hl.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function aa(f){return f.unwrap()}function qv(f){return Xa(f)}function Xa(f){const{_tokenResponse:c}=f instanceof z.g?f.customData:f;if(!c)return null;if(!(f instanceof z.g)&&"temporaryProof"in c&&"phoneNumber"in c)return Ha.credentialFromResult(f);const d=c.providerId;if(!d||d===Ze.PASSWORD)return null;let p;switch(d){case Ze.GOOGLE:p=X_;break;case Ze.FACEBOOK:p=Lu;break;case Ze.GITHUB:p=Z_;break;case Ze.TWITTER:p=Ds;break;default:const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:P,pendingToken:Y,nonce:Ae}=c;return w||P||_||Y?Y?d.startsWith("saml.")?Fa._create(d,Y):ji._fromParams({providerId:d,signInMethod:d,pendingToken:Y,idToken:_,accessToken:w}):new Ks(d).credential({idToken:_,accessToken:w,rawNonce:Ae}):null}return f instanceof z.g?p.credentialFromError(f):p.credentialFromResult(f)}function Ur(f,c){return c.catch(d=>{throw d instanceof z.g&&function Wv(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===(null==c?void 0:c.code))c.resolver=new sr(f,function yp(f,c){var d;const p=(0,z.Ku)(f),_=c;return T(c.customData.operationType,p,"argument-error"),T(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),vp._fromError(p,_)}(f,c));else if(p){const _=Xa(c),w=c;_&&(w.credential=_,w.tenantId=p.tenantId||void 0,w.email=p.email||void 0,w.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:qv(d),additionalUserInfo:_d(d),user:jo.getOrCreate(_)}})}function Pr(f,c){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,y.A)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>Ur(f,d.confirm(p))}})).apply(this,arguments)}class sr{constructor(c,d){this.resolver=d,this.auth=function Gw(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Ur(aa(this.auth),this.resolver.resolveSignIn(c))}}class jo{constructor(c){this._delegate=c,this.multiFactor=function dw(f){const c=(0,z.Ku)(f);return ju.has(c)||ju.set(c,ea._fromUser(c)),ju.get(c)}(c)}static getOrCreate(c){return jo.USER_MAP.has(c)||jo.USER_MAP.set(c,new jo(c)),jo.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,y.A)(function*(){return Ur(d.auth,Bu(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,y.A)(function*(){return Pr(p.auth,function yi(f,c,d){return Qu.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,y.A)(function*(){return Ur(d.auth,function XM(f,c,d){return yv.apply(this,arguments)}(d._delegate,c,Uo))})()}linkWithRedirect(c){var d=this;return(0,y.A)(function*(){return yield Ud(qn(d.auth)),ls(d._delegate,c,Uo)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,y.A)(function*(){return Ur(d.auth,tw(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return Pr(this.auth,function ja(f,c,d){return Fl.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Ur(this.auth,function YM(f,c,d){return vv.apply(this,arguments)}(this._delegate,c,Uo))}reauthenticateWithRedirect(c){var d=this;return(0,y.A)(function*(){return yield Ud(qn(d.auth)),Ew(d._delegate,c,Uo)})()}sendEmailVerification(c){return function ow(f,c){return md.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,y.A)(function*(){return yield function ew(f,c){return ep.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function $o(f,c){const d=(0,z.Ku)(f);return(0,_e._isFirebaseServerApp)(d.auth.app)?Promise.reject(S(d.auth)):At(d,c,null)}(this._delegate,c)}updatePassword(c){return function ov(f,c){return At((0,z.Ku)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function vw(f,c){return Ap.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function lw(f,c){return fp.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function sw(f,c,d){return hp.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jo.USER_MAP=new WeakMap;const sc=T;let Jp=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;sc(_,"invalid-api-key",{appName:d.name}),sc(_,"invalid-api-key",{appName:d.name});const w=typeof window<"u"?Uo:void 0;this._delegate=p.initialize({options:{persistence:qw(_,d.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function He(f,c,d){const p=qn(f);T(p._canInitEmulator,p,"emulator-config-failed"),T(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!(null==d||!d.disableWarnings),w=$e(c),{host:P,port:Y}=function tt(f){const c=$e(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:Ct(p.substr(w.length+1))}}{const[w,P]=p.split(":");return{host:w,port:Ct(P)}}}(c);p.config.emulator={url:`${w}//${P}${null===Y?"":`:${Y}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:P,port:Y,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Pt(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function or(f,c){return sp.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return fd(this._delegate,d)}confirmPasswordReset(d,p){return function hd(f,c,d){return Hi.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,y.A)(function*(){return Ur(_._delegate,function rv(f,c,d){return gd.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function iw(f,c){return dp.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function rw(f,c){const d=Jr.parseLink(c);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,y.A)(function*(){sc(Qp(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function Sv(f,c){return Np.apply(this,arguments)}(d._delegate,Uo);return p?Ur(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Bw(f,c){qn(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:w,error:P,complete:Y}=hs(d,p,_);return this._delegate.onAuthStateChanged(w,P,Y)}onIdTokenChanged(d,p,_){const{next:w,error:P,complete:Y}=hs(d,p,_);return this._delegate.onIdTokenChanged(w,P,Y)}sendSignInLinkToEmail(d,p){return function ap(f,c,d){return lp.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function op(f,c,d){return Rl.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,y.A)(function*(){let _;switch(function Hw(f,c){sa(Object.values(Gi).includes(c),f,"invalid-persistence-type"),(0,z.lV)()?sa(c!==Gi.SESSION,f,"unsupported-persistence-type"):(0,z.Ll)()?sa(c===Gi.NONE,f,"unsupported-persistence-type"):$d()?sa(c===Gi.NONE||c===Gi.LOCAL&&(0,z.zW)(),f,"unsupported-persistence-type"):sa(c===Gi.NONE||Kp(),f,"unsupported-persistence-type")}(p._delegate,d),d){case Gi.SESSION:_=Rs;break;case Gi.LOCAL:_=(yield xn($t)._isAvailable())?$t:Pl;break;case Gi.NONE:_=Mr;break;default:return Ue("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Ur(this._delegate,function ad(f){return Vu.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Ur(this._delegate,$u(this._delegate,d))}signInWithCustomToken(d){return Ur(this._delegate,function ip(f,c){return Zs.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Ur(this._delegate,function nw(f,c,d){return(0,_e._isFirebaseServerApp)(f.app)?Promise.reject(S(f)):$u((0,z.Ku)(f),Y_.credential(c,d)).catch(function(){var p=(0,y.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Ss(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Ur(this._delegate,function Vo(f,c,d){return up.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Pr(this._delegate,function bp(f,c,d){return ni.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,y.A)(function*(){return sc(Qp(),p._delegate,"operation-not-supported-in-this-environment"),Ur(p._delegate,function QM(f,c,d){return _v.apply(this,arguments)}(p._delegate,d,Uo))})()}signInWithRedirect(d){var p=this;return(0,y.A)(function*(){return sc(Qp(),p._delegate,"operation-not-supported-in-this-environment"),yield Ud(p._delegate),Iw(p._delegate,d,Uo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function nv(f,c){return $a.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Gi,f})();function hs(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:P=>_(P&&jo.getOrCreate(P)),error:c,complete:d}}function qw(f,c){const d=function Gv(f,c){const d=Xp();if(!d)return[];const p=Jt(Bd,f,c);switch(d.getItem(p)){case Gi.NONE:return[Mr];case Gi.LOCAL:return[$t,Rs];case Gi.SESSION:return[Rs];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes($t)&&d.push($t),typeof window<"u")for(const p of[Pl,Rs])d.includes(p)||d.push(p);return d.includes(Mr)||d.push(Mr),d}class Hd{constructor(){this.providerId="phone",this._delegate=new Ha(aa(Fe.A.auth()))}static credential(c,d){return Ha.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Hd.PHONE_SIGN_IN_METHOD=Ha.PHONE_SIGN_IN_METHOD,Hd.PROVIDER_ID=Ha.PROVIDER_ID;const eg=T;class zd{constructor(c,d,p=Fe.A.app()){var _;eg(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new Ad(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ww(f){f.INTERNAL.registerComponent(new H.uA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new Jp(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Y_,FacebookAuthProvider:Lu,GithubAuthProvider:Z_,GoogleAuthProvider:X_,OAuthProvider:Ks,SAMLAuthProvider:sd,PhoneAuthProvider:Hd,PhoneMultiFactorGenerator:Oi,RecaptchaVerifier:zd,TwitterAuthProvider:Ds,Auth:Jp,AuthCredential:Oe,Error:z.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.5")}(Fe.A)},467:(Fn,Ot,ae)=>{"use strict";function y(_e,z,bt,qe,H,We,Ze){try{var te=_e[We](Ze),W=te.value}catch(Ie){return void bt(Ie)}te.done?z(W):Promise.resolve(W).then(qe,H)}function Fe(_e){return function(){var z=this,bt=arguments;return new Promise(function(qe,H){var We=_e.apply(z,bt);function Ze(W){y(We,qe,H,Ze,te,"next",W)}function te(W){y(We,qe,H,Ze,te,"throw",W)}Ze(void 0)})}}ae.d(Ot,{A:()=>Fe})},1635:(Fn,Ot,ae)=>{"use strict";function z(O,D){var x={};for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&D.indexOf(j)<0&&(x[j]=O[j]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var ye=0;for(j=Object.getOwnPropertySymbols(O);ye<j.length;ye++)D.indexOf(j[ye])<0&&Object.prototype.propertyIsEnumerable.call(O,j[ye])&&(x[j[ye]]=O[j[ye]])}return x}function bt(O,D,x,j){var Me,ye=arguments.length,q=ye<3?D:null===j?j=Object.getOwnPropertyDescriptor(D,x):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(O,D,x,j);else for(var at=O.length-1;at>=0;at--)(Me=O[at])&&(q=(ye<3?Me(q):ye>3?Me(D,x,q):Me(D,x))||q);return ye>3&&q&&Object.defineProperty(D,x,q),q}function Ie(O,D,x,j){return new(x||(x=Promise))(function(q,Me){function at(Mt){try{Et(j.next(Mt))}catch(hn){Me(hn)}}function Je(Mt){try{Et(j.throw(Mt))}catch(hn){Me(hn)}}function Et(Mt){Mt.done?q(Mt.value):function ye(q){return q instanceof x?q:new x(function(Me){Me(q)})}(Mt.value).then(at,Je)}Et((j=j.apply(O,D||[])).next())})}function Ne(O){return this instanceof Ne?(this.v=O,this):new Ne(O)}function Ue(O,D,x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,j=x.apply(O,D||[]),q=[];return ye={},Me("next"),Me("throw"),Me("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function Me(gt){j[gt]&&(ye[gt]=function(fn){return new Promise(function(Ht,Ee){q.push([gt,fn,Ht,Ee])>1||at(gt,fn)})})}function at(gt,fn){try{!function Je(gt){gt.value instanceof Ne?Promise.resolve(gt.value.v).then(Et,Mt):hn(q[0][2],gt)}(j[gt](fn))}catch(Ht){hn(q[0][3],Ht)}}function Et(gt){at("next",gt)}function Mt(gt){at("throw",gt)}function hn(gt,fn){gt(fn),q.shift(),q.length&&at(q[0][0],q[0][1])}}function Ye(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,D=O[Symbol.asyncIterator];return D?D.call(O):(O=function Se(O){var D="function"==typeof Symbol&&Symbol.iterator,x=D&&O[D],j=0;if(x)return x.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&j>=O.length&&(O=void 0),{value:O&&O[j++],done:!O}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),x={},j("next"),j("throw"),j("return"),x[Symbol.asyncIterator]=function(){return this},x);function j(q){x[q]=O[q]&&function(Me){return new Promise(function(at,Je){!function ye(q,Me,at,Je){Promise.resolve(Je).then(function(Et){q({value:Et,done:at})},Me)}(at,Je,(Me=O[q](Me)).done,Me.value)})}}}ae.d(Ot,{AQ:()=>Ue,Cg:()=>bt,N3:()=>Ne,Tt:()=>z,sH:()=>Ie,xN:()=>Ye}),"function"==typeof SuppressedError&&SuppressedError}},Fn=>{Fn(Fn.s=1994)}]);